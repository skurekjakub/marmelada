<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Configuring scheduled task execution - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico_11_Documentation_Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68881906"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico_11_Documentation_Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Configuring_Kentico.html">Configuring Kentico</a></li>
                                                                                     <li><a href="Scheduling_tasks.html">Scheduling tasks</a></li>
                                                            </ul>
</div>            <h1 id="src-68881906"> <span>Configuring scheduled task execution</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
        $page.content
<p   
>This page explains how to configure execution of scheduled tasks. Scheduled tasks can be executed:</p>
<ul class=" "><li class=" "><p   
><a   href="#src-68881906_Configuringscheduledtaskexecution-ConfiguringexecutionbytheKenticoapplication">By the Kentico web application itself</a></p>
</li><li class=" "><p   
><a   href="#src-68881906_Configuringscheduledtaskexecution-ConfiguringexecutionbytheWindowsservice">By a dedicated external Windows service</a></p>
</li></ul><p   
>You can have both approaches enabled and execute some tasks directly in Kentico and other tasks via the external Windows service.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Scheduling reliability</strong></p>
<p   
>Task execution by the Kentico application runs within the ASP.NET process, so tasks cannot be executed if the web application is not running. The application stops running when the process is recycled without being started again (after a long period of website inactivity).</p>
<p   
>If you want to run the scheduling reliably, we recommend using the Windows scheduling service.</p>
<p   
>To achieve reliable task execution without using the Windows scheduling service, you need to ensure that your website is always running. For example, you can prepare a utility or service that requests the home of your website on a regular basis.</p>
        </div>
    </div>
    <h3 id="src-68881906_Configuringscheduledtaskexecution-ConfiguringexecutionbytheKenticoapplication" class="heading "><span>Configuring execution by the Kentico application</span></h3>
<p   
>By default, all scheduled tasks are executed by the Kentico application.</p>
    <h4 id="src-68881906_Configuringscheduledtaskexecution-Settingthetaskexecutiontime" class="heading "><span>Setting the task execution time</span></h4>
<p   
>There are two levels of settings that determine when the system executes tasks:</p>
<ul class=" "><li class=" "><p   
><strong class=" ">Task interval</strong> - the properties of individual scheduled tasks determine when tasks are ready for execution.</p>
</li><li class=" "><p   
><strong class=" ">Application scheduler interval - </strong>determines the time interval after which the application checks if any tasks are ready to be executed.</p>
</li></ul>    <div  class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-68881906_Configuringscheduledtaskexecution-ConfiguringexecutionbytheKenticoapplication">Configuring execution by the Kentico application</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-68881906_Configuringscheduledtaskexecution-Settingthetaskexecutiontime">Setting the task execution time</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-68881906_Configuringscheduledtaskexecution-ConfiguringexecutionbytheWindowsservice">Configuring execution by the Windows service</a></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-68881906_Configuringscheduledtaskexecution-EnablingtheWindowsschedulerservice">Enabling the Windows scheduler service</a></p>
</li><li class=" "><p   
><a   href="#src-68881906_Configuringscheduledtaskexecution-Settingthetaskexecutiontime.1">Setting the task execution time</a></p>
</li></ul></li><li class=" "><p   
><a   href="#src-68881906_Configuringscheduledtaskexecution-Additionallow-levelsettings">Additional low-level settings</a></p>
</li></ul><p   
></p>
        </div>
    </div>
    <div  class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p   
><a   href="Scheduling_custom_tasks.html">Scheduling custom tasks</a></p>
</li><li class=" "><p   
><a   href="Reference_-_scheduled_task_properties.html">Reference - scheduled task properties</a></p>
</li></ul>        </div>
    </div>
    <h5 id="src-68881906_Configuringscheduledtaskexecution-Taskinterval" class="heading "><span>Task interval</span></h5>
<p   
>To configure the interval that determines when individual scheduled tasks are ready to be executed:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Scheduled tasks</strong> application.</p>
</li><li class=" "><p   
>Edit (<img  class="confluence-embedded-image"  src="images/download/attachments/68879208/edit.png" alt="images/download/attachments/68879208/edit.png"   />
) the scheduled task.</p>
</li><li class=" "><p   
>Set the task&#39;s scheduling options (Period, Start time, Every, Between, Days).</p>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong>.</p>
</li></ol>    <h5 id="src-68881906_Configuringscheduledtaskexecution-Applicationschedulerinterval" class="heading "><span>Application scheduler interval</span></h5>
<p   
>To configure how frequently the application checks if there are any tasks ready to be executed:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Settings</strong> application.</p>
</li><li class=" "><p   
>Select the <strong class=" ">System</strong> category.</p>
</li><li class=" "><p   
>Type a number of seconds into the <strong class=" ">Application scheduler interval</strong> setting.</p>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong>.</p>
</li></ol><p   
>Execution of scheduled tasks by the Kentico application has two modes.</p>
<p   
><u class=" "><strong class=" ">Request-based scheduler mode<br/></strong></u></p>
<p   
>This is the default mode. The application performs checks at the end of each standard page request. This means that tasks are only executed when user activity on your website generates requests.</p>
<p   
>In this case, the <strong class=" ">Application scheduler interval</strong> sets the minimum time between the checks:</p>
<ul class=" "><li class=" "><p   
>For example, a value of 60 means that the application checks after 60 seconds even if multiple page requests occur per minute. Tasks are NOT executed if there are no page requests.</p>
</li><li class=" "><p   
>0 disables the execution of tasks by the application.</p>
</li></ul><p   
><u class=" "><strong class=" "><u class=" "><strong class=" "><span id="src-68881906_Configuringscheduledtaskexecution-AutomaticMode"></span></strong></u>Automatic scheduler mode<br/></strong></u></p>
<p   
>You can configure the scheduler to process tasks regularly according to an <strong class=" ">automatic internal timer</strong>, regardless of website activity. To enable this mode, add the <strong class=" ">CMSUseAutomaticScheduler</strong> key into the <i class=" ">/configuration/appSettings</i> section of your web.config file:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;add key=</code><code class="string">"CMSUseAutomaticScheduler"</code><code class="plain"> value=</code><code class="string">"true"</code><code class="plain"> /&gt;</code></div>
</div>
    </div>
<p   
>In this case, the <strong class=" ">Application scheduler interval</strong> sets the precise interval between the checks:</p>
<ul class=" "><li class=" "><p   
>Values between 1 - 30 seconds define the <strong class=" ">interval</strong> between checks. For example, a value of 30 means that the application checks tasks every 30 seconds.</p>
</li><li class=" "><p   
>0 disables the execution of tasks by the application.</p>
</li></ul>    <h3 id="src-68881906_Configuringscheduledtaskexecution-ConfiguringexecutionbytheWindowsservice" class="heading "><span>Configuring execution by the Windows service</span></h3>
<p   
>Executing tasks using the external Windows service is recommended for resource&#8209;consuming tasks, because the execution does not affect the performance of the Kentico application.</p>
    <h4 id="src-68881906_Configuringscheduledtaskexecution-EnablingtheWindowsschedulerservice" class="heading "><span>Enabling the Windows scheduler service</span></h4>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Prerequisites<br/></strong></p>
<p   
>You need to have the <a   href="Installing_the_Scheduler_Windows_service.html">Kentico Scheduler Windows service</a> installed and running.</p>
        </div>
    </div>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Note</strong></p>
<p   
>Only some of the default scheduled tasks support this option. The tasks that do not have the option available in the editing interface must be processed by the application itself.</p>
        </div>
    </div>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Settings</strong> application.</p>
</li><li class=" "><p   
>Select the <strong class=" ">System</strong> category.</p>
</li><li class=" "><p   
>Enable the <strong class=" ">Use external service</strong> setting.</p>
</li><li class=" "><p   
>In the <strong class=" ">Scheduled tasks</strong> application, enable the <strong class=" ">Use external service</strong> option for individual tasks.<br/></p>
<ul class=" "><li class=" "><p   
>Tasks with the <strong class=" ">Use external service</strong> option disabled will be executed by the Kentico application itself.</p>
</li><li class=" "><p   
>If the <strong class=" ">Use external service</strong> setting in the <strong class=" ">Settings </strong>application is disabled, even tasks with the <strong class=" ">Use external service</strong> option enabled are processed by the Kentico application itself.</p>
</li></ul></li></ol>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Resolving context macros when executing tasks by the Windows service</strong></p>
<p   
>Tasks that are executed by the Windows service cannot resolve <a   href="Macro_expressions.html">macros</a> dependent on application context (for example <i class=" ">{% ApplicationPath %}</i>). The context is not available when tasks are executed outside the application. Therefore, you cannot execute such tasks using the Windows service.</p>
        </div>
    </div>
    <h4 id="src-68881906_Configuringscheduledtaskexecution-Settingthetaskexecutiontime.1" class="heading "><span>Setting the task execution time</span></h4>
<p   
>There are two levels of settings that determine when the Windows scheduler service executes tasks:</p>
<ul class=" "><li class=" "><p   
><strong class=" ">Task interval</strong> - the properties of individual scheduled tasks determine when tasks are ready for execution.</p>
</li><li class=" "><p   
><strong class=" ">Service scheduler interval - </strong>determines the time interval after which the service checks if any tasks are ready to be executed.</p>
</li></ul>    <h5 id="src-68881906_Configuringscheduledtaskexecution-Taskinterval.1" class="heading "><span>Task interval</span></h5>
<p   
>To configure the interval that determines when individual scheduled tasks are ready to be executed:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Scheduled tasks</strong> application.</p>
</li><li class=" "><p   
>Edit (<img  class="confluence-embedded-image"  src="images/download/attachments/68879208/edit.png" alt="images/download/attachments/68879208/edit.png"   />
) the scheduled task.</p>
</li><li class=" "><p   
>Set the task&#39;s scheduling options (Period, Start time, Every, Between, Days).</p>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong>.</p>
</li></ol>    <h5 id="src-68881906_Configuringscheduledtaskexecution-Serviceschedulerinterval" class="heading "><span>Service scheduler interval</span></h5>
<p   
>To configure how frequently the Windows scheduler service checks if there are any tasks ready to be executed:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Settings</strong> application.</p>
</li><li class=" "><p   
>Select the <strong class=" ">System</strong> category.</p>
</li><li class=" "><p   
>Type a number of seconds into the <strong class=" ">Service scheduler interval</strong> setting.</p>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong>.</p>
</li></ol>    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>This setting only applies to tasks that are configured to be executed by the Windows service, not by the application itself.</p>
        </div>
    </div>
<p   
>The <strong class=" ">Service scheduler interval</strong> sets the precise interval between the checks:</p>
<ul class=" "><li class=" "><p   
>Values between 1 - 30 seconds define the <strong class=" ">interval</strong> between checks.</p>
<ul class=" "><li class=" "><p   
>For example, a value 30 means, that the service checks tasks every 30 seconds.</p>
</li></ul></li><li class=" "><p   
>0 disables the execution of tasks by the external service.</p>
</li></ul>    <h3 id="src-68881906_Configuringscheduledtaskexecution-Additionallow-levelsettings" class="heading "><span>Additional low-level settings</span></h3>
<p   
>Additional low-level scheduled task settings can be done by adding the keys listed in the <strong class=" ">Scheduler settings</strong> section of the <a   href="Reference_-_Web.config_application_keys.html">Web.config application keys</a> reference.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
