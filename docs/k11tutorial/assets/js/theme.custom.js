var longToByteArray=function(e){for(var t=[0,0,0,0],o=0;o<t.length;o++){var n=255&e;t[o]=n,e=(e-n)/256}return t},pageIdToB64=function(e){return btoa(longToByteArray(e).map(String.fromCharCode).map((function(e){return e[0]})).join("")).replace(/=/g,"")},generateTinyId=function(e){for(var t=!0,o="",n=e.length-1;n>=0;n--){var a=e.charAt(n);"="!==a&&"\n"!=a&&(t&&"A"===a||(t=!1,o="/"===a?"-"+o:"+"===a?"_"+o:a+o))}if(o.length>0){var i=o.charAt(o.length-1);"-"!==i&&"_"!==i||(o+="/")}return o};CONFIG.CONFLUENCE_PAGE_TINYID=generateTinyId(pageIdToB64(CONFIG.CONFLUENCE_PAGE_ID));var displayPageUrlId=function(e){var t=CONFIG.CONFLUENCE_PAGE_TINYID;t?$.ajax({url:CONFIG.HELPSERVICE_URLID_ENDPOINT+t,success:function(e){var o=JSON.parse(e);o.hasOwnProperty("Identifier")?$("#pageUrlId").text(" Help Service ID: "+o.Identifier+" (TinyID: "+t+")"):$("#pageUrlId").text(" Help Service ID: "+o.Error)},timeout:800}):$("#pageUrlId").text("Error when generating the page tiny ID. See the console for details.")};Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"remove-initial-line-feed":!1,"tabs-to-spaces":4});var setExportPdf=function(){var e=$("body").attr("data-pagetitle");$("#export-pdf").attr("href","../pdf/".concat(CONFIG.CONFLUENCE_SPACE_KEY.toLowerCase(),"/").concat(e.toLowerCase().replace(/ /g,"-"),".pdf"))};$(document).ready(setExportPdf);var versionSwitcherData,openPageLink=function(e){CONFIG.CONFLUENCE_PAGE_TINYID?togglePageLinkPanel(CONFIG.BASE_URL+"/x/"+CONFIG.CONFLUENCE_PAGE_TINYID):togglePageLinkPanel(window.location.href)},togglePageLinkPanel=function(e){$("#page-link-textbox").attr("value",e),$("#page-link-panel").hasClass("show")?$("#page-link-panel").removeClass("show"):$("#page-link-panel").addClass("show")},copyPageLinkToClip=function(){void 0===navigator.clipboard?Snackbar.show({text:"An error occurred while copying the page link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"}):navigator.clipboard.writeText($("#page-link-textbox").attr("value")).then((function(){Snackbar.show({text:"Page link copied",pos:"top-right",showAction:!1,customClass:"box-general box-info",duration:"2500",backgroundColor:"#EEF3FC",textColor:"#151515"})})).catch((function(){Snackbar.show({text:"An error occurred while copying the page link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"})}))},closePageLink=function(){return $("#page-link-panel").removeClass("show")},getVersionTextFromVersionId=function(e){return DOCUMENTATION_VERSIONS.find((function(t){return t.versionId==e})).versionText},getVersionTextFromHelpServiceId=function(e){return DOCUMENTATION_VERSIONS.find((function(t){return t.helpServiceVersion==e})).versionText},loadVersionLinkData=function(e){$.ajax({dataType:"json",url:CONFIG.HELPSERVICE_LISTALTVERSIONLINKS_ENDPOINT+e,timeout:2e3,tryCount:0,retryLimit:3,success:function(e){versionSwitcherData=e},error:function(e,t,o){if("timeout"==t)return this.tryCount++,this.tryCount<=this.retryLimit?void $.ajax(this):void 0}})},versionLinkUpdateDone=!1,insertVersionLinks=function(e){void 0!==e?(versionLinkUpdateDone||(e.forEach((function(e){var t=$(".js-menuDdl-version a:contains("+getVersionTextFromHelpServiceId(e.VersionUrlId)+")");t&&(t.attr("href",e.Url),t.addClass(" populated"))})),$(".js-menuDdl-version a").toArray().forEach((function(e){e.classList.contains("populated")||(e.classList.add("empty"),"Xperience 13"===e.textContent?(e.setAttribute("href",CONFIG.XPERIENCE13_MISSING_PAGES_URL+"?ref="+$(location).attr("href").split("/").pop()),e.setAttribute("title","The current page is not available in the Xperience 13 documentation. \r\nYou will be redirected to a general guidance page.")):"Xperience by Kentico"===e.textContent?(e.setAttribute("href",CONFIG.XP_MISSING_PAGES_URL+"?ref="+$(location).attr("href").split("/").pop()),e.setAttribute("title","The current page is not available in the Xperience by Kentico documentation. \r\nYou will be redirected to a general guidance page.")):e.setAttribute("title","The current page is not available for this documentation version. \r\nYou will be redirected to the home page for this version."))})),versionLinkUpdateDone=!0),openCloseVersionDdl()):openCloseVersionDdl()},insertSearchVersionLinks=function(){versionLinkUpdateDone||($(".js-menuDdl-version a").each((function(){var e=this.href.split("/"),t=getDocVersion(e[e.length-1]),o="/"!==this.href.slice(-1)?"/":"";if(CONFIG.CONFLUENCE_DEVMODEL_VERSIONSWITCHER_WHITELIST.indexOf(t)>=0)this.href=this.href+o+"search"+window.location.search;else{for(var n=window.location.search.split("&"),a=n.length;a-- >0;)0==n[a].indexOf("l=")&&n.splice(a,1);this.href=this.href+o+"search"+n.join("&")}})),versionLinkUpdateDone=!0);openCloseVersionDdl()},openCloseDocTypeDdl=function(){$(".js-menuDdl-docType").toggleClass("show"),$(".js-menuDdlBtn-docType").toggleClass("opened")},openCloseVersionDdl=function(){$(".js-menuDdl-version").toggleClass("show"),$(".js-menuDdlBtn-version").toggleClass("opened")},getDocType=function(e){return/api/i.test(e)?"API Examples":/tutorial/i.test(e)?"Tutorial":"Documentation"},getDocVersion=function(e){switch(e){case"K12SP":case"API12SP":case"K12SPTutorial":return"12sp";case"XP":case"Tutorial":case"Api":return"xp";default:return e.replace(/[^0-9]/g,"")}},getVersionLinkTitle=function(e){return"12sp"===e?"Kentico 12 Service Pack":getVersionTextFromVersionId(e)},buildDocLink=function(e,t,o,n){var a,i="/";if(-1===CONFIG.OBSOLETE_SPACE_KEY_FORMAT_VERSIONS.indexOf(e)){var r="xp"===e?"":e;switch(t){case"Tutorial":a=r+"tutorial";break;case"API Examples":a=r+"api";break;default:a=e}a===CONFIG.DOC_ROOT_URL_SPACE_KEY&&(a="",i="/")}else switch(t){case"Tutorial":a="k"+e+"tutorial";break;case"API Examples":a="api"+e;break;default:a="k"+e}var s=o?t:getVersionTextFromVersionId(e);return'<li><a href="'+i+a+'"'+('class="'+(n?" current":"")+'"')+(' title="'+(o?t:getVersionLinkTitle(e))+'"')+">"+s+"</a></li>"},loadDocVersionHeaderList=function(e,t){var o=$('[name="confluence-user-logged-in"]').attr("content"),n=DOCUMENTATION_VERSIONS.filter((function(t){return("API Examples"!==e||"8"!==t.versionId&&"81"!==t.versionId&&"82"!==t.versionId)&&("true"===o||t.versionId!==CONFIG.DEV_DOCUMENTATION_VERSION_ID)&&"12"!==t.versionId})),a="";n.forEach((function(o){o.versionId==CONFIG.NEWEST_UNSUPPORTED_VERSION_ID&&(a+='<li class="js-unsupported-versions"><button class="header-ddl-button-nested js-unsupported-versions-button">All versions</button><ul class="menu-ddl-content nested-list docVersion js-unsupported-versions-list">'),a+=buildDocLink(o.versionId,e,!1,o.versionId==t)})),a+="</ul></li>",$(".js-menuDdlBtn-version").html(getVersionTextFromVersionId(t)),$(".js-menuDdl-version").html(a)};$(document).on("click",".js-unsupported-versions-button",(function(){$(".js-unsupported-versions-list").toggleClass("show"),$(".js-unsupported-versions-list").toggleClass("opened")}));var loadDocTypeHeaderList=function(e,t){var o=["Documentation","Tutorial","API Examples"];o=o.filter((function(t){return"8"!==e&&"81"!==e&&"82"!==e||"API Examples"!==t}));var n="";o.forEach((function(o){n+=buildDocLinkSpecial(e,o,!0,o==t)})),$(".js-menuDdlBtn-docType").html(t),$(".js-menuDdl-docType").html(n)},buildDocLinkSpecial=function(e,t,o,n){var a,i="../";if(-1===CONFIG.OBSOLETE_SPACE_KEY_FORMAT_VERSIONS.indexOf(e)){var r="xp"===e?"":e;switch(t){case"Tutorial":a=r+"tutorial";break;case"API Examples":a=r+"api";break;default:a=e}a===CONFIG.DOC_ROOT_URL_SPACE_KEY&&(a="",i="../")}else switch(t){case"Tutorial":a="k"+e+"tutorial";break;case"API Examples":a="api"+e;break;default:a="k"+e}var s=o?t:getVersionTextFromVersionId(e);return'<li><a href="'+i+a+'"'+('class="'+(n?" current":"")+'"')+(' title="'+(o?t:getVersionLinkTitle(e))+'"')+">"+s+"</a></li>"},loadHeaderLists=function(){var e=getDocVersion(CONFIG.CONFLUENCE_SPACE_KEY),t=getDocType(CONFIG.CONFLUENCE_SPACE_KEY);loadDocTypeHeaderList(e,t),loadDocVersionHeaderList(t,e)},registerPageTreeEventHandler=function(){$("ul.ht-pages-nav-top").on("click",".sp-toggle",(function(){var e=$(this).parent("li");e.is(".collapsed")?e.removeClass("collapsed").addClass("open"):e.is(".open")&&e.removeClass("open").addClass("collapsed")}))};$(document).ready(registerPageTreeEventHandler);var closeHeaderDropDowns=function(e){var t=$(".js-menuDdlBtn-docType"),o=$(".js-menuDdlBtn-version"),n=$(".js-unsupported-versions-button"),a=$(".js-unsupported-versions-list"),i=$(".js-menuDdlBtn-devModel"),r=$(".js-menuDdl-devModel");n.is(e.target)||(t.is(e.target)||0!==t.has(e.target).length||($(".js-menuDdl-docType").removeClass("show"),t.removeClass("opened")),o.is(e.target)||0!==o.has(e.target).length||($(".js-menuDdl-version").removeClass("show"),o.removeClass("opened"),a.removeClass("opened"),a.removeClass("show")),i.is(e.target)||0!==r.has(e.target).length||(r.removeClass("show"),i.removeClass("opened")))};$(document).ready(loadHeaderLists),$(document).click(closeHeaderDropDowns);var isDevModelSwitcherSupported=function(){var e=CONFIG.CONFLUENCE_SPACE_KEY;return!e.toLowerCase().includes("api")&&CONFIG.CONFLUENCE_DEVMODEL_VERSIONSWITCHER_WHITELIST.indexOf(getDocVersion(e))>=0},getPageLabels=function(){var e=$('[name="confluence-page-labels"]').attr("content");return e=(e=e.slice(1,-1)).split(", ")},setDevModelWebStorage=function(){if(isDevModelSwitcherSupported()&&"undefined"!=typeof Storage){var e=getPageLabels();if(e.indexOf("mvc")>=0)return void(localStorage.kenticoDocumentationMode="mvc");if(e.indexOf("pe")>=0)return void(localStorage.kenticoDocumentationMode="pe");var t=window.location.search;if(t.indexOf("devModel=mvc")>=0)return void(localStorage.kenticoDocumentationMode="mvc");if(t.indexOf("devModel=pe")>=0)return void(localStorage.kenticoDocumentationMode="pe");localStorage.kenticoDocumentationMode&&null!==localStorage.getItem("kenticoDocumentationMode")||(localStorage.kenticoDocumentationMode="mvc")}},getCurrentDevModel=function(){var e=getPageLabels();if(e.indexOf("mvc")>=0)return"mvc";if(e.indexOf("pe")>=0)return"pe";var t=window.location.search;return t.indexOf("devModel=mvc")>=0?"all|mvc":t.indexOf("devModel=pe")>=0?"all|pe":"undefined"!=typeof Storage&&localStorage.kenticoDocumentationMode?"all|"+localStorage.kenticoDocumentationMode:"all|mvc"},translateToHelpServiceVersion=function(e){return DOCUMENTATION_VERSIONS.find((function(t){return t.versionId==e})).helpServiceVersion},switchDevModelStorage=function(e){"undefined"!=typeof Storage&&(localStorage.kenticoDocumentationMode=e)},openCloseDevModelDdl=function(){$(".js-menuDdl-devModel").toggleClass("show"),$(".js-menuDdlBtn-devModel").toggleClass("opened")},devModelMap={mvc:"MVC",pe:"Portal Engine"},initAltDevModelLink=function(){if(isDevModelSwitcherSupported()){var e=getCurrentDevModel(),t=!1;0===e.indexOf("all|")&&(t=!0,e=e.split("|")[1]);var o="mvc"==e?"pe":"mvc";$(".js-"+e+"-model-link").addClass("active");var n=$(".js-"+o+"-model-link");if(n){if($(".js-menuDdlBtn-devModel").html(devModelMap[e]),t)return n.on("click",(function(){switchDevModelStorage(o);var e=window.location.pathname.split("/");if("search"==e[e.length-1])kenticoThemeOpenSearchResultsPage();else{var t=window.location.href.replace(window.location.hash,"");t=(t=t.replace("#","")).split("?devModel")[0],window.location.href=t}})),void currentModelElement.on("click",(function(e){e.preventDefault(),openCloseDevModelDdl()}));var a=$("#dev-model-alt").attr("data-devmodel-alt");if(a){var i=getDocVersion(CONFIG.CONFLUENCE_SPACE_KEY),r=translateToHelpServiceVersion(i),s=CONFIG.HELPSERVICE_LINKMAPPER_ENDPOINT+r+"&link="+a;n.on("click",(function(){switchDevModelStorage(o),window.location.href=s}))}else{$(".js-menuDdlBtn-devModel").prop("disabled",!0).prop("title","");var c="mvc"==e?"MVC":"Portal Engine",l="mvc"==o?"MVC":"Portal Engine",d='<a id="alt-model-home-link" href="'+($("#ajs-context-path").attr("content")+"/"+CONFIG.CONFLUENCE_SPACE_KEY.toLowerCase()+"?devModel="+o)+'">'+l+" Home page</a>";$(".js-dev-model-unavailable-text").html("<p>This page is only available for the "+c+" development model.<br />You can switch to the "+d+".</p>")}}}};$(document).ready(setDevModelWebStorage),$(document).ready(initAltDevModelLink);var setDevFrameworkButtons=function(){$(".js-dev-model-switch-core").click((function(){coreFrameworkOnClick()})),$(".js-dev-model-switch-mvc").click((function(){mvcFrameworkOnClick()})),$(".js-dev-model-switch-indicator").click((function(e){"core"===localStorage.kenticoDocumentationFramework?mvcFrameworkOnClick():coreFrameworkOnClick()})),$(".js-dev-model-switch-mvc, .js-dev-model-switch-core ").on("keyup",(function(e){e.preventDefault(),e.stopPropagation(),32===e.keyCode&&("core"===localStorage.kenticoDocumentationFramework?mvcFrameworkOnClick():coreFrameworkOnClick())}))},setDevFrameworkCheckbox=function(){"mvc"===localStorage.kenticoDocumentationFramework?($(".js-dev-model-switch-mvc").attr("checked",!0),$(".js-dev-model-switch").addClass("is-dev-model-mvc").removeClass("is-dev-model-core")):"core"===localStorage.kenticoDocumentationFramework&&($(".js-dev-model-switch-core").attr("checked",!0),$(".js-dev-model-switch").addClass("is-dev-model-core").removeClass("is-dev-model-mvc"))},setCorrectFramework=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(localStorage.kenticoDocumentationFramework&&null!==localStorage.getItem("kenticoDocumentationFramework")||(localStorage.kenticoDocumentationFramework="mvc"),e){var t=new URLSearchParams(window.location.search).get("devmodel");"mvc"!==t&&"core"!==t||(localStorage.kenticoDocumentationFramework=t)}"mvc"===localStorage.kenticoDocumentationFramework&&($(".dev-model-core").css("display","none"),$(".dev-model-mvc").css("display","block")),"core"===localStorage.kenticoDocumentationFramework&&($(".dev-model-mvc").css("display","none"),$(".dev-model-core").css("display","block")),setDevFrameworkCheckbox()},setHoverTitles=function(){var e="Switch the displayed development model in the switcher under the page heading";$(".dev-model-core .codeContent").attr("title",e),$(".dev-model-mvc .codeContent").attr("title",e)},coreFrameworkOnClick=function(){localStorage.kenticoDocumentationFramework="core",setCorrectFramework()},mvcFrameworkOnClick=function(){localStorage.kenticoDocumentationFramework="mvc",setCorrectFramework()},showDevFrameworkSwitcher=function(){$(".js-dev-model-switch").removeClass("is-hidden")},setDevFrameworkSwitcher=function(){$(".dev-model-core").length+$(".dev-model-mvc").length>0&&(setCorrectFramework(!0),setDevFrameworkButtons(),setDevFrameworkCheckbox(),showDevFrameworkSwitcher(),setHoverTitles())};$(document).ready(setDevFrameworkSwitcher);var initSidebar=function e(){if(null!==$(".ht-nav-page-link").first())if($(".ht-nav-page-link.current").length){var t=$("div.ht-sidebar-content"),o=$("#ht-headerbar").outerHeight(!0),n=$(".ht-nav-page-link.current")[0].getBoundingClientRect().top;0===$("div.ht-sidebar-content")[0].scrollTop&&t.animate({scrollTop:Math.round(n-o-t.outerHeight()/2.5)},0),$("#ht-sidebar").addClass("animate")}else window.requestAnimationFrame(e)};window.requestAnimationFrame(initSidebar);var kenticoThemeOpenSearchResultsPage=function(){var e=$(".search-input").val();e=encodeURIComponent(e);var t=document.querySelector("#check-show-all-search-results"),o=!(t&&t.checked);window.SCROLL_WEBHELP&&window.SCROLL_WEBHELP.search&&(window.SCROLL_WEBHELP.search.navigateToSearchPage(e,o),$("#ht-search").find(".ht-search-dropdown").removeClass("open"),$(".ht-search-dropdown a.hover").removeClass("hover"),$(document).unbind("keydown"))},toggleSearchSuggestions=function(e){var t=$("input.search-input"),o=$(".ht-search-dropdown"),n=$("#searchButton"),a=$(".ht-search-dropdown a.hover");t.is(e.target)||0!==t.has(e.target).length||o.is(e.target)||0!==o.has(e.target).length?$(".ht-search-dropdown li.search-key").length&&o.addClass("open"):(o.removeClass("open"),a.removeClass("hover"),!n.is(e.target)&&0===n.has(e.target).length&&window.innerWidth<=800&&window.innerWidth>499&&t.removeClass("show"))};$(document).click(toggleSearchSuggestions);var setContentTopPadding=function(){var e=$(".searchbox-area-behind").first();e.length&&$(".ht-content").first().css("padding-top",e.outerHeight(!0)+"px")};$(document).ready(setContentTopPadding),$(window).resize(setContentTopPadding);var setFooterWidth=function(){var e=document.documentElement.clientWidth,t=$("#ht-wrap-container").width(),o=$("#ht-wrap-container").offset().left,n=e-t-o;$("#ht-footer").css({right:-n,"padding-right":n,left:-o,"padding-left":o})};function onElementHeightChange(e,t){var o,n=e.clientHeight;!function a(){o=e.clientHeight,n!=o&&t(),n=o,e.onElementHeightChangeTimer&&clearTimeout(e.onElementHeightChangeTimer),e.onElementHeightChangeTimer=setTimeout(a,200)}()}$(document).ready(setFooterWidth),$(window).resize(setFooterWidth),onElementHeightChange(document.body,setFooterWidth),$("span.expand-control").click((function(){var e=$(this).parent().next(),t=$(this).find("span.expand-control-text");e.hasClass("collapse")?(e.removeClass("collapse"),t.text("Collapse source")):(e.addClass("collapse"),t.text("Expand source"))}));var getPageIdIfEditingAllowed=function(){var e=$("#sp-viewport-control-opener").length,t=$(".search-input").is(":focus");if(0!=e&&!t){var o=$("body").attr("pageid");return o||0}return 0};function openLink(e,t){t?window.open(e,"_blank").focus():window.open(e,"_self")}$("p").each((function(){""==$(this).text().trim()&&0==$(this).children().length&&$(this).hide()}));var showHideSearchTips=function(){$("#search-tips").hasClass("show")?hideFrontLayer():showFrontLayer()},showFrontLayer=function(){$("#search-tips").addClass("show"),document.getElementById("search-tips-mask").style.visibility="visible",document.getElementById("search-tips").style.visibility="visible"},hideFrontLayer=function(){document.getElementById("search-tips-mask").style.visibility="hidden",document.getElementById("search-tips").style.visibility="hidden",$("#search-tips").removeClass("show")},getCookie=function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var a=o[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},initCookieLevel=function(){""!==getCookie("xperience.cookieconsentlevel")&&($.cookie("xperience.cookieconsentlevel"),1?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.default",consent:{functionality_storage:"granted",personalization_storage:"denied",analytics_storage:"denied",ad_storage:"denied",security_storage:"denied"}})):2?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.default",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"denied",ad_storage:"denied",security_storage:"denied"}})):3?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.default",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"granted",ad_storage:"denied",security_storage:"denied"}})):4&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.default",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"granted",ad_storage:"granted",security_storage:"granted"}})))};$(document).ready(initCookieLevel);var createCookie=function(e,t,o,n){console.log("creating cookie ".concat(e," ").concat(t," ").concat(o," ").concat(n));var a;n="; domain="+n;if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),a="; expires="+i.toUTCString()}else a="";document.cookie=e+"="+t+a+"; path=/"+n},eraseCookie=function(e){createCookie(e,"",-1,"")},consentWithCookieUsage=function(){$("#cookie-banner").attr("style","display:none;"),createCookie("xperience.cookielevelselection",!0,365,window.location.host)},hideCookieConsentBanner=function(){!document.cookie.replace(/(?:(?:^|.*;\s*)xperience.cookielevelselection\s*\=\s*([^;]*).*$)|^.*$/,"$1")&&navigator.cookieEnabled||$("#cookie-banner").attr("style","display:none;")},setCookieLevel=function(e){e="marketing"===(e=e)?4:"analytical"===e?3:"preference"===e?2:1,consentWithCookieUsage(),createCookie("xperience.cookieconsentlevel",e,365,window.location.host),1===e?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.update",consent:{functionality_storage:"granted",personalization_storage:"denied",analytics_storage:"denied",ad_storage:"denied",security_storage:"denied"}})):3===e&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.update",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"granted",ad_storage:"denied",security_storage:"denied"}}))};$(document).ready((function(){hideCookieConsentBanner()}));var copyHeadingLink=function(e){var t=$(e.target),o=window.location.origin+window.location.pathname+"#"+t.parent().attr("id");void 0===navigator.clipboard?Snackbar.show({text:"An error occurred while copying the heading link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"}):navigator.clipboard.writeText(o).then((function(){Snackbar.show({text:"Heading link copied",pos:"top-right",showAction:!1,customClass:"box-general box-info",duration:"2500",backgroundColor:"#EEF3FC",textColor:"#151515"}),t.addClass("copied")})).catch((function(){Snackbar.show({text:"An error occurred while copying the heading link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"})}))},copyIconMouseOut=function(e){var t=$(e.target);t.hasClass("copied")&&t.removeClass("copied")};$("#main-content h2, #main-content .sp-grid-60 h3, #main-content h3").not("div.box-general h2, div.box-general h3, h2:has(a), h3:has(a)").append('<span title="Copy link to heading" class="heading-link-icon icon-chain" onclick="copyHeadingLink(event)" onmouseout="copyIconMouseOut(event)"></span>');var initFooterLinks=function(){$("a.js-qa-link").attr("href",THEME_CONFIG.KENTICO_QA_LINK),$("a.js-support-link").attr("href",THEME_CONFIG.KENTICO_SUPPORT_LINK),0==$("#main-content").text().trim().length&&($("#main-content").append("This section collects all pages related to the topic. Use the page tree to navigate the section."),$("#main-content").append($("a.ht-nav-page-link.current").parent().children().last().clone()))};$(document).ready(initFooterLinks);var fixHeadingsUpper=function(){0!==$("#main-content h1").length&&$("#main-content h1").each((function(e){$(this).replaceWith('<h2 id="'.concat(this.id,'" class="').concat(this.className,'">')+$(this).html()+"</h2>")}))},fixHeadingsLower=function(){0===$("#main-content h2").length&&0!==$("#main-content h3").length&&$("#main-content h3").each((function(e){$(this).replaceWith('<h2 id="'.concat(this.id,'" class="').concat(this.className,'">')+$(this).html()+"</h2>")}))};window.addEventListener("DOMContentLoaded",(function(e){fixHeadingsUpper(),fixHeadingsLower()}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZW1lLmN1c3RvbS5qcyJdLCJuYW1lcyI6WyJsb25nVG9CeXRlQXJyYXkiLCJsb25nIiwiYnl0ZUFycmF5IiwiaW5kZXgiLCJsZW5ndGgiLCJieXRlIiwicGFnZUlkVG9CNjQiLCJtYXAiLCJzIiwiam9pbiIsInBhZ2VJZCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhZGRpbmciLCJnZW5lcmF0ZVRpbnlJZCIsImJ0b2FkSWQiLCJ0aW55U3RyaW5nIiwiY2hhcmFjdGVyIiwiaSIsImNoYXJBdCIsIkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQiLCJkaXNwbGF5UGFnZVVybElkIiwiYWpheCIsImxhc3RDaGFyIiwiSlNPTiIsInJlc3BvbnNlIiwicGFyc2UiLCJoYXNPd25Qcm9wZXJ0eSIsIkNPTkZJRyIsIkNPTkZMVUVOQ0VfUEFHRV9JRCIsIlByaXNtIiwiTm9ybWFsaXplV2hpdGVzcGFjZSIsInRpbnlTdWZmaXgiLCIkIiwidXJsIiwiSEVMUFNFUlZJQ0VfVVJMSURfRU5EUE9JTlQiLCJzdWNjZXNzIiwicmVzdWx0IiwidGV4dCIsIklkZW50aWZpZXIiLCJFcnJvciIsInJlYWR5Iiwic2V0RXhwb3J0UGRmIiwicGx1Z2lucyIsInNldERlZmF1bHRzIiwidG9nZ2xlUGFnZUxpbmtQYW5lbCIsImFkZENsYXNzIiwiY29weVBhZ2VMaW5rVG9DbGlwIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwidW5kZWZpbmVkIiwiU25hY2tiYXIiLCJhdHRyIiwiY29uY2F0IiwiQ09ORkxVRU5DRV9TUEFDRV9LRVkiLCJ0b0xvd2VyQ2FzZSIsInBhZ2VUaXRsZSIsInJlcGxhY2UiLCJkb2N1bWVudCIsInNob3dBY3Rpb24iLCJ2ZXJzaW9uU3dpdGNoZXJEYXRhIiwib3BlblBhZ2VMaW5rIiwicGFnZUlEIiwid3JpdGVUZXh0IiwiQkFTRV9VUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJ0aW55VXJsIiwidGV4dENvbG9yIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInNob3ciLCJwb3MiLCJjdXN0b21DbGFzcyIsImR1cmF0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwidGhlbiIsImNsb3NlUGFnZUxpbmsiLCJnZXRWZXJzaW9uVGV4dEZyb21WZXJzaW9uSWQiLCJkb2N1bWVudGF0aW9uVmVyc2lvbiIsImdldFZlcnNpb25UZXh0RnJvbUhlbHBTZXJ2aWNlSWQiLCJpdGVtIiwiaGVscFNlcnZpY2VWZXJzaW9uIiwiZmluZCIsInZlcnNpb25UZXh0IiwiSEVMUFNFUlZJQ0VfTElTVEFMVFZFUlNJT05MSU5LU19FTkRQT0lOVCIsInRpbWVvdXQiLCJ0cnlDb3VudCIsInJldHJ5TGltaXQiLCJ0aW55SUQiLCJkYXRhIiwiZXJyb3IiLCJ4aHIiLCJ0ZXh0U3RhdHVzIiwidGhpcyIsInZlcnNpb25MaW5rVXBkYXRlRG9uZSIsIm9wZW5DbG9zZVZlcnNpb25EZGwiLCJpbnNlcnRWZXJzaW9uTGlua3MiLCJ2ZXJzaW9uRGF0YSIsImxpbmtFbGVtIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YUl0ZW0iLCJWZXJzaW9uVXJsSWQiLCJVcmwiLCJlbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidG9BcnJheSIsImZvckVhY2giLCJ0ZXh0Q29udGVudCIsIlhQRVJJRU5DRTEzX01JU1NJTkdfUEFHRVNfVVJMIiwic3BsaXQiLCJwb3AiLCJpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MiLCJzZWFyY2hRdWVyeVN0cmluZ1BhcnRzIiwic2VhcmNoU2xhc2giLCJzcGFjZUtleSIsImdldERvY1ZlcnNpb24iLCJsaW5rRWxlbUhyZWZBcnJheSIsInNsaWNlIiwiQ09ORkxVRU5DRV9ERVZNT0RFTF9WRVJTSU9OU1dJVENIRVJfV0hJVEVMSVNUIiwiaW5kZXhPZiIsInNlYXJjaCIsInNwbGljZSIsImdldERvY1R5cGUiLCJhcGlFeGFtcGxlcyIsInR1dG9yaWFsIiwib3BlbkNsb3NlRG9jVHlwZURkbCIsInRvZ2dsZUNsYXNzIiwidGVzdCIsInZlcnNpb24iLCJidWlsZERvY0xpbmsiLCJzcGFjZUtleVNsYXNoIiwiZ2V0VmVyc2lvbkxpbmtUaXRsZSIsImRvY1R5cGUiLCJ1c2VEb2NUeXBlSW5MaW5rVGV4dCIsImlzQ3VycmVudCIsIk9CU09MRVRFX1NQQUNFX0tFWV9GT1JNQVRfVkVSU0lPTlMiLCJ2ZXJzaW9uUHJlZml4IiwibGlua1RleHQiLCJjbGFzc0F0dHJpYnV0ZSIsImxvYWREb2NWZXJzaW9uSGVhZGVyTGlzdCIsInVzZXJMb2dnZWRJbiIsIkRPQ19ST09UX1VSTF9TUEFDRV9LRVkiLCJjdXJyZW50RG9jVHlwZSIsImRvY1ZlcnNpb25MaW5rcyIsImF2YWlsYWJsZURvY1ZlcnNpb25zIiwidmVyc2lvbklkIiwiY3VycmVudERvY1ZlcnNpb24iLCJhdmFpbGFibGVEb2NUeXBlcyIsImRvY1R5cGVMaW5rcyIsIkRPQ1VNRU5UQVRJT05fVkVSU0lPTlMiLCJmaWx0ZXIiLCJidWlsZERvY0xpbmtTcGVjaWFsIiwiREVWX0RPQ1VNRU5UQVRJT05fVkVSU0lPTl9JRCIsIk5FV0VTVF9VTlNVUFBPUlRFRF9WRVJTSU9OX0lEIiwiaHRtbCIsIm9uIiwibG9hZERvY1R5cGVIZWFkZXJMaXN0IiwibGkiLCJidXR0b25WZXJzaW9uIiwib2xkZXJWZXJzaW9uc0J1dHRvbiIsIm9sZGVyVmVyc2lvbnNMaXN0IiwiYnV0dG9uRG9jVHlwZSIsImV2ZW50IiwidGFyZ2V0IiwiZGV2TW9kZWxCdXR0b24iLCJkZXZNb2RlbExpc3QiLCJsb2FkSGVhZGVyTGlzdHMiLCJpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQiLCJjdXJyZW50U3BhY2VLZXkiLCJyZWdpc3RlclBhZ2VUcmVlRXZlbnRIYW5kbGVyIiwibGFiZWxzIiwicGFyZW50IiwiaXMiLCJzZXREZXZNb2RlbFdlYlN0b3JhZ2UiLCJjdXJyZW50TGFiZWxzIiwiZ2V0UGFnZUxhYmVscyIsImNsb3NlSGVhZGVyRHJvcERvd25zIiwicXVlcnlTdHJpbmdQYXJhbXMiLCJsb2NhbFN0b3JhZ2UiLCJrZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUiLCJoYXMiLCJnZXRDdXJyZW50RGV2TW9kZWwiLCJjdXJyZW50bGFiZWxzIiwiY2xpY2siLCJ0cmFuc2xhdGVUb0hlbHBTZXJ2aWNlVmVyc2lvbiIsInRhcmdldE1vZGVsIiwib3BlbkNsb3NlRGV2TW9kZWxEZGwiLCJkZXZNb2RlbE1hcCIsImN1cnJlbnRNb2RlbCIsImFsbERldk1vZGVsUGFnZSIsImFsdERldk1vZGVsIiwiZ2V0SXRlbSIsImFsdERldk1vZGVsRWxlbWVudCIsInBhdGhOYW1lQXJyYXkiLCJrZW50aWNvVGhlbWVPcGVuU2VhcmNoUmVzdWx0c1BhZ2UiLCJkZXZNb2RlbFJlbG9hZFVybCIsInN3aXRjaERldk1vZGVsU3RvcmFnZSIsImFsdFBhZ2VVcmwiLCJwZSIsImluaXRBbHREZXZNb2RlbExpbmsiLCJzZXREZXZGcmFtZXdvcmtCdXR0b25zIiwiY29yZUZyYW1ld29ya09uQ2xpY2siLCJtdmNGcmFtZXdvcmtPbkNsaWNrIiwia2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsiLCJwYXRobmFtZSIsInNldERldkZyYW1ld29ya0NoZWNrYm94IiwiaGFzaCIsInNldENvcnJlY3RGcmFtZXdvcmsiLCJjdXJyZW50TW9kZWxFbGVtZW50IiwiZSIsImNoZWNrVXJsUGFyYW1ldGVycyIsInVybFBhcmFtcyIsImRldk1vZGVsUGFyYW1ldGVyIiwiYWx0UGFnZUlkZW50aWZpZXIiLCJjc3MiLCJIRUxQU0VSVklDRV9MSU5LTUFQUEVSX0VORFBPSU5UIiwicHJvcCIsImFsdE1vZGVsSG9tZUxpbmsiLCJhbHRNb2RlbFRleHQiLCJzaG93RGV2RnJhbWV3b3JrU3dpdGNoZXIiLCJjdXJyZW50TW9kZWxUZXh0Iiwic2V0SG92ZXJUaXRsZXMiLCJzZXREZXZGcmFtZXdvcmtTd2l0Y2hlciIsImluaXRTaWRlYmFyIiwicHJldmVudERlZmF1bHQiLCIkc2Nyb2xsYWJsZUNvbnRlbnQiLCJrZXlDb2RlIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFyZ3VtZW50cyIsInNlYXJjaFF1ZXJ5IiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2hvd0FsbFJlc3VsdHNDaGVja2JveEVsZW0iLCJVUkxTZWFyY2hQYXJhbXMiLCJxdWVyeVNlbGVjdG9yIiwidXNlRGV2TW9kZWxGaWx0ZXJpbmciLCJzZWFyY2hJbnB1dEVsZW1lbnRpbnB1dCIsInNlbGVjdGVkU2VhcmNoTGlua0VsZW1lbnQiLCJ0b2dnbGVTZWFyY2hTdWdnZXN0aW9ucyIsInNlYXJjaElucHV0Iiwic2VhcmNoRHJvcGRvd24iLCJzZWFyY2hib3hFbGVtZW50Iiwic2V0Q29udGVudFRvcFBhZGRpbmciLCJmaXJzdCIsInNldEZvb3RlcldpZHRoIiwiaGVhZGVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJjdXJyZW50SXRlbVRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImxlZnRQb3NpdGlvbiIsIm9mZnNldCIsInJpZ2h0UGFkZGluZyIsImZvb3RlcldpZHRoIiwiTWF0aCIsInJvdW5kIiwib3V0ZXJIZWlnaHQiLCJuZXdIZWlnaHQiLCJlbG0iLCJzZXRUaW1lb3V0IiwidmFsIiwiY29kZUNvbnRlbnQiLCJleHBhbmRDb250cm9sVGV4dCIsImNoZWNrZWQiLCJTQ1JPTExfV0VCSEVMUCIsIm5hdmlnYXRlVG9TZWFyY2hQYWdlIiwiZ2V0UGFnZUlkSWZFZGl0aW5nQWxsb3dlZCIsInVuYmluZCIsInNlYXJjaEJ1dHRvbiIsIm5ld1RhYiIsIndpbiIsImlubmVyV2lkdGgiLCJoaWRlRnJvbnRMYXllciIsInZpc2liaWxpdHkiLCJyZXNpemUiLCJkZWNvZGVkQ29va2llIiwiYyIsIndpZHRoIiwibGVmdCIsInZpZXdXaWR0aCIsInJpZ2h0IiwiaW5pdENvb2tpZUxldmVsIiwib25FbGVtZW50SGVpZ2h0Q2hhbmdlIiwiY2FsbGJhY2siLCJsYXN0SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwicnVuIiwiZGF0YUxheWVyIiwiY2xlYXJUaW1lb3V0IiwicHVzaCIsIm9uRWxlbWVudEhlaWdodENoYW5nZVRpbWVyIiwiY29va2llTGV2ZWwiLCJib2R5IiwibmV4dCIsInNlYXJjaGJveEZvY3VzZWQiLCJjcmVhdGVDb29raWUiLCJkb21haW4iLCJkYXRlIiwib3BlbkxpbmsiLCJjb25zZW50V2l0aENvb2tpZVVzYWdlIiwiZm9jdXMiLCJvcGVuIiwiZWFjaCIsInRyaW0iLCJjaGlsZHJlbiIsInNldENvb2tpZUxldmVsIiwibGV2ZWwiLCJzaG93RnJvbnRMYXllciIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJnZXRDb29raWUiLCJjbmFtZSIsImNhIiwiY29va2llIiwic3Vic3RyaW5nIiwibmFtZSIsImNvbnNlbnQiLCJhbmFseXRpY3Nfc3RvcmFnZSIsImNsaWNrZWRJY29uIiwic2VjdXJpdHlfc3RvcmFnZSIsImZ1bmN0aW9uYWxpdHlfc3RvcmFnZSIsInBlcnNvbmFsaXphdGlvbl9zdG9yYWdlIiwiYWRfc3RvcmFnZSIsImNvcHlIZWFkaW5nTGlua0ljb24iLCJoZWFkaW5nRWxlbWVudHMiLCJ2YWx1ZSIsImRheXMiLCJleHBpcmVzIiwiRGF0ZSIsInNldFRpbWUiLCJyZXBsYWNlV2l0aCIsImdldFRpbWUiLCJpZCIsInRvVVRDU3RyaW5nIiwiZml4SGVhZGluZ3NVcHBlciIsImZpeEhlYWRpbmdzTG93ZXIiLCJob3N0IiwiaGlkZUNvb2tpZUNvbnNlbnRCYW5uZXIiLCJjb29raWVFbmFibGVkIiwiY29weUhlYWRpbmdMaW5rIiwiYW5jaG9yTGluayIsIm9yaWdpbiIsImNhdGNoIiwiY29weUljb25Nb3VzZU91dCIsIm5vdCIsImFwcGVuZCIsImluaXRGb290ZXJMaW5rcyIsIlRIRU1FX0NPTkZJRyIsIktFTlRJQ09fUUFfTElOSyIsIktFTlRJQ09fU1VQUE9SVF9MSU5LIiwibGFzdCIsImNsb25lIiwiY2xhc3NOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBU0EsSUFBSUEsZ0JBQWtCLFNBQXlCQyxHQUUzQyxJQURBLElBQUlDLEVBQWMsQ0FB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UixPQUFXMEMsS0FBS2tQLEdBQUUsYUFBQTVSLE9BQVkwQyxLQUFLc1EsVUFBUyxNQUFRcFUsRUFBRThELE1BQU04RCxPQUFTLFFBQVMsR0FFeEosRUFHSXVMLGlCQUFtQixXQUNpQixJQUFqQ25ULEVBQUUsb0JBQW9CN0IsUUFBaUQsSUFBakM2QixFQUFFLG9CQUFvQjdCLFFBRTNENkIsRUFBRSxvQkFBb0JrUixNQUFLLFNBQVVoVCxHQUFTOEIsRUFBRThELE1BQU1nUCxZQUFZLFdBQUExUixPQUFXMEMsS0FBS2tQLEdBQUUsYUFBQTVSLE9BQVkwQyxLQUFLc1EsVUFBUyxNQUFRcFUsRUFBRThELE1BQU04RCxPQUFTLFFBQVMsR0FFeEosRUFFQTVGLE9BQU9xUyxpQkFBaUIsb0JBQW9CLFNBQUNqTSxHQUN6QzhLLG1CQUNBQyxrQkFDRiIsImZpbGUiOiJ0aGVtZS5jdXN0b20uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1FWFBFUklNRU5UQUw9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQYWdlIFRpbnlJRCBHZW5lcmF0b3IgLSBwcm9ncmFtbWF0aWNhbGx5IGdlbmVyYXRlcyBwYWdlIGlkZW50aWZpZXJzXHJcbi8vIEN1cnJlbnRseSBvbmx5IHVzZWQgd2hlbiByZXRyaWV2aW5nIHBhZ2UgSGVscFNlcnZpY2UgaWRlbnRpZmllcnMgdmlhICdHZXQgSGVscFNlcnZpY2UgSUQnXHJcbi8vIEFjY2Vzc2libGUgZnJvbSBDT05GSUcuQ09ORkxVRU5DRV9QQUdFX1RJTllJRFxyXG4vLyBodHRwczovL2NvbmZsdWVuY2UuYXRsYXNzaWFuLmNvbS9jb25ma2IvaG93LXRvLXByb2dyYW1tYXRpY2FsbHktZ2VuZXJhdGUtdGhlLXRpbnktbGluay1vZi1hLWNvbmZsdWVuY2UtcGFnZS05NTY3MTM0MzIuaHRtbFxyXG4vLyBUaGUgbG9uZyB0byBieXRlIGFycmF5IGNvbnZlcnNpb24gaXMgdGFrZW4gZnJvbSB0aGlzIHNvdXJjZTpcclxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODQ4MjMwOS9jb252ZXJ0aW5nLWphdmFzY3JpcHQtaW50ZWdlci10by1ieXRlLWFycmF5LWFuZC1iYWNrXHJcblxyXG4vLyBDb252ZXJ0cyB0aGUgcGFnZSBpZCB0byBhIGJ5dGUgYXJyYXkgZm9yIGZ1cnRoZXIgZW5jb2RpbmdcclxudmFyIGxvbmdUb0J5dGVBcnJheSA9IGZ1bmN0aW9uIGxvbmdUb0J5dGVBcnJheShsb25nKSB7XHJcbiAgICB2YXIgYnl0ZUFycmF5ID0gWzAsIDAsIDAsIDBdO1xyXG4gICAgZm9yICggdmFyIGluZGV4ID0gMDsgaW5kZXggPCBieXRlQXJyYXkubGVuZ3RoOyBpbmRleCArKyApIHtcclxuICAgICAgdmFyIGJ5dGUgPSBsb25nICYgMHhmZjtcclxuICAgICAgYnl0ZUFycmF5IFsgaW5kZXggXSA9IGJ5dGU7XHJcbiAgICAgIGxvbmcgPSAobG9uZyAtIGJ5dGUpIC8gMjU2IDtcclxuICAgIH1cclxuICAgIHJldHVybiBieXRlQXJyYXk7XHJcbn07XHJcblxyXG5cclxuLy8gRW5jb2RlcyBwcm92aWRlZCBwYWdlIGlkIGluIEJhc2UtNjRcclxudmFyIHBhZ2VJZFRvQjY0ID0gZnVuY3Rpb24gcGFnZUlkVG9CNjQocGFnZUlkKSB7XHJcbiAgICByZXR1cm4gYnRvYShcclxuICAgICAgICBsb25nVG9CeXRlQXJyYXkocGFnZUlkKVxyXG4gICAgICAgICAgICAubWFwKFN0cmluZy5mcm9tQ2hhckNvZGUpXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzWzBdO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuam9pbihcIlwiKVxyXG4gICAgICApXHJcbiAgICAgIC5yZXBsYWNlKC89L2csXCJcIik7XHJcbn07XHJcblxyXG5cclxuLy8gR2VuZXJhdGVzIGEgQ29uZmx1ZW5jZSBwYWdlIGlkZW50aWZpZXIgZnJvbSB0aGUgcHJvdmlkZWQgQi02NCBlbmNvZGVkIHBhZ2UgaWRcclxuLy8gVGFrZW4gZGlyZWN0bHkgZnJvbSBDb25mbHVlbmNlIFNlcnZlciA3LjIgc291cmNlIGNvZGVcclxuLy8gY29tLmF0bGFzc2lhbi5jb25mbHVlbmNlLnBhZ2VzLlRpbnlJZFxyXG52YXIgZ2VuZXJhdGVUaW55SWQgPSBmdW5jdGlvbiBnZW5lcmF0ZVRpbnlJZChidG9hZElkKSB7XHJcbiAgICB2YXIgcGFkZGluZyA9IHRydWU7XHJcbiAgICB2YXIgdGlueVN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IGJ0b2FkSWQubGVuZ3RoIC0gMTsgaSA+PSAwIDsgaS0tKSB7XHJcblxyXG4gICAgICAgIHZhciBjaGFyYWN0ZXIgPSBidG9hZElkLmNoYXJBdChpKTtcclxuXHJcbiAgICAgICAgaWYgKGNoYXJhY3RlciA9PT0gJz0nIHx8IGNoYXJhY3RlciA9PSAnXFxuJylcclxuICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgIGlmIChwYWRkaW5nICYmIGNoYXJhY3RlciA9PT0gJ0EnKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgcGFkZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSAnLycpIHtcclxuICAgICAgICAgICAgdGlueVN0cmluZyA9ICctJyArIHRpbnlTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNoYXJhY3RlciA9PT0gJysnKSB7XHJcbiAgICAgICAgICAgIHRpbnlTdHJpbmcgPSAnXycgKyB0aW55U3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGlueVN0cmluZyA9IGNoYXJhY3RlciArIHRpbnlTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aW55U3RyaW5nLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB2YXIgbGFzdENoYXIgPSB0aW55U3RyaW5nLmNoYXJBdCh0aW55U3RyaW5nLmxlbmd0aCAtIDEpO1xyXG5cclxuICAgICAgICAvLyBDT05GLTkyOTkgc29tZSBlbWFpbCBjbGllbnRzIGRvbid0IGxpa2UgVVJMcyB0aGF0IGVuZCB3aXRoIGEgcHVuY3RhdGlvblxyXG4gICAgICAgIGlmIChsYXN0Q2hhciA9PT0gJy0nIHx8IGxhc3RDaGFyID09PSAnXycpXHJcbiAgICAgICAgICAgIHRpbnlTdHJpbmcgKz0gJy8nO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aW55U3RyaW5nO1xyXG59O1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09RU5EIEVYUEVSSU1FTlRBTD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHJcbi8vIER5bmFtaWNhbGx5IGNvbXB1dGVkIHByb3BlcnRpZXNcclxuLyoqIFRoZSBDb25mbHVlbmNlICdUaW55SWQnIG9mIHRoZSBjdXJyZW50IHBhZ2UgKi9cclxuQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQgPSBnZW5lcmF0ZVRpbnlJZChwYWdlSWRUb0I2NChDT05GSUcuQ09ORkxVRU5DRV9QQUdFX0lEKSk7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBwYWdlIFVybCBJRCByZXRyaWV2ZXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgZGlzcGxheVBhZ2VVcmxJZCA9IGZ1bmN0aW9uIGRpc3BsYXlQYWdlVXJsSWQocGFnZUlkKSB7XHJcbiAgICAvLyBVc2UgY29tcHV0ZWQgVGlueUlEXHJcbiAgICB2YXIgdGlueVN1ZmZpeCA9IENPTkZJRy5DT05GTFVFTkNFX1BBR0VfVElOWUlEO1xyXG4gICAgaWYgKHRpbnlTdWZmaXgpIHtcclxuICAgICAgICAvLyB2YXIgYXJyYXkgPSB0aW55U3VmZml4LnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IENPTkZJRy5IRUxQU0VSVklDRV9VUkxJRF9FTkRQT0lOVCArIHRpbnlTdWZmaXgsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcIklkZW50aWZpZXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2VVcmxJZFwiKS50ZXh0KFwiIEhlbHAgU2VydmljZSBJRDogXCIgKyByZXNwb25zZS5JZGVudGlmaWVyICsgXCIgKFRpbnlJRDogXCIgKyB0aW55U3VmZml4ICsgXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdlVXJsSWRcIikudGV4dChcIiBIZWxwIFNlcnZpY2UgSUQ6IFwiICsgcmVzcG9uc2UuRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aW1lb3V0OiA4MDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgICQoXCIjcGFnZVVybElkXCIpLnRleHQoXCJFcnJvciB3aGVuIGdlbmVyYXRpbmcgdGhlIHBhZ2UgdGlueSBJRC4gU2VlIHRoZSBjb25zb2xlIGZvciBkZXRhaWxzLlwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBSSVNNIFdISVRFU1BBQ0UgTk9STUFMSVpBVElPTiBDT05GSUcgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5QcmlzbS5wbHVnaW5zLk5vcm1hbGl6ZVdoaXRlc3BhY2Uuc2V0RGVmYXVsdHMoe1xyXG4gICAgJ3JlbW92ZS10cmFpbGluZyc6IHRydWUsXHJcbiAgICAncmVtb3ZlLWluZGVudCc6IHRydWUsXHJcbiAgICAnbGVmdC10cmltJzogdHJ1ZSxcclxuICAgICdyaWdodC10cmltJzogdHJ1ZSxcclxuICAgIC8vIERvZXMgbm90IHByZXNlcnZlIGNvbW1lbnQgaGlnaGxpZ2h0IG9uIG5leHQgbGluZVxyXG4gICAgLy8gJ2JyZWFrLWxpbmVzJzogODAsXHJcbiAgICAncmVtb3ZlLWluaXRpYWwtbGluZS1mZWVkJzogZmFsc2UsXHJcbiAgICAndGFicy10by1zcGFjZXMnOiA0XHJcbn0pO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBQREYgRVhQT1JUICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBzZXRFeHBvcnRQZGYgPSBmdW5jdGlvbiBleHBvcnRQZGYoKSB7XHJcbiAgICB2YXIgcGFnZVRpdGxlID0gJCgnYm9keScpLmF0dHIoJ2RhdGEtcGFnZXRpdGxlJyk7XHJcbiAgICAkKFwiI2V4cG9ydC1wZGZcIikuYXR0cignaHJlZicsIGAuLi9wZGYvJHtDT05GSUcuQ09ORkxVRU5DRV9TUEFDRV9LRVkudG9Mb3dlckNhc2UoKX0vJHtwYWdlVGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csXCItXCIpfS5wZGZgKTtcclxufTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KHNldEV4cG9ydFBkZik7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBBR0UgVElOWSBMSU5LUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBHZXRzIHRoZSBwYWdlIHRpbnkgbGluayBVUkwgdXNpbmcgUkVTVCBhbmQgc2hvd3MgdGhlIHBhZ2UgbGluayBwYW5lbFxyXG52YXIgb3BlblBhZ2VMaW5rID0gZnVuY3Rpb24gb3BlblBhZ2VMaW5rKHBhZ2VJRCkge1xyXG4gICAgaWYgKENPTkZJRy5DT05GTFVFTkNFX1BBR0VfVElOWUlEKSB7XHJcbiAgICAgICAgdG9nZ2xlUGFnZUxpbmtQYW5lbChDT05GSUcuQkFTRV9VUkwgKyAnL3gvJyArIENPTkZJRy5DT05GTFVFTkNFX1BBR0VfVElOWUlEKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9nZ2xlUGFnZUxpbmtQYW5lbCh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICB9XHJcbn07XHJcblxyXG52YXIgdG9nZ2xlUGFnZUxpbmtQYW5lbCA9IGZ1bmN0aW9uIHRvZ2dsZVBhZ2VMaW5rUGFuZWwodGlueVVybCkge1xyXG4gICAgJChcIiNwYWdlLWxpbmstdGV4dGJveFwiKS5hdHRyKFwidmFsdWVcIiwgdGlueVVybCk7XHJcbiAgICBpZiAoJChcIiNwYWdlLWxpbmstcGFuZWxcIikuaGFzQ2xhc3MoXCJzaG93XCIpKSB7XHJcbiAgICAgICAgJChcIiNwYWdlLWxpbmstcGFuZWxcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgJChcIiNwYWdlLWxpbmstcGFuZWxcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gQXR0ZW1wdHMgdG8gY29weSB0aGUgcGFnZSBsaW5rIHZhbHVlIHRvIHRoZSBjbGlwYm9hcmRcclxudmFyIGNvcHlQYWdlTGlua1RvQ2xpcCA9IGZ1bmN0aW9uIGNvcHlQYWdlTGlua1RvQ2xpcCgpIHtcclxuXHRpZiAobmF2aWdhdG9yLmNsaXBib2FyZCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRTbmFja2Jhci5zaG93KHt0ZXh0OiBcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGNvcHlpbmcgdGhlIHBhZ2UgbGluayB0byB0aGUgY2xpcGJvYXJkXCIsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC13YXJuaW5nJywgZHVyYXRpb246ICczNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0ZGRUJFQicsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KCQoXCIjcGFnZS1saW5rLXRleHRib3hcIikuYXR0cihcInZhbHVlXCIpKVxyXG5cdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0U25hY2tiYXIuc2hvdyh7dGV4dDogXCJQYWdlIGxpbmsgY29waWVkXCIsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC1pbmZvJywgZHVyYXRpb246ICcyNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0VFRjNGQycsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBTbmFja2Jhci5zaG93KHt0ZXh0OiBcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGNvcHlpbmcgdGhlIHBhZ2UgbGluayB0byB0aGUgY2xpcGJvYXJkXCIsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC13YXJuaW5nJywgZHVyYXRpb246ICczNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0ZGRUJFQicsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIENsb3NlcyB0aGUgcGFnZSBsaW5rIHBhbmVsXHJcbmNvbnN0IGNsb3NlUGFnZUxpbmsgPSAoKSA9PiAgJChcIiNwYWdlLWxpbmstcGFuZWxcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gSEVBREVSIFNQQUNFIFNXSVRDSEVSID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIENvbnZlcnRzIHRoZSB2ZXJzaW9uIG51bWJlciB0byB0aGUgYXBwcm9wcmlhdGUgdmVyc2lvbiB0ZXh0XHJcbmNvbnN0IGdldFZlcnNpb25UZXh0RnJvbVZlcnNpb25JZCA9IChkb2N1bWVudGF0aW9uVmVyc2lvbikgPT5cclxuICAgIERPQ1VNRU5UQVRJT05fVkVSU0lPTlMuZmluZCgoaXRlbSkgPT4gaXRlbS52ZXJzaW9uSWQgPT0gZG9jdW1lbnRhdGlvblZlcnNpb24pLnZlcnNpb25UZXh0O1xyXG5cclxuXHJcbi8vIFRyYW5zbGF0ZXMgdGhlIElEIHVzZWQgYnkgdGhlIGRvY3VtZW50YXRpb24gaGVscCBzZXJ2aWNlIHRvIEtlbnRpY28gdmVyc2lvbiB0ZXh0XHJcbmNvbnN0IGdldFZlcnNpb25UZXh0RnJvbUhlbHBTZXJ2aWNlSWQgPSAoaGVscFNlcnZpY2VWZXJzaW9uKSA9PlxyXG4gICAgRE9DVU1FTlRBVElPTl9WRVJTSU9OUy5maW5kKChpdGVtKSA9PiBpdGVtLmhlbHBTZXJ2aWNlVmVyc2lvbiA9PSBoZWxwU2VydmljZVZlcnNpb24pLnZlcnNpb25UZXh0O1xyXG5cclxuXHJcbnZhciB2ZXJzaW9uU3dpdGNoZXJEYXRhO1xyXG4vKiogQXR0ZW1wdHMgdG8gbG9hZCB2ZXJzaW9uIGxpbmsgZGF0YSBmcm9tIHRoZSBrZW50aWNvLmNvbSBoZWxwIHNlcnZpY2VcclxuICAgIFRoZSBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQgb24gZG9jdW1lbnQgbG9hZCBpbiBpbmNsdWRlLWJvZHllbmRzY3JpcHRzLnZtIC1cclxuICAgIHdoZXJlIHdlIGNhbiBjb25kaXRpb25hbGx5IGluY2x1ZGUgaXQgZHVlIHRvIHNjcm9sbCB2aWV3cG9ydCBjb250ZXh0dWFsIHZhcmlhYmxlc1xyXG4gICAgQHBhcmFtIHtzdHJpbmd9IHRpbnlJRCAtIHRoZSBzaG9ydCBpZGVudGlmaWVyIG9mIHRoZSB0YXJnZXQgQ29uZmx1ZW5jZSBwYWdlICovXHJcbnZhciBsb2FkVmVyc2lvbkxpbmtEYXRhID0gZnVuY3Rpb24gbG9hZFZlcnNpb25MaW5rRGF0YSh0aW55SUQpIHtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgIHVybDogQ09ORklHLkhFTFBTRVJWSUNFX0xJU1RBTFRWRVJTSU9OTElOS1NfRU5EUE9JTlQgKyB0aW55SUQsXHJcbiAgICAgICAgdGltZW91dDogMjAwMCxcclxuICAgICAgICB0cnlDb3VudCA6IDAsXHJcbiAgICAgICAgcmV0cnlMaW1pdCA6IDMsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgdmVyc2lvbiBzd2l0Y2hlciBkYXRhIHRvIGEgdmFyaWFibGUuIFVzZWQgaW4gJ2luc2VydFZlcnNpb25MaW5rcygpJyBjYWxsZWQgZnJvbSAnaW5jbHVkZS1zcGFjZS1zd2l0Y2hlci52bScuXHJcbiAgICAgICAgICAgIHZlcnNpb25Td2l0Y2hlckRhdGEgPSBkYXRhO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gQWRkZWQgcmV0cnkgbG9naWMgaW4gY2FzZSB0aGUgcmV0cmlldmFsIGZhaWxzLiBJbnNwaXJhdGlvbjpcclxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDAyNDQ2OS93aGF0cy10aGUtYmVzdC13YXktdG8tcmV0cnktYW4tYWpheC1yZXF1ZXN0LW9uLWZhaWx1cmUtdXNpbmctanF1ZXJ5XHJcbiAgICAgICAgZXJyb3IgOiBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApIHtcclxuICAgICAgICAgICAgaWYgKHRleHRTdGF0dXMgPT0gXCJ0aW1lb3V0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJ5Q291bnQrKztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyeUNvdW50IDw9IHRoaXMucmV0cnlMaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdHJ5IGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbnZhciB2ZXJzaW9uTGlua1VwZGF0ZURvbmUgPSBmYWxzZTtcclxuXHJcbi8vIFJlcGxhY2VzIHRoZSBkZWZhdWx0IHNwYWNlIHJvb3QgdmVyc2lvbiBsaW5rcyB3aXRoIHNwZWNpZmljIHBhZ2UgbGlua3NcclxudmFyIGluc2VydFZlcnNpb25MaW5rcyA9IGZ1bmN0aW9uIGluc2VydFZlcnNpb25MaW5rcyh2ZXJzaW9uRGF0YSkge1xyXG4gICAgaWYgKHZlcnNpb25EYXRhID09PSB1bmRlZmluZWQpXHJcbiAgICB7XHJcbiAgICAgICAgb3BlbkNsb3NlVmVyc2lvbkRkbCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmVyc2lvbkxpbmtVcGRhdGVEb25lKVxyXG4gICAge1xyXG4gICAgICAgIG9wZW5DbG9zZVZlcnNpb25EZGwoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmVyc2lvbkRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUl0ZW0pIHtcclxuICAgIHZhciBsaW5rRWxlbSA9ICQoXCIuanMtbWVudURkbC12ZXJzaW9uIGE6Y29udGFpbnMoXCIgKyBnZXRWZXJzaW9uVGV4dEZyb21IZWxwU2VydmljZUlkKGRhdGFJdGVtLlZlcnNpb25VcmxJZCkgKyBcIilcIik7XHJcbiAgICAgICAgaWYgKGxpbmtFbGVtKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGlua0VsZW0uYXR0cihcImhyZWZcIiwgZGF0YUl0ZW0uVXJsKTtcclxuICAgICAgICAgICAgbGlua0VsZW0uYWRkQ2xhc3MoXCIgcG9wdWxhdGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuanMtbWVudURkbC12ZXJzaW9uIGFcIikudG9BcnJheSgpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpe1xyXG5cdFx0aWYgKCFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVsYXRlZFwiKSlcclxuXHRcdHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZW1wdHlcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgMSAtIHRoZSBYcGVyaWVuY2UgMTMgZG9jcyBsaW5rIHRvIGEgc3BlY2lhbCBwYWdlIGluc3RlYWQgb2YgdGhlIEhvbWUgcm9vdCBmb3IgcGFnZXMgdGhhdCBkbyBub3QgaGF2ZSBhIGRpcmVjdCBlcXVpdmFsZW50XHJcblx0XHRcdGlmIChlbGVtZW50LnRleHRDb250ZW50ID09PSBcIlhwZXJpZW5jZSAxM1wiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciBjb250YWlucyB0aGUgbGFzdCBVUkwgc2VnbWVudCAocGFnZSB0aXRsZSkuIFByb2Nlc3NlZCBieSBqYXZhc2NyaXB0IGluY2x1ZGVkIGRpcmVjdGx5IG9uIHRoZSBcIk1pc3NpbmcgZG9jdW1lbnRhdGlvbiBwYWdlc1wiIHBhZ2UuXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImhyZWZcIiwgQ09ORklHLlhQRVJJRU5DRTEzX01JU1NJTkdfUEFHRVNfVVJMICsgXCI/cmVmPVwiICsgJChsb2NhdGlvbikuYXR0cihcImhyZWZcIikuc3BsaXQoJy8nKS5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIFwiVGhlIGN1cnJlbnQgcGFnZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBYcGVyaWVuY2UgMTMgZG9jdW1lbnRhdGlvbi4gXFxyXFxuWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byBhIGdlbmVyYWwgZ3VpZGFuY2UgcGFnZS5cIik7XHRcdFx0XHRcclxuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIDIgLSB0aGUgWFAgZG9jcyBsaW5rIHRvIGEgc3BlY2lhbCBwYWdlIGluc3RlYWQgb2YgdGhlIEhvbWUgcm9vdCBmb3IgcGFnZXMgdGhhdCBkbyBub3QgaGF2ZSBhIGRpcmVjdCBlcXVpdmFsZW50XHJcblx0XHRcdH0gZWxzZSBpZiAoZWxlbWVudC50ZXh0Q29udGVudCA9PT0gXCJYcGVyaWVuY2UgYnkgS2VudGljb1wiKSB7XHJcblx0XHRcdFx0Ly8gVGhlIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIgY29udGFpbnMgdGhlIGxhc3QgVVJMIHNlZ21lbnQgKHBhZ2UgdGl0bGUpLiBQcm9jZXNzZWQgYnkgamF2YXNjcmlwdCBpbmNsdWRlZCBkaXJlY3RseSBvbiB0aGUgXCJNaXNzaW5nIGRvY3VtZW50YXRpb24gcGFnZXNcIiBwYWdlLlxyXG5cdFx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBDT05GSUcuWFBfTUlTU0lOR19QQUdFU19VUkwgKyBcIj9yZWY9XCIgKyAkKGxvY2F0aW9uKS5hdHRyKFwiaHJlZlwiKS5zcGxpdCgnLycpLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgXCJUaGUgY3VycmVudCBwYWdlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIFhwZXJpZW5jZSBieSBLZW50aWNvIGRvY3VtZW50YXRpb24uIFxcclxcbllvdSB3aWxsIGJlIHJlZGlyZWN0ZWQgdG8gYSBnZW5lcmFsIGd1aWRhbmNlIHBhZ2UuXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBcIlRoZSBjdXJyZW50IHBhZ2UgaXMgbm90IGF2YWlsYWJsZSBmb3IgdGhpcyBkb2N1bWVudGF0aW9uIHZlcnNpb24uIFxcclxcbllvdSB3aWxsIGJlIHJlZGlyZWN0ZWQgdG8gdGhlIGhvbWUgcGFnZSBmb3IgdGhpcyB2ZXJzaW9uLlwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmVyc2lvbkxpbmtVcGRhdGVEb25lID0gdHJ1ZTtcclxuXHJcbiAgICBvcGVuQ2xvc2VWZXJzaW9uRGRsKCk7XHJcbn07XHJcblxyXG5cclxuXHJcbi8vIFJlcGxhY2VzIHRoZSBkZWZhdWx0IHNwYWNlIHJvb3QgdmVyc2lvbiBsaW5rcyB3aXRoIHNlYXJjaCBwYWdlIGxpbmtzLCBpbmNsdWRpbmcgdGhlIGN1cnJlbnQgcGFyYW1ldGVyc1xyXG52YXIgaW5zZXJ0U2VhcmNoVmVyc2lvbkxpbmtzID0gZnVuY3Rpb24gaW5zZXJ0U2VhcmNoVmVyc2lvbkxpbmtzKCkge1xyXG4gICAgaWYgKCF2ZXJzaW9uTGlua1VwZGF0ZURvbmUpIHtcclxuICAgICAgICB2YXIgdmVyc2lvbkxpbmtFbGVtcyA9ICQoXCIuanMtbWVudURkbC12ZXJzaW9uIGFcIik7XHJcbiAgICAgICAgdmVyc2lvbkxpbmtFbGVtcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIGxpbmtlZCB2ZXJzaW9uIHN1cHBvcnRzIHRoZSBkZXYgbW9kZWwgc3dpdGNoZXJcclxuICAgICAgICAgICAgLy8gSWYgaXQgZG9lcyBub3QsIHJlbW92ZXMgbGFiZWwgZmlsdGVyaW5nIG9mIHNlYXJjaCByZXN1bHRzXHJcbiAgICAgICAgICAgIHZhciBsaW5rRWxlbUhyZWZBcnJheSA9IHRoaXMuaHJlZi5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgICAgIHZhciBzcGFjZUtleSA9IGdldERvY1ZlcnNpb24obGlua0VsZW1IcmVmQXJyYXlbbGlua0VsZW1IcmVmQXJyYXkubGVuZ3RoIC0gMV0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkcyBhIHNsYXNoIHNlcGFyYXRvciBpZiB0aGUgbGluayBkb2VzIG5vdCBhbHJlYWR5IGVuZCBpbiBhIHNsYXNoXHJcbiAgICAgICAgICAgIHZhciBzZWFyY2hTbGFzaCA9ICgodGhpcy5ocmVmLnNsaWNlKC0xKSAhPT0gXCIvXCIpID8gXCIvXCIgOiBcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChDT05GSUcuQ09ORkxVRU5DRV9ERVZNT0RFTF9WRVJTSU9OU1dJVENIRVJfV0hJVEVMSVNULmluZGV4T2Yoc3BhY2VLZXkpID49IDApIHtcclxuICAgICAgICAgICAgICAgIC8vIEtlZXBzIHRoZSBmdWxsIHF1ZXJ5IHN0cmluZyBpZiB0aGUgbGlua2VkIHZlcnNpb24gc3VwcG9ydHMgdGhlIGRldiBtb2RlbCBzd2l0Y2hlclxyXG4gICAgICAgICAgICAgICAgdGhpcy5ocmVmID0gdGhpcy5ocmVmICsgc2VhcmNoU2xhc2ggKyBcInNlYXJjaFwiICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldHMgdGhlIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXJzIHVzZWQgYnkgdGhlIGN1cnJlbnQgc2VhcmNoIHJlc3VsdHMgcGFnZVxyXG4gICAgICAgICAgICAgICAgdmFyIHNlYXJjaFF1ZXJ5U3RyaW5nUGFydHMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnNwbGl0KFwiJlwiKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBzZWFyY2hRdWVyeVN0cmluZ1BhcnRzLmxlbmd0aDsgaS0tID4gMDspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmVzIHRoZSBsYWJlbCBmaWx0ZXJpbmcgcGFyYW1ldGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFF1ZXJ5U3RyaW5nUGFydHNbaV0uaW5kZXhPZihcImw9XCIpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUXVlcnlTdHJpbmdQYXJ0cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaHJlZiA9IHRoaXMuaHJlZiArIHNlYXJjaFNsYXNoICsgXCJzZWFyY2hcIiArIHNlYXJjaFF1ZXJ5U3RyaW5nUGFydHMuam9pbihcIiZcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2ZXJzaW9uTGlua1VwZGF0ZURvbmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5DbG9zZVZlcnNpb25EZGwoKTtcclxufTtcclxuXHJcblxyXG4vLyBEaXNwbGF5cy9oaWRlcyB0aGUgZG9jdW1lbnRhdGlvbiB0eXBlIHNlbGVjdG9yIGRyb3AtZG93biBsaXN0XHJcbnZhciBvcGVuQ2xvc2VEb2NUeXBlRGRsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5qcy1tZW51RGRsLWRvY1R5cGVcIikudG9nZ2xlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgJChcIi5qcy1tZW51RGRsQnRuLWRvY1R5cGVcIikudG9nZ2xlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbn07XHJcblxyXG4vLyBEaXNwbGF5cy9oaWRlcyB0aGUgZG9jdW1lbnRhdGlvbiB2ZXJzaW9uIHNlbGVjdG9yIGRyb3AtZG93biBsaXN0XHJcbnZhciBvcGVuQ2xvc2VWZXJzaW9uRGRsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5qcy1tZW51RGRsLXZlcnNpb25cIikudG9nZ2xlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgJChcIi5qcy1tZW51RGRsQnRuLXZlcnNpb25cIikudG9nZ2xlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbn07XHJcblxyXG5cclxuLy8gUmV0dXJucyB0aGUgZG9jdW1lbnRhdGlvbiB0eXBlIGZvciBhIHNwZWNpZmllZCBzcGFjZSBrZXlcclxudmFyIGdldERvY1R5cGUgPSBmdW5jdGlvbiAoc3BhY2VLZXkpIHtcclxuICAgIHZhciBhcGlFeGFtcGxlcyA9IC9hcGkvaTtcclxuICAgIHZhciB0dXRvcmlhbCA9IC90dXRvcmlhbC9pO1xyXG4gICAgaWYgKGFwaUV4YW1wbGVzLnRlc3Qoc3BhY2VLZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiQVBJIEV4YW1wbGVzXCI7XHJcbiAgICB9XHJcbiAgICBpZiAodHV0b3JpYWwudGVzdChzcGFjZUtleSkpIHtcclxuICAgICAgICByZXR1cm4gXCJUdXRvcmlhbFwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFwiRG9jdW1lbnRhdGlvblwiO1xyXG59O1xyXG5cclxuXHJcbi8vIFJldHVybnMgdGhlIGRvY3VtZW50YXRpb24gdmVyc2lvbiBmb3IgYSBzcGVjaWZpZWQgc3BhY2Uga2V5XHJcbnZhciBnZXREb2NWZXJzaW9uID0gZnVuY3Rpb24gKHNwYWNlS2V5KSB7XHJcblx0c3dpdGNoIChzcGFjZUtleSkge1xyXG5cdFx0Ly8gRXhjZXB0aW9ucyBmb3Igc3BhY2VzIHdpdGhvdXQgYSBudW1iZXIgaW4gdGhlIHNwYWNlIGtleSBhbmQgZm9yIFwiMTJzcFwiXHJcblx0XHRjYXNlIFwiSzEyU1BcIjpcclxuXHRcdGNhc2UgXCJBUEkxMlNQXCI6XHJcblx0XHRjYXNlIFwiSzEyU1BUdXRvcmlhbFwiOlxyXG5cdFx0XHRyZXR1cm4gXCIxMnNwXCI7XHJcblx0XHRjYXNlIFwiWFBcIjpcclxuXHRcdGNhc2UgXCJUdXRvcmlhbFwiOlxyXG5cdFx0Y2FzZSBcIkFwaVwiOlxyXG5cdFx0XHRyZXR1cm4gXCJ4cFwiO1xyXG5cdFx0ZGVmYXVsdDpcclxuXHRcdFx0Ly8gUmV0dXJucyB0aGUgbnVtYmVyIGZyb20gdGhlIHNwYWNlIGtleSBmb3IgXCJzdGFuZGFyZFwiIGNhc2VzXHJcblx0XHRcdHJldHVybiBzcGFjZUtleS5yZXBsYWNlKC9bXjAtOV0vZywgJycpO1xyXG5cdH1cdFxyXG59O1xyXG5cclxuXHJcbi8vIENvbnZlcnRzIHRoZSB2ZXJzaW9uIG51bWJlciB0byB0aGUgYXBwcm9wcmlhdGUgdG9vbHRpcCAodGl0bGUpIGZvciB0aGUgdmVyc2lvbiBsaW5rXHJcbnZhciBnZXRWZXJzaW9uTGlua1RpdGxlID0gZnVuY3Rpb24gKHZlcnNpb24pIHtcclxuICAgIHN3aXRjaCAodmVyc2lvbikge1xyXG4gICAgICAgIGNhc2UgXCIxMnNwXCI6XHJcbiAgICAgICAgICAgIHJldHVybiBcIktlbnRpY28gMTIgU2VydmljZSBQYWNrXCI7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIGdldFZlcnNpb25UZXh0RnJvbVZlcnNpb25JZCh2ZXJzaW9uKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyBCdWlsZHMgbGlua3MgdG8gdGhlIGRvY3VtZW50YXRpb24gc3BhY2Ugcm9vdCBmb3IgYSBzcGVjaWZpZWQgZG9jdW1lbnRhdGlvbiB0eXBlIGFuZCB2ZXJzaW9uXHJcbnZhciBidWlsZERvY0xpbmsgPSBmdW5jdGlvbiBidWlsZERvY0xpbmsodmVyc2lvbiwgZG9jVHlwZSwgdXNlRG9jVHlwZUluTGlua1RleHQsIGlzQ3VycmVudCkge1xyXG4gICAgdmFyIHNwYWNlS2V5O1xyXG4gICAgdmFyIHNwYWNlS2V5U2xhc2ggPSBcIi9cIjtcclxuXHRcclxuXHQvLyBQYXR0ZXJuIGZvciBYcGVyaWVuY2UgMTMgb3IgbmV3ZXIgZG9jc1xyXG4gICAgaWYgKENPTkZJRy5PQlNPTEVURV9TUEFDRV9LRVlfRk9STUFUX1ZFUlNJT05TLmluZGV4T2YodmVyc2lvbikgPT09IC0xKSB7XHJcblx0XHQvLyBUaGUgWFAgZG9jcyBkbyBub3QgaGF2ZSBhIG51bWJlciBwcmVmaXggaW4gdGhlaXIgc3BhY2Uga2V5c1xyXG5cdFx0dmFyIHZlcnNpb25QcmVmaXggPSAodmVyc2lvbiA9PT0gXCJ4cFwiKSA/IFwiXCIgOiB2ZXJzaW9uO1xyXG5cdFx0XHJcbiAgICAgICAgc3dpdGNoIChkb2NUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJUdXRvcmlhbFwiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uUHJlZml4ICsgXCJ0dXRvcmlhbFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJBUEkgRXhhbXBsZXNcIjpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gdmVyc2lvblByZWZpeCArIFwiYXBpXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gdmVyc2lvbjtcclxuICAgICAgICB9XHRcdFxyXG5cdFx0Ly8gUmVtb3ZlcyB0aGUgc3BhY2Uga2V5IGZyb20gdGhlIGxpbmsgZm9yIHRoZSB2ZXJzaW9uICh1c2VzIHRoZSBiYXNlIFVSTCB3aXRob3V0IGEga2V5IGluIHRoZSBwYXRoKVxyXG5cdFx0aWYgKHNwYWNlS2V5ID09PSBDT05GSUcuRE9DX1JPT1RfVVJMX1NQQUNFX0tFWSkge1xyXG5cdFx0XHRzcGFjZUtleSA9IFwiXCI7XHJcblx0XHRcdHNwYWNlS2V5U2xhc2ggPSBcIi9cIjtcclxuXHRcdH1cclxuXHQvLyBQYXR0ZXJuIGZvciBvbGRlciBzcGFjZXMgd2l0aCBhIHZlcnNpb24gbnVtYmVyIHN1ZmZpeCBpbiB0aGUgc3BhY2Uga2V5XHRcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3dpdGNoIChkb2NUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJUdXRvcmlhbFwiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSBcImtcIiArIHZlcnNpb24gKyBcInR1dG9yaWFsXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFQSSBFeGFtcGxlc1wiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSBcImFwaVwiICsgdmVyc2lvbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSBcImtcIiArIHZlcnNpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB2YXIgbGlua1RleHQgPSB1c2VEb2NUeXBlSW5MaW5rVGV4dCA/IGRvY1R5cGUgOiBnZXRWZXJzaW9uVGV4dEZyb21WZXJzaW9uSWQodmVyc2lvbik7XHJcbiAgICB2YXIgbGlua1RpdGxlID0gJyB0aXRsZT1cIicgKyAodXNlRG9jVHlwZUluTGlua1RleHQgPyBkb2NUeXBlIDogZ2V0VmVyc2lvbkxpbmtUaXRsZSh2ZXJzaW9uKSkgKyAnXCInO1xyXG5cclxuICAgIHZhciBjbGFzc0F0dHJpYnV0ZSA9ICdjbGFzcz1cIicgKyAoaXNDdXJyZW50ID8gJyBjdXJyZW50JyA6ICcnKSArICdcIic7XHJcblxyXG4gICAgcmV0dXJuICc8bGk+PGEgaHJlZj1cIicgKyBzcGFjZUtleVNsYXNoICsgc3BhY2VLZXkgKyAnXCInICsgY2xhc3NBdHRyaWJ1dGUgKyBsaW5rVGl0bGUgKyAnPicgKyBsaW5rVGV4dCArICc8L2E+PC9saT4nO1xyXG59O1xyXG5cclxuXHJcbnZhciBsb2FkRG9jVmVyc2lvbkhlYWRlckxpc3QgPSBmdW5jdGlvbiBsb2FkRG9jVmVyc2lvbkhlYWRlckxpc3QoY3VycmVudERvY1R5cGUsIGN1cnJlbnREb2NWZXJzaW9uKSB7XHJcbiAgICB2YXIgdXNlckxvZ2dlZEluID0gJCgnW25hbWU9XCJjb25mbHVlbmNlLXVzZXItbG9nZ2VkLWluXCJdJykuYXR0cignY29udGVudCcpO1xyXG5cclxuICAgIC8vIEZpbHRlcnMgb3V0IHVuYXZhaWxhYmxlIGFuZCB1bnB1Ymxpc2hlZCB2ZXJzaW9uc1xyXG4gICAgdmFyIGF2YWlsYWJsZURvY1ZlcnNpb25zID0gRE9DVU1FTlRBVElPTl9WRVJTSU9OUy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIEFQSSBleGFtcGxlcyBmb3IgOC4yIG9yIG9sZGVyXHJcbiAgICAgICAgcmV0dXJuICgoY3VycmVudERvY1R5cGUgIT09IFwiQVBJIEV4YW1wbGVzXCIpIHx8IChpdGVtLnZlcnNpb25JZCAhPT0gXCI4XCIgJiYgaXRlbS52ZXJzaW9uSWQgIT09IFwiODFcIiAmJiBpdGVtLnZlcnNpb25JZCAhPT0gXCI4MlwiKSkgJiZcclxuICAgICAgICAgICAgICAgIC8vIEhpZGVzIHRoZSBkZXZlbG9wbWVudCB2ZXJzaW9uIGZvciBwdWJsaWMgdXNlcnNcclxuICAgICAgICAgICAgICAgKCh1c2VyTG9nZ2VkSW4gPT09IFwidHJ1ZVwiKSB8fCAoaXRlbS52ZXJzaW9uSWQgIT09IENPTkZJRy5ERVZfRE9DVU1FTlRBVElPTl9WRVJTSU9OX0lEKSkgJiZcclxuICAgICAgICAgICAgICAgIC8vIEhpZGVzIHZlcnNpb24gMTIsIHdoaWNoIGlzIHJlZGlyZWN0ZWQgdG8gMTJTUFxyXG4gICAgICAgICAgICAgICAoaXRlbS52ZXJzaW9uSWQgIT09IFwiMTJcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgZG9jVmVyc2lvbkxpbmtzID0gXCJcIjtcclxuXHJcbiAgICBhdmFpbGFibGVEb2NWZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgLy8gSGlkZXMgb2xkZXIgZG9jdW1lbnRhdGlvbiB2ZXJzaW9ucyBiZWhpbmQgdGhlICdBbGwgdmVyc2lvbnMnIGV4cGFuZGFibGVcclxuICAgICAgICBpZiAoaXRlbS52ZXJzaW9uSWQgPT0gQ09ORklHLk5FV0VTVF9VTlNVUFBPUlRFRF9WRVJTSU9OX0lEKSB7XHJcbiAgICAgICAgICAgIGRvY1ZlcnNpb25MaW5rcyArPSAnPGxpIGNsYXNzPVwianMtdW5zdXBwb3J0ZWQtdmVyc2lvbnNcIj4nICtcclxuICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwiaGVhZGVyLWRkbC1idXR0b24tbmVzdGVkIGpzLXVuc3VwcG9ydGVkLXZlcnNpb25zLWJ1dHRvblwiPicgK1xyXG4gICAgICAgICAgICAgICAgJ0FsbCB2ZXJzaW9ucycgK1xyXG4gICAgICAgICAgICAgICAgJzwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAgICAgJzx1bCBjbGFzcz1cIm1lbnUtZGRsLWNvbnRlbnQgbmVzdGVkLWxpc3QgZG9jVmVyc2lvbiBqcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1saXN0XCI+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvY1ZlcnNpb25MaW5rcyArPSBidWlsZERvY0xpbmsoaXRlbS52ZXJzaW9uSWQsIGN1cnJlbnREb2NUeXBlLCBmYWxzZSwgaXRlbS52ZXJzaW9uSWQgPT0gY3VycmVudERvY1ZlcnNpb24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jVmVyc2lvbkxpbmtzICs9ICc8L3VsPjwvbGk+JztcclxuXHJcbiAgICAkKCcuanMtbWVudURkbEJ0bi12ZXJzaW9uJykuaHRtbChnZXRWZXJzaW9uVGV4dEZyb21WZXJzaW9uSWQoY3VycmVudERvY1ZlcnNpb24pKTtcclxuICAgICQoJy5qcy1tZW51RGRsLXZlcnNpb24nKS5odG1sKGRvY1ZlcnNpb25MaW5rcyk7XHJcbn07XHJcblxyXG5cclxuLy8gUmVnaXN0ZXJzIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIHVuc3VwcG9ydGVkIHZlcnNpb25zIGxpc3RcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgXCIuanMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtYnV0dG9uXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5qcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1saXN0JykudG9nZ2xlQ2xhc3MoJ3Nob3cnKTtcclxuICAgICQoJy5qcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1saXN0JykudG9nZ2xlQ2xhc3MoJ29wZW5lZCcpO1xyXG59KTtcclxuXHJcblxyXG52YXIgbG9hZERvY1R5cGVIZWFkZXJMaXN0ID0gZnVuY3Rpb24gbG9hZERvY1R5cGVIZWFkZXJMaXN0KGN1cnJlbnREb2NWZXJzaW9uLCBjdXJyZW50RG9jVHlwZSkge1xyXG4gICAgdmFyIGF2YWlsYWJsZURvY1R5cGVzID0gW1wiRG9jdW1lbnRhdGlvblwiLCBcIlR1dG9yaWFsXCIsIFwiQVBJIEV4YW1wbGVzXCJdO1xyXG4gICAgLy8gRmlsdGVycyBvdXQgdGhlIEFQSSBFeGFtcGxlcyBkb2N1bWVudGF0aW9uIHR5cGUgaWYgdGhlIGN1cnJlbnQgdmVyc2lvbiBpcyA4LjIgb3Igb2xkZXJcclxuICAgIGF2YWlsYWJsZURvY1R5cGVzID0gYXZhaWxhYmxlRG9jVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIChjdXJyZW50RG9jVmVyc2lvbiAhPT0gXCI4XCIgJiYgY3VycmVudERvY1ZlcnNpb24gIT09IFwiODFcIiAmJiBjdXJyZW50RG9jVmVyc2lvbiAhPT0gXCI4MlwiKSB8fCAoaXRlbSAhPT0gXCJBUEkgRXhhbXBsZXNcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgZG9jVHlwZUxpbmtzID0gXCJcIjtcclxuICAgIGF2YWlsYWJsZURvY1R5cGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBkb2NUeXBlTGlua3MgKz0gYnVpbGREb2NMaW5rU3BlY2lhbChjdXJyZW50RG9jVmVyc2lvbiwgaXRlbSwgdHJ1ZSwgaXRlbSA9PSBjdXJyZW50RG9jVHlwZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanMtbWVudURkbEJ0bi1kb2NUeXBlJykuaHRtbChjdXJyZW50RG9jVHlwZSk7XHJcbiAgICAkKCcuanMtbWVudURkbC1kb2NUeXBlJykuaHRtbChkb2NUeXBlTGlua3MpO1xyXG59O1xyXG5cclxuLy8gQnVpbGRzIGxpbmtzIHRvIHRoZSBkb2N1bWVudGF0aW9uIHNwYWNlIHJvb3QgZm9yIGEgc3BlY2lmaWVkIGRvY3VtZW50YXRpb24gdHlwZSBhbmQgdmVyc2lvblxyXG52YXIgYnVpbGREb2NMaW5rU3BlY2lhbCA9IGZ1bmN0aW9uIGJ1aWxkRG9jTGlua1NwZWNpYWwodmVyc2lvbiwgZG9jVHlwZSwgdXNlRG9jVHlwZUluTGlua1RleHQsIGlzQ3VycmVudCkge1xyXG4gICAgdmFyIHNwYWNlS2V5O1xyXG4gICAgdmFyIHNwYWNlS2V5U2xhc2ggPSBcIi4uL1wiO1xyXG5cdFxyXG5cdC8vIFBhdHRlcm4gZm9yIFhwZXJpZW5jZSAxMyBvciBuZXdlciBkb2NzXHJcbiAgICBpZiAoQ09ORklHLk9CU09MRVRFX1NQQUNFX0tFWV9GT1JNQVRfVkVSU0lPTlMuaW5kZXhPZih2ZXJzaW9uKSA9PT0gLTEpIHtcclxuXHRcdC8vIFRoZSBYUCBkb2NzIGRvIG5vdCBoYXZlIGEgbnVtYmVyIHByZWZpeCBpbiB0aGVpciBzcGFjZSBrZXlzXHJcblx0XHR2YXIgdmVyc2lvblByZWZpeCA9ICh2ZXJzaW9uID09PSBcInhwXCIpID8gXCJcIiA6IHZlcnNpb247XHJcblx0XHRcclxuICAgICAgICBzd2l0Y2ggKGRvY1R5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcIlR1dG9yaWFsXCI6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IHZlcnNpb25QcmVmaXggKyBcInR1dG9yaWFsXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFQSSBFeGFtcGxlc1wiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uUHJlZml4ICsgXCJhcGlcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uO1xyXG4gICAgICAgIH1cdFx0XHJcblx0XHQvLyBSZW1vdmVzIHRoZSBzcGFjZSBrZXkgZnJvbSB0aGUgbGluayBmb3IgdGhlIHZlcnNpb24gKHVzZXMgdGhlIGJhc2UgVVJMIHdpdGhvdXQgYSBrZXkgaW4gdGhlIHBhdGgpXHJcblx0XHRpZiAoc3BhY2VLZXkgPT09IENPTkZJRy5ET0NfUk9PVF9VUkxfU1BBQ0VfS0VZKSB7XHJcblx0XHRcdHNwYWNlS2V5ID0gXCJcIjtcclxuXHRcdFx0c3BhY2VLZXlTbGFzaCA9IFwiLi4vXCI7XHJcblx0XHR9XHJcblx0Ly8gUGF0dGVybiBmb3Igb2xkZXIgc3BhY2VzIHdpdGggYSB2ZXJzaW9uIG51bWJlciBzdWZmaXggaW4gdGhlIHNwYWNlIGtleVx0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN3aXRjaCAoZG9jVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiVHV0b3JpYWxcIjpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJrXCIgKyB2ZXJzaW9uICsgXCJ0dXRvcmlhbFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJBUEkgRXhhbXBsZXNcIjpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJhcGlcIiArIHZlcnNpb247XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJrXCIgKyB2ZXJzaW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdmFyIGxpbmtUZXh0ID0gdXNlRG9jVHlwZUluTGlua1RleHQgPyBkb2NUeXBlIDogZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkKHZlcnNpb24pO1xyXG4gICAgdmFyIGxpbmtUaXRsZSA9ICcgdGl0bGU9XCInICsgKHVzZURvY1R5cGVJbkxpbmtUZXh0ID8gZG9jVHlwZSA6IGdldFZlcnNpb25MaW5rVGl0bGUodmVyc2lvbikpICsgJ1wiJztcclxuXHJcbiAgICB2YXIgY2xhc3NBdHRyaWJ1dGUgPSAnY2xhc3M9XCInICsgKGlzQ3VycmVudCA/ICcgY3VycmVudCcgOiAnJykgKyAnXCInO1xyXG5cclxuICAgIHJldHVybiAnPGxpPjxhIGhyZWY9XCInICsgc3BhY2VLZXlTbGFzaCArIHNwYWNlS2V5ICsgJ1wiJyArIGNsYXNzQXR0cmlidXRlICsgbGlua1RpdGxlICsgJz4nICsgbGlua1RleHQgKyAnPC9hPjwvbGk+JztcclxufTtcclxuXHJcbi8vIEFkZHMgdGhlIG9wdGlvbnMgdG8gdGhlIGRvY3VtZW50YXRpb24gdHlwZSBhbmQgdmVyc2lvbiBkcm9wLWRvd24gbGlzdHNcclxudmFyIGxvYWRIZWFkZXJMaXN0cyA9IGZ1bmN0aW9uIGxvYWRIZWFkZXJMaXN0cygpIHtcclxuICAgIHZhciBjdXJyZW50RG9jVmVyc2lvbiA9IGdldERvY1ZlcnNpb24oQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZKTtcclxuICAgIHZhciBjdXJyZW50RG9jVHlwZSA9IGdldERvY1R5cGUoQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZKTtcclxuXHJcbiAgICBsb2FkRG9jVHlwZUhlYWRlckxpc3QoY3VycmVudERvY1ZlcnNpb24sIGN1cnJlbnREb2NUeXBlKTtcclxuICAgIGxvYWREb2NWZXJzaW9uSGVhZGVyTGlzdChjdXJyZW50RG9jVHlwZSwgY3VycmVudERvY1ZlcnNpb24pO1xyXG59O1xyXG5cclxudmFyIHJlZ2lzdGVyUGFnZVRyZWVFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKVxyXG57XHJcbiAgICBcclxuICAgICQoJ3VsLmh0LXBhZ2VzLW5hdi10b3AnKS5vbignY2xpY2snLCAnLnNwLXRvZ2dsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBsaSA9ICQodGhpcykucGFyZW50KCdsaScpO1xyXG4gICAgICAgIGlmIChsaS5pcygnLmNvbGxhcHNlZCcpKSB7XHJcbiAgICAgICAgICAgIGxpLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChsaS5pcygnLm9wZW4nKSkge1xyXG4gICAgICAgICAgICBsaS5yZW1vdmVDbGFzcygnb3BlbicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGhhdmUgY2hpbGRyZW4gLT4gbm8tb3BcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4kKGRvY3VtZW50KS5yZWFkeShyZWdpc3RlclBhZ2VUcmVlRXZlbnRIYW5kbGVyKTtcclxuXHJcblxyXG4vLyBDbG9zZXMgdGhlIGRvY3VtZW50YXRpb24gdHlwZSBhbmQgdmVyc2lvbiBkcm9wLWRvd24gbGlzdHMgaWYgdGhlIGNsaWVudCBjbGlja3MgZWxzZXdoZXJlXHJcbnZhciBjbG9zZUhlYWRlckRyb3BEb3ducyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIGJ1dHRvbkRvY1R5cGUgPSAkKFwiLmpzLW1lbnVEZGxCdG4tZG9jVHlwZVwiKTtcclxuICAgIHZhciBidXR0b25WZXJzaW9uID0gJChcIi5qcy1tZW51RGRsQnRuLXZlcnNpb25cIik7XHJcbiAgICB2YXIgb2xkZXJWZXJzaW9uc0J1dHRvbiA9ICQoXCIuanMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtYnV0dG9uXCIpO1xyXG4gICAgdmFyIG9sZGVyVmVyc2lvbnNMaXN0ID0gJChcIi5qcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1saXN0XCIpO1xyXG4gICAgdmFyIGRldk1vZGVsQnV0dG9uID0gJChcIi5qcy1tZW51RGRsQnRuLWRldk1vZGVsXCIpO1xyXG4gICAgdmFyIGRldk1vZGVsTGlzdCA9ICQoXCIuanMtbWVudURkbC1kZXZNb2RlbFwiKTtcclxuXHJcbiAgICBpZiAob2xkZXJWZXJzaW9uc0J1dHRvbi5pcyhldmVudC50YXJnZXQpKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWJ1dHRvbkRvY1R5cGUuaXMoZXZlbnQudGFyZ2V0KSAmJiAoYnV0dG9uRG9jVHlwZS5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgJChcIi5qcy1tZW51RGRsLWRvY1R5cGVcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgIGJ1dHRvbkRvY1R5cGUucmVtb3ZlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFidXR0b25WZXJzaW9uLmlzKGV2ZW50LnRhcmdldCkgJiYgKGJ1dHRvblZlcnNpb24uaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgICQoXCIuanMtbWVudURkbC12ZXJzaW9uXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICBidXR0b25WZXJzaW9uLnJlbW92ZUNsYXNzKFwib3BlbmVkXCIpO1xyXG4gICAgICAgIG9sZGVyVmVyc2lvbnNMaXN0LnJlbW92ZUNsYXNzKFwib3BlbmVkXCIpO1xyXG4gICAgICAgIG9sZGVyVmVyc2lvbnNMaXN0LnJlbW92ZUNsYXNzKFwic2hvd1wiKTsgICAgXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFkZXZNb2RlbEJ1dHRvbi5pcyhldmVudC50YXJnZXQpICYmIChkZXZNb2RlbExpc3QuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgIGRldk1vZGVsTGlzdC5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgZGV2TW9kZWxCdXR0b24ucmVtb3ZlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkobG9hZEhlYWRlckxpc3RzKTtcclxuJChkb2N1bWVudCkuY2xpY2soY2xvc2VIZWFkZXJEcm9wRG93bnMpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PSBIRUFERVIgRGV2TW9kZWwgU3dpdGNoZXIgPT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQgPSBmdW5jdGlvbiBpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQoKSB7XHJcbiAgICB2YXIgY3VycmVudFNwYWNlS2V5ID0gQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZO1xyXG5cclxuICAgIC8vIE9ubHkgc3VwcG9ydGVkIGJ5IHdoaXRlbGlzdGVkIGRvY3VtZW50YXRpb24gdmVyc2lvbnMgLSBDT05GSUcuQ09ORkxVRU5DRV9ERVZNT0RFTF9WRVJTSU9OU1dJVENIRVJfV0hJVEVMSVNUXHJcbiAgICBpZiAoIWN1cnJlbnRTcGFjZUtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYXBpXCIpICYmIENPTkZJRy5DT05GTFVFTkNFX0RFVk1PREVMX1ZFUlNJT05TV0lUQ0hFUl9XSElURUxJU1QuaW5kZXhPZihnZXREb2NWZXJzaW9uKGN1cnJlbnRTcGFjZUtleSkpID49IDApIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5cclxudmFyIGdldFBhZ2VMYWJlbHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbGFiZWxzID0gJCgnW25hbWU9XCJjb25mbHVlbmNlLXBhZ2UtbGFiZWxzXCJdJykuYXR0cignY29udGVudCcpO1xyXG4gICAgbGFiZWxzID0gbGFiZWxzLnNsaWNlKDEsIC0xKTtcclxuICAgIGxhYmVscyA9IGxhYmVscy5zcGxpdChcIiwgXCIpO1xyXG5cclxuICAgIHJldHVybiBsYWJlbHM7XHJcbn07XHJcblxyXG5cclxudmFyIHNldERldk1vZGVsV2ViU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQoKSAmJiB0eXBlb2YgKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRMYWJlbHMgPSBnZXRQYWdlTGFiZWxzKCk7XHJcblxyXG4gICAgICAgIC8vIFNldHMgTVZDIG1vZGUgZm9yIHBhZ2VzIGNvbnRhaW5pbmcgdGhlICdtdmMnIGxhYmVsXHJcbiAgICAgICAgaWYgKGN1cnJlbnRMYWJlbHMuaW5kZXhPZihcIm12Y1wiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgPSBcIm12Y1wiO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNldHMgUEUgbW9kZSBmb3IgcGFnZXMgY29udGFpbmluZyB0aGUgJ3BlJyBsYWJlbFxyXG4gICAgICAgIGlmIChjdXJyZW50TGFiZWxzLmluZGV4T2YoXCJwZVwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgPSBcInBlXCI7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrcyBmb3IgdGhlICdkZXZNb2RlbCcgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciwgd2hpY2ggY2FuIGZvcmNlIHRoZSBkZXYgbW9kZWwgZm9yIGh5YnJpZCBwYWdlc1xyXG4gICAgICAgIHZhciBxdWVyeVN0cmluZ1BhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICAgICAgaWYgKHF1ZXJ5U3RyaW5nUGFyYW1zLmluZGV4T2YoXCJkZXZNb2RlbD1tdmNcIikgPj0gMCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlID0gXCJtdmNcIjtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocXVlcnlTdHJpbmdQYXJhbXMuaW5kZXhPZihcImRldk1vZGVsPXBlXCIpID49IDApIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSA9IFwicGVcIjtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGVmYXVsdHMgdG8gTVZDIGlmIG5vIHdlYiBzdG9yYWdlIHZhbHVlIGlzIHNldFxyXG4gICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZVwiKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlID0gXCJtdmNcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBEb2VzIG5vdGhpbmcgaWYgd2ViIHN0b3JhZ2UgaXMgZGlzYWJsZWQsIGVuZHBvaW50cyBhdXRvbWF0aWNhbGx5IGRlZmF1bHQgdG8gTVZDXHJcbn07XHJcblxyXG5cclxudmFyIGdldEN1cnJlbnREZXZNb2RlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjdXJyZW50bGFiZWxzID0gZ2V0UGFnZUxhYmVscygpO1xyXG5cclxuICAgIGlmIChjdXJyZW50bGFiZWxzLmluZGV4T2YoXCJtdmNcIikgPj0gMCkge1xyXG4gICAgICAgIHJldHVybiBcIm12Y1wiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50bGFiZWxzLmluZGV4T2YoXCJwZVwiKSA+PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwicGVcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVja3MgZm9yIHRoZSAnZGV2TW9kZWwnIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIsIHdoaWNoIGNhbiBmb3JjZSB0aGUgZGV2IG1vZGVsIGZvciBoeWJyaWQgcGFnZXNcclxuICAgIHZhciBxdWVyeVN0cmluZ1BhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcblxyXG4gICAgaWYgKHF1ZXJ5U3RyaW5nUGFyYW1zLmluZGV4T2YoXCJkZXZNb2RlbD1tdmNcIikgPj0gMCkge1xyXG4gICAgICAgIHJldHVybiBcImFsbHxtdmNcIjtcclxuICAgIH1cclxuICAgIGlmIChxdWVyeVN0cmluZ1BhcmFtcy5pbmRleE9mKFwiZGV2TW9kZWw9cGVcIikgPj0gMCkge1xyXG4gICAgICAgIHJldHVybiBcImFsbHxwZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrcyB0aGUgcGVyc2lzdGluZyBsb2NhbCBzdG9yYWdlIGZvciBoeWJyaWQgcGFnZXMgKE1WQyArIFBFKVxyXG4gICAgaWYgKHR5cGVvZiAoU3RvcmFnZSkgIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSkge1xyXG4gICAgICAgIHJldHVybiBcImFsbHxcIiArIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVmYXVsdHMgdG8gTVZDIGlmIGxvY2FsIHN0b3JhZ2UgaXMgZW1wdHkgb3IgZGlzYWJsZWRcclxuICAgIHJldHVybiBcImFsbHxtdmNcIjtcclxufTtcclxuXHJcblxyXG4vLyBUcmFuc2xhdGVzIHRoZSB0cmltbWVkIHNwYWNlIGtleSB2ZXJzaW9uIHRvIHRoZSBJRCB1c2VkIGJ5IHRoZSBkb2N1bWVudGF0aW9uIGhlbHAgc2VydmljZVxyXG52YXIgdHJhbnNsYXRlVG9IZWxwU2VydmljZVZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbikge1xyXG4gICAgcmV0dXJuIERPQ1VNRU5UQVRJT05fVkVSU0lPTlMuZmluZCgoaXRlbSkgPT4gaXRlbS52ZXJzaW9uSWQgPT0gdmVyc2lvbikuaGVscFNlcnZpY2VWZXJzaW9uO1xyXG59O1xyXG5cclxuXHJcbi8vIFN3aXRjaGVzIHRoZSBkZXYgbW9kZWwgaW4gdGhlIHdlYiBzdG9yYWdlXHJcbi8vIERvZXMgTk9UIHJlZGlyZWN0ICh0aGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBiZWZvcmUgYSByZWRpcmVjdC9yZWZyZXNoL2xpbmspXHJcbnZhciBzd2l0Y2hEZXZNb2RlbFN0b3JhZ2UgPSBmdW5jdGlvbiAodGFyZ2V0TW9kZWwpIHtcclxuICAgIGlmICh0eXBlb2YgKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSA9IHRhcmdldE1vZGVsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gRGlzcGxheXMvaGlkZXMgdGhlIGRvY3VtZW50YXRpb24gdHlwZSBzZWxlY3RvciBkcm9wLWRvd24gbGlzdFxyXG52YXIgb3BlbkNsb3NlRGV2TW9kZWxEZGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGwtZGV2TW9kZWxcIikudG9nZ2xlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgJChcIi5qcy1tZW51RGRsQnRuLWRldk1vZGVsXCIpLnRvZ2dsZUNsYXNzKFwib3BlbmVkXCIpO1xyXG59O1xyXG5cclxudmFyIGRldk1vZGVsTWFwID0ge1xyXG4gICAgbXZjOiAnTVZDJyxcclxuICAgIHBlOiAnUG9ydGFsIEVuZ2luZScsXHJcbn07XHJcblxyXG5cclxudmFyIGluaXRBbHREZXZNb2RlbExpbmsgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBFbmRzIHRoZSBmdW5jdGlvbiBmb3IgQ29uZmx1ZW5jZSBzcGFjZXMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgZGV2IG1vZGVsIHN3aXRjaGVyXHJcbiAgICBpZiAoIWlzRGV2TW9kZWxTd2l0Y2hlclN1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjdXJyZW50TW9kZWwgPSBnZXRDdXJyZW50RGV2TW9kZWwoKTtcclxuXHJcbiAgICAvLyBDaGVja3Mgd2hldGhlciB0aGUgcGFnZSBpcyBhdmFpbGFibGUgZm9yIGFsbCBkZXYgbW9kZWxzIGFuZCBhZGp1c3RzIHRoZSBjdXJyZW50TW9kZWwgdmFsdWUgaWYgdGhhdCBpcyB0aGUgY2FzZVxyXG4gICAgdmFyIGFsbERldk1vZGVsUGFnZSA9IGZhbHNlO1xyXG4gICAgaWYgKGN1cnJlbnRNb2RlbC5pbmRleE9mKFwiYWxsfFwiKSA9PT0gMCkge1xyXG4gICAgICAgIGFsbERldk1vZGVsUGFnZSA9IHRydWU7XHJcbiAgICAgICAgY3VycmVudE1vZGVsID0gY3VycmVudE1vZGVsLnNwbGl0KFwifFwiKVsxXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWx0RGV2TW9kZWwgPSAoY3VycmVudE1vZGVsID09IFwibXZjXCIpID8gXCJwZVwiIDogXCJtdmNcIjtcclxuXHJcbiAgICAvLyBHZXRzIHRoZSBhY3RpdmUgZGV2IG1vZGVsIGVsZW1lbnQgYW5kIGFkZHMgdGhlICdhY3RpdmUnIENTUyBjbGFzc1xyXG4gICAgJChcIi5qcy1cIiArIGN1cnJlbnRNb2RlbCArIFwiLW1vZGVsLWxpbmtcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgLy8gR2V0cyB0aGUgbm9uLWFjdGl2ZSBkZXYgbW9kZWwgZWxlbWVudFxyXG4gICAgdmFyIGFsdERldk1vZGVsRWxlbWVudCA9ICQoXCIuanMtXCIgKyBhbHREZXZNb2RlbCArIFwiLW1vZGVsLWxpbmtcIik7XHJcblxyXG4gICAgLy8gRW5kcyB0aGUgZnVuY3Rpb24gaWYgdGhlIGVsZW1lbnQgaXMgbm90IHByZXNlbnQgb24gdGhlIHBhZ2UgXl5cclxuICAgIGlmICghYWx0RGV2TW9kZWxFbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5qcy1tZW51RGRsQnRuLWRldk1vZGVsJykuaHRtbChkZXZNb2RlbE1hcFtjdXJyZW50TW9kZWxdKTtcclxuXHJcbiAgICAvLyBGb3IgXCJhbGwgZGV2IG1vZGVsXCIgcGFnZXMsIGFkanVzdHMgdGhlIGFsdGVybmF0aXZlIGxpbmsgdG8gcmVmcmVzaCB0aGUgc2FtZSBwYWdlIGFuZCBzd2l0Y2hlcyB0aGUgZGV2IG1vZGVsXHJcbiAgICBpZiAoYWxsRGV2TW9kZWxQYWdlKSB7XHJcbiAgICAgICAgYWx0RGV2TW9kZWxFbGVtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzd2l0Y2hEZXZNb2RlbFN0b3JhZ2UoYWx0RGV2TW9kZWwpO1xyXG4gICAgICAgICAgICAvLyBTcGVjaWFsIHBhZ2UgcmVsb2FkIGlmIHN3aXRjaGluZyBvbiB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZVxyXG4gICAgICAgICAgICB2YXIgcGF0aE5hbWVBcnJheSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgICAgIGlmIChwYXRoTmFtZUFycmF5W3BhdGhOYW1lQXJyYXkubGVuZ3RoIC0gMV0gPT0gXCJzZWFyY2hcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVvcGVucyB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZSB3aXRoIHRoZSBzd2l0Y2hlZCBkZXYgbW9kZWxcclxuICAgICAgICAgICAgICAgIGtlbnRpY29UaGVtZU9wZW5TZWFyY2hSZXN1bHRzUGFnZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlcyB0aGUgZnJhZ21lbnQgZnJvbSB0aGUgcGFnZSBVUkwgKGl0IGNhbiBvdGhlcndpc2UgcHJldmVudCBhIGZ1bGwgcGFnZSByZWxvYWQgaWYgcHJlc2VudClcclxuICAgICAgICAgICAgICAgIHZhciBkZXZNb2RlbFJlbG9hZFVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLmhhc2gsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgZGV2TW9kZWxSZWxvYWRVcmwgPSBkZXZNb2RlbFJlbG9hZFVybC5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmVzIHRoZSA/ZGV2TW9kZWwgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciB3aGljaCB3b3VsZCBpbnRlcmZlcmUgd2l0aCB0aGUgc3dpdGNoIG9uIGFsbF9tb2RlbCBwYWdlc1xyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogVGhlIGN1cnJlbnQgYmFzaWMgaW1wbGVtZW50YXRpb24gYWxzbyByZW1vdmVzIGFsbCBwYXJhbWV0ZXJzIGFmdGVyICdkZXZNb2RlbCdcclxuICAgICAgICAgICAgICAgIGRldk1vZGVsUmVsb2FkVXJsID0gZGV2TW9kZWxSZWxvYWRVcmwuc3BsaXQoXCI/ZGV2TW9kZWxcIilbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVsb2FkcyB0aGUgcGFnZVxyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkZXZNb2RlbFJlbG9hZFVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjdXJyZW50TW9kZWxFbGVtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIG9wZW5DbG9zZURldk1vZGVsRGRsKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3IgcGFnZXMgYXZhaWxhYmxlIGluIGEgc3BlY2lmaWMgZGV2IG1vZGVsLCBhdHRlbXB0cyB0byBnZXQgdGhlIGlkZW50aWZpZXIgb2YgdGhlIGFsdGVybmF0aXZlIHBhZ2VcclxuICAgIHZhciBhbHRQYWdlSWRlbnRpZmllciA9ICQoXCIjZGV2LW1vZGVsLWFsdFwiKS5hdHRyKFwiZGF0YS1kZXZtb2RlbC1hbHRcIik7XHJcblxyXG4gICAgLy8gQnJhbmNoZXMgYmVoYXZpb3IgZGVwZW5kaW5nIG9uIHRoZSBleGlzdGVuY2Ugb2YgYSBwYWdlIGluIHRoZSBhbHRlcm5hdGl2ZSBkZXYgbW9kZWxcclxuICAgIGlmIChhbHRQYWdlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBjdXJyZW50RG9jVmVyc2lvbiA9IGdldERvY1ZlcnNpb24oQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZKTtcclxuICAgICAgICB2YXIgaGVscFNlcnZpY2VWZXJzaW9uID0gdHJhbnNsYXRlVG9IZWxwU2VydmljZVZlcnNpb24oY3VycmVudERvY1ZlcnNpb24pO1xyXG5cclxuICAgICAgICB2YXIgYWx0UGFnZVVybCA9IENPTkZJRy5IRUxQU0VSVklDRV9MSU5LTUFQUEVSX0VORFBPSU5UICsgaGVscFNlcnZpY2VWZXJzaW9uICsgXCImbGluaz1cIiArIGFsdFBhZ2VJZGVudGlmaWVyO1xyXG5cclxuICAgICAgICAvLyBBZGRzIFwibGlua1wiIGZ1bmN0aW9uYWxpdHkgd2hlbiB0aGUgYWx0ZXJuYXRpdmUgZGV2IG1vZGVsIGVsZW1lbnQgaXMgY2xpY2tlZFxyXG4gICAgICAgIGFsdERldk1vZGVsRWxlbWVudC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU3dpdGNoZXMgdGhlIGRldiBtb2RlbCAoZm9yIGNhc2VzIHdoZXJlIHRoZSBhbHRlcm5hdGl2ZSB0YXJnZXQgaXMgYW4gXCJhbGwgZGV2IG1vZGVsXCIgcGFnZSlcclxuICAgICAgICAgICAgc3dpdGNoRGV2TW9kZWxTdG9yYWdlKGFsdERldk1vZGVsKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhbHRQYWdlVXJsO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBWaXN1YWxseSBkaXNhYmxlcyB0aGUgZGV2IG1vZGVsIHN3aXRjaGVyXHJcbiAgICAgICAgJChcIi5qcy1tZW51RGRsQnRuLWRldk1vZGVsXCIpLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKS5wcm9wKFwidGl0bGVcIiwgXCJcIik7XHJcblxyXG4gICAgICAgIC8vIERpc3BsYXlzIGEgbWVzc2FnZSBpbmZvcm1pbmcgdGhhdCB0aGUgcGFnZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBvdGhlciBkZXYgbW9kZWxcclxuICAgICAgICB2YXIgY3VycmVudE1vZGVsVGV4dCA9IChjdXJyZW50TW9kZWwgPT0gXCJtdmNcIikgPyBcIk1WQ1wiIDogXCJQb3J0YWwgRW5naW5lXCI7XHJcbiAgICAgICAgdmFyIGFsdE1vZGVsVGV4dCA9IChhbHREZXZNb2RlbCA9PSBcIm12Y1wiKSA/IFwiTVZDXCIgOiBcIlBvcnRhbCBFbmdpbmVcIjtcclxuICAgICAgICB2YXIgYWx0TW9kZWxIb21lVXJsID0gJCgnI2Fqcy1jb250ZXh0LXBhdGgnKS5hdHRyKCdjb250ZW50JykgKyBcIi9cIiArIENPTkZJRy5DT05GTFVFTkNFX1NQQUNFX0tFWS50b0xvd2VyQ2FzZSgpICsgXCI/ZGV2TW9kZWw9XCIgKyBhbHREZXZNb2RlbDtcclxuICAgICAgICB2YXIgYWx0TW9kZWxIb21lTGluayA9ICc8YSBpZD1cImFsdC1tb2RlbC1ob21lLWxpbmtcIiBocmVmPVwiJyArIGFsdE1vZGVsSG9tZVVybCArICdcIicgKyAnPicgKyBhbHRNb2RlbFRleHQgKyAnIEhvbWUgcGFnZTwvYT4nO1xyXG4gICAgICAgICQoXCIuanMtZGV2LW1vZGVsLXVuYXZhaWxhYmxlLXRleHRcIikuaHRtbChcIjxwPlRoaXMgcGFnZSBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgdGhlIFwiICsgY3VycmVudE1vZGVsVGV4dCArIFwiIGRldmVsb3BtZW50IG1vZGVsLjxiciAvPllvdSBjYW4gc3dpdGNoIHRvIHRoZSBcIiArIGFsdE1vZGVsSG9tZUxpbmsgKyBcIi48L3A+XCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KHNldERldk1vZGVsV2ViU3RvcmFnZSk7XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGluaXRBbHREZXZNb2RlbExpbmspO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09IFgxMyBDb3JlL01WQyBkZXYgZnJhbWV3b3JrIHN3aXRjaGVyID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIHNldERldkZyYW1ld29ya0J1dHRvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtY29yZVwiKS5jbGljayhmdW5jdGlvbigpeyBjb3JlRnJhbWV3b3JrT25DbGljaygpOyB9KTtcclxuICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaC1tdmNcIikuY2xpY2soZnVuY3Rpb24oKXsgbXZjRnJhbWV3b3JrT25DbGljaygpOyB9KTtcclxuICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaC1pbmRpY2F0b3JcIikuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwiY29yZVwiKSB7XHJcbiAgICAgICAgICAgIG12Y0ZyYW1ld29ya09uQ2xpY2soKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvcmVGcmFtZXdvcmtPbkNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtbXZjLCAuanMtZGV2LW1vZGVsLXN3aXRjaC1jb3JlIFwiKS5vbigna2V5dXAnLCBmdW5jdGlvbihlKSB7IFxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAvLyB1c2VyIGhhcyBwcmVzc2VkIHNwYWNlXHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzIpe1xyXG4gICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID09PSBcImNvcmVcIikge1xyXG4gICAgICAgICAgICAgICAgbXZjRnJhbWV3b3JrT25DbGljaygpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3JlRnJhbWV3b3JrT25DbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbnZhciBzZXREZXZGcmFtZXdvcmtDaGVja2JveCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwibXZjXCIpIHtcclxuICAgICAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtbXZjXCIpLmF0dHIoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaFwiKS5hZGRDbGFzcyhcImlzLWRldi1tb2RlbC1tdmNcIikucmVtb3ZlQ2xhc3MoXCJpcy1kZXYtbW9kZWwtY29yZVwiKVxyXG4gICAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwiY29yZVwiKSB7XHJcbiAgICAgICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoLWNvcmVcIikuYXR0cihcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoXCIpLmFkZENsYXNzKFwiaXMtZGV2LW1vZGVsLWNvcmVcIikucmVtb3ZlQ2xhc3MoXCJpcy1kZXYtbW9kZWwtbXZjXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBzZXRDb3JyZWN0RnJhbWV3b3JrID0gZnVuY3Rpb24gKGNoZWNrVXJsUGFyYW1ldGVycyA9IGZhbHNlKSB7XHJcbiAgICAvLyBTZXRzIE1WQyBhcyB0aGUgZGVmYXVsdCBmcmFtZXdvcmsgaWYgZnJhbWV3b3JrIGlzIG5vdCBzZXRcclxuICAgIGlmICghbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmtcIikgPT09IG51bGwpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPSBcIm12Y1wiO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGb3JjZXMgYSBmcmFtZXdvcmsgZnJvbSB0aGUgVVJMIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcclxuICAgIGlmKGNoZWNrVXJsUGFyYW1ldGVycykge1xyXG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgbGV0IGRldk1vZGVsUGFyYW1ldGVyID0gdXJsUGFyYW1zLmdldChcImRldm1vZGVsXCIpO1xyXG4gICAgICAgIGlmKGRldk1vZGVsUGFyYW1ldGVyID09PSBcIm12Y1wiIHx8IGRldk1vZGVsUGFyYW1ldGVyID09PSBcImNvcmVcIikge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPSBkZXZNb2RlbFBhcmFtZXRlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNldHMgdGhlIHZpc2liaWxpdHkgb2YgY29uZGl0aW9uYWwgY29udGVudCBibG9ja3NcclxuICAgIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwibXZjXCIpIHtcclxuICAgICAgICAkKFwiLmRldi1tb2RlbC1jb3JlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIuZGV2LW1vZGVsLW12Y1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICB9XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID09PSBcImNvcmVcIikge1xyXG4gICAgICAgICQoXCIuZGV2LW1vZGVsLW12Y1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAkKFwiLmRldi1tb2RlbC1jb3JlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0RGV2RnJhbWV3b3JrQ2hlY2tib3goKTtcclxufVxyXG5cclxudmFyIHNldEhvdmVyVGl0bGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHRleHQ9XCJTd2l0Y2ggdGhlIGRpc3BsYXllZCBkZXZlbG9wbWVudCBtb2RlbCBpbiB0aGUgc3dpdGNoZXIgdW5kZXIgdGhlIHBhZ2UgaGVhZGluZ1wiO1xyXG4gICAgJChcIi5kZXYtbW9kZWwtY29yZSAuY29kZUNvbnRlbnRcIikuYXR0cihcInRpdGxlXCIsIHRleHQpO1xyXG4gICAgJChcIi5kZXYtbW9kZWwtbXZjIC5jb2RlQ29udGVudFwiKS5hdHRyKFwidGl0bGVcIiwgdGV4dCk7XHJcbn1cclxuXHJcbnZhciBjb3JlRnJhbWV3b3JrT25DbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9IFwiY29yZVwiO1xyXG4gICAgc2V0Q29ycmVjdEZyYW1ld29yaygpO1xyXG59XHJcblxyXG52YXIgbXZjRnJhbWV3b3JrT25DbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9IFwibXZjXCI7XHJcbiAgICBzZXRDb3JyZWN0RnJhbWV3b3JrKCk7XHJcbn1cclxuXHJcbnZhciBzaG93RGV2RnJhbWV3b3JrU3dpdGNoZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2hcIikucmVtb3ZlQ2xhc3MoXCJpcy1oaWRkZW5cIik7XHJcbn1cclxuXHJcbnZhciBzZXREZXZGcmFtZXdvcmtTd2l0Y2hlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIENoZWNrcyB0aGF0IGNvbmRpdGlvbmFsIGNvbnRlbnQgaXMgcHJlc2VudCBvbiB0aGUgY3VycmVudCBwYWdlXHJcbiAgICBpZigoJChcIi5kZXYtbW9kZWwtY29yZVwiKS5sZW5ndGggKyAkKFwiLmRldi1tb2RlbC1tdmNcIikubGVuZ3RoKSA+IDApIHtcclxuICAgICAgICBzZXRDb3JyZWN0RnJhbWV3b3JrKHRydWUpO1xyXG4gICAgICAgIHNldERldkZyYW1ld29ya0J1dHRvbnMoKTtcclxuICAgICAgICBzZXREZXZGcmFtZXdvcmtDaGVja2JveCgpO1xyXG4gICAgICAgIHNob3dEZXZGcmFtZXdvcmtTd2l0Y2hlcigpO1xyXG4gICAgICAgIHNldEhvdmVyVGl0bGVzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KHNldERldkZyYW1ld29ya1N3aXRjaGVyKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU0NST0xMSU5HIEFESlVTVE1FTlRTID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBpbml0U2lkZWJhciA9IGZ1bmN0aW9uIGluaXRTaWRlYmFyKCkge1xyXG4gICAgLy8gU2lkZWJhciBwYWdlIGxpbmtzIGFyZSByZW5kZXJlZFxyXG4gICAgaWYgKCQoJy5odC1uYXYtcGFnZS1saW5rJykuZmlyc3QoKSAhPT0gbnVsbCkge1xyXG4gICAgICAgIC8vIEN1cnJlbnQgcGFnZSBsaW5rIGV4aXN0c1xyXG4gICAgICAgIC8vIERvZXMgbm90IG9jY3VyIG9uIGhvbWVwYWdlc1xyXG4gICAgICAgIGlmICgkKCcuaHQtbmF2LXBhZ2UtbGluay5jdXJyZW50JykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciAkc2Nyb2xsYWJsZUNvbnRlbnQgPSAkKFwiZGl2Lmh0LXNpZGViYXItY29udGVudFwiKTtcclxuICAgICAgICAgICAgdmFyIGhlYWRlckhlaWdodCA9ICQoJyNodC1oZWFkZXJiYXInKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJdGVtVG9wID0gJCgnLmh0LW5hdi1wYWdlLWxpbmsuY3VycmVudCcpWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHJcbiAgICAgICAgICAgIGlmICgkKCdkaXYuaHQtc2lkZWJhci1jb250ZW50JylbMF0uc2Nyb2xsVG9wID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2Nyb2xsYWJsZUNvbnRlbnQuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBNYXRoLnJvdW5kKGN1cnJlbnRJdGVtVG9wIC0gaGVhZGVySGVpZ2h0IC0gJHNjcm9sbGFibGVDb250ZW50Lm91dGVySGVpZ2h0KCkgLyAyLjUpXHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT25jZSBzY3JvbGxlZCwgYWRkIENTUyBhbmltYXRpb24gY2xhc3NcclxuICAgICAgICAgICAgJCgnI2h0LXNpZGViYXInKS5hZGRDbGFzcygnYW5pbWF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5pdFNpZGViYXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5pdFNpZGViYXIpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ1VTVE9NIFNFQVJDSCBJTVBMRU1FTlRBVElPTiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBQcmVwYXJlcyBhIHNlYXJjaCByZXF1ZXN0IGFuZCByZWRpcmVjdHMgdG8gdGhlIGZ1bGwgc2VhcmNoIHJlc3VsdHMgcGFnZVxyXG52YXIga2VudGljb1RoZW1lT3BlblNlYXJjaFJlc3VsdHNQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlYXJjaFF1ZXJ5ID0gJCgnLnNlYXJjaC1pbnB1dCcpLnZhbCgpO1xyXG5cclxuICAgIC8vIEVzY2FwZXMgZm9yYmlkZGVuIGNoYXJhY3RlcnNcclxuICAgIHNlYXJjaFF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaFF1ZXJ5KTtcclxuXHJcbiAgICAvLyBTZXRzIHRoZSBtYXggbnVtYmVyIG9mIHNlYXJjaCByZXN1bHRzIHBlciBwYWdlIHRvIDEwXHJcbiAgICBzZWFyY2hRdWVyeSA9IHNlYXJjaFF1ZXJ5O1xyXG5cclxuICAgIC8vIERldGVybWluZXMgd2hldGhlciBsYWJlbCBmaWx0ZXJpbmcgYmFzZWQgb24gdGhlIGN1cnJlbnQgZGV2IG1vZGVsIGlzIGFsbG93ZWRcclxuICAgIC8vIFRydWUgYnkgZGVmYXVsdCwgZmFsc2UgaWYgdGhlICdTaG93IHJlc3VsdHMgZm9yIGFsbCBkZXYgbW9kZWxzJyBjaGVja2JveCBleGlzdHMgKG9uIHRoZSBzZWFyY2ggcmVzdWx0cyBwYWdlKSBhbmQgaXMgc2VsZWN0ZWRcclxuICAgIHZhciBzaG93QWxsUmVzdWx0c0NoZWNrYm94RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hlY2stc2hvdy1hbGwtc2VhcmNoLXJlc3VsdHNcIik7XHJcbiAgICB2YXIgdXNlRGV2TW9kZWxGaWx0ZXJpbmcgPSAhKHNob3dBbGxSZXN1bHRzQ2hlY2tib3hFbGVtICYmIHNob3dBbGxSZXN1bHRzQ2hlY2tib3hFbGVtLmNoZWNrZWQpO1xyXG5cclxuICAgIC8vIENhbGxzIHRoZSBWaWV3UG9ydCBzZWFyY2ggcmVzdWx0cyBuYXZpZ2F0aW9uIGZ1bmN0aW9uXHJcbiAgICBpZiAod2luZG93LlNDUk9MTF9XRUJIRUxQICYmIHdpbmRvdy5TQ1JPTExfV0VCSEVMUC5zZWFyY2gpIHtcclxuICAgICAgICB3aW5kb3cuU0NST0xMX1dFQkhFTFAuc2VhcmNoLm5hdmlnYXRlVG9TZWFyY2hQYWdlKHNlYXJjaFF1ZXJ5LCB1c2VEZXZNb2RlbEZpbHRlcmluZyk7XHJcblxyXG4gICAgICAgIC8vIENsb3NlcyB0aGUgc2VhcmNoIHN1Z2dlc3Rpb25zIGRyb3AtZG93blxyXG4gICAgICAgIHZhciBzZWFyY2hJbnB1dEVsZW1lbnRpbnB1dCA9ICQoJyNodC1zZWFyY2gnKTtcclxuICAgICAgICBzZWFyY2hJbnB1dEVsZW1lbnRpbnB1dC5maW5kKCcuaHQtc2VhcmNoLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAvLyBSZW1vdmVzIHRoZSBob3ZlciBjbGFzcyBmcm9tIGl0ZW1zIHNlbGVjdGVkIGluIHRoZSBzZWFyY2ggZHJvcC1kb3duXHJcbiAgICAgICAgdmFyIHNlbGVjdGVkU2VhcmNoTGlua0VsZW1lbnQgPSAkKFwiLmh0LXNlYXJjaC1kcm9wZG93biBhLmhvdmVyXCIpO1xyXG4gICAgICAgIHNlbGVjdGVkU2VhcmNoTGlua0VsZW1lbnQucmVtb3ZlQ2xhc3MoXCJob3ZlclwiKTtcclxuICAgICAgICAkKGRvY3VtZW50KS51bmJpbmQoJ2tleWRvd24nKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNFQVJDSCBCT1ggU1VHR0VTVElPTlMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gVG9nZ2xlcyB0aGUgc2VhcmNoIHN1Z2dlc3Rpb24gZHJvcC1kb3duIGxpc3Qgb24gY2xpY2tcclxudmFyIHRvZ2dsZVNlYXJjaFN1Z2dlc3Rpb25zID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgc2VhcmNoSW5wdXQgPSAkKFwiaW5wdXQuc2VhcmNoLWlucHV0XCIpO1xyXG4gICAgdmFyIHNlYXJjaERyb3Bkb3duID0gJChcIi5odC1zZWFyY2gtZHJvcGRvd25cIik7XHJcbiAgICB2YXIgc2VhcmNoQnV0dG9uID0gJChcIiNzZWFyY2hCdXR0b25cIik7XHJcbiAgICB2YXIgc2VsZWN0ZWRTZWFyY2hMaW5rRWxlbWVudCA9ICQoXCIuaHQtc2VhcmNoLWRyb3Bkb3duIGEuaG92ZXJcIik7XHJcblxyXG4gICAgLy8gUmVtb3ZlcyB0aGUgXCJvcGVuXCIgY2xhc3MgaWYgdGhlIHVzZXIgY2xpY2tlZCBvdXRzaWRlIHRoZSBzZWFyY2ggZHJvcC1kb3duIG9yIGZvcm0gaW5wdXRcclxuICAgIGlmICgoIXNlYXJjaElucHV0LmlzKGV2ZW50LnRhcmdldCkgJiYgc2VhcmNoSW5wdXQuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSAmJlxyXG4gICAgICAgICghc2VhcmNoRHJvcGRvd24uaXMoZXZlbnQudGFyZ2V0KSAmJiBzZWFyY2hEcm9wZG93bi5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApXHJcbiAgICApIHtcclxuICAgICAgICBzZWFyY2hEcm9wZG93bi5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXMgdGhlIGhvdmVyIGNsYXNzIGZyb20gaXRlbXMgc2VsZWN0ZWQgaW4gdGhlIHNlYXJjaCBkcm9wLWRvd25cclxuICAgICAgICBzZWxlY3RlZFNlYXJjaExpbmtFbGVtZW50LnJlbW92ZUNsYXNzKFwiaG92ZXJcIik7XHJcblxyXG4gICAgICAgIC8vIENvbGxhcHNlcyB0aGUgc21hbGwgc2VhcmNoIGJveCBvbiBzbWFsbGVyIHNjcmVlbnNcclxuICAgICAgICBpZiAoKCFzZWFyY2hCdXR0b24uaXMoZXZlbnQudGFyZ2V0KSAmJiBzZWFyY2hCdXR0b24uaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA4MDAgJiYgd2luZG93LmlubmVyV2lkdGggPiA0OTkpIHtcclxuICAgICAgICAgICAgc2VhcmNoSW5wdXQucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICgkKFwiLmh0LXNlYXJjaC1kcm9wZG93biBsaS5zZWFyY2gta2V5XCIpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzZWFyY2hEcm9wZG93bi5hZGRDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuJChkb2N1bWVudCkuY2xpY2sodG9nZ2xlU2VhcmNoU3VnZ2VzdGlvbnMpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQklHIFNFQVJDSCBBUkVBIChIT01FICsgU0VBUkNIIFBBR0VTKSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBJbmNyZWFzZXMgdGhlIHRvcCBwYWRkaW5nIG9mIHRoZSBtYWluIHBhZ2UgY29udGVudCBpZiB0aGUgYmlnIHNlYXJjaCBhcmVhIGlzIHByZXNlbnRcclxudmFyIHNldENvbnRlbnRUb3BQYWRkaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlYXJjaGJveEVsZW1lbnQgPSAkKFwiLnNlYXJjaGJveC1hcmVhLWJlaGluZFwiKS5maXJzdCgpO1xyXG4gICAgaWYgKHNlYXJjaGJveEVsZW1lbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgJChcIi5odC1jb250ZW50XCIpLmZpcnN0KCkuY3NzKFwicGFkZGluZy10b3BcIiwgc2VhcmNoYm94RWxlbWVudC5vdXRlckhlaWdodCh0cnVlKSArIFwicHhcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoc2V0Q29udGVudFRvcFBhZGRpbmcpO1xyXG4kKHdpbmRvdykucmVzaXplKHNldENvbnRlbnRUb3BQYWRkaW5nKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEZPT1RFUiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBTZXRzIHRoZSBmb290ZXIgd2lkdGggYW5kIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBtYWluIHBhZ2UgY29udGVudCBzZWN0aW9uXHJcbnZhciBzZXRGb290ZXJXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgdmlld1dpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gICAgLy8gdmFyIGZvb3RlcldpZHRoID0gJChcIi5odC1jb250ZW50XCIpLndpZHRoKCk7XHJcbiAgICB2YXIgZm9vdGVyV2lkdGggPSAkKFwiI2h0LXdyYXAtY29udGFpbmVyXCIpLndpZHRoKCk7XHJcbiAgICB2YXIgbGVmdFBvc2l0aW9uID0gJChcIiNodC13cmFwLWNvbnRhaW5lclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgdmFyIHJpZ2h0UGFkZGluZyA9IHZpZXdXaWR0aCAtIGZvb3RlcldpZHRoIC0gbGVmdFBvc2l0aW9uO1xyXG5cclxuICAgICQoXCIjaHQtZm9vdGVyXCIpLmNzcyh7XHJcbiAgICAgICAgXCJyaWdodFwiOiAtcmlnaHRQYWRkaW5nLFxyXG4gICAgICAgIFwicGFkZGluZy1yaWdodFwiOiByaWdodFBhZGRpbmcsXHJcbiAgICAgICAgXCJsZWZ0XCI6IC1sZWZ0UG9zaXRpb24sXHJcbiAgICAgICAgXCJwYWRkaW5nLWxlZnRcIjogbGVmdFBvc2l0aW9uXHJcbiAgICB9KTtcclxufTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KHNldEZvb3RlcldpZHRoKTtcclxuJCh3aW5kb3cpLnJlc2l6ZShzZXRGb290ZXJXaWR0aCk7XHJcblxyXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNDkwMTE1MFxyXG4vLyAvLyBDaGVja3MgZWxlbWVudCBoZWlnaHQgY2hhbmdlXHJcbmZ1bmN0aW9uIG9uRWxlbWVudEhlaWdodENoYW5nZShlbG0sIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgbGFzdEhlaWdodCA9IGVsbS5jbGllbnRIZWlnaHQsIG5ld0hlaWdodDtcclxuICAgIChmdW5jdGlvbiBydW4oKSB7XHJcbiAgICAgICAgbmV3SGVpZ2h0ID0gZWxtLmNsaWVudEhlaWdodDtcclxuICAgICAgICBpZiAobGFzdEhlaWdodCAhPSBuZXdIZWlnaHQpXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgbGFzdEhlaWdodCA9IG5ld0hlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lcilcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lcik7XHJcblxyXG4gICAgICAgIGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lciA9IHNldFRpbWVvdXQocnVuLCAyMDApO1xyXG4gICAgfSkoKTtcclxufVxyXG5cclxub25FbGVtZW50SGVpZ2h0Q2hhbmdlKGRvY3VtZW50LmJvZHksIHNldEZvb3RlcldpZHRoKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IENPREUgQkxPQ0tTID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVG9nZ2xlcyBjb2RlIGJsb2NrIGNvbnRlbnRcclxuJChcInNwYW4uZXhwYW5kLWNvbnRyb2xcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvZGVDb250ZW50ID0gJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCk7XHJcbiAgICB2YXIgZXhwYW5kQ29udHJvbFRleHQgPSAkKHRoaXMpLmZpbmQoXCJzcGFuLmV4cGFuZC1jb250cm9sLXRleHRcIik7XHJcblxyXG4gICAgaWYgKGNvZGVDb250ZW50Lmhhc0NsYXNzKFwiY29sbGFwc2VcIikpIHtcclxuICAgICAgICBjb2RlQ29udGVudC5yZW1vdmVDbGFzcyhcImNvbGxhcHNlXCIpO1xyXG4gICAgICAgIGV4cGFuZENvbnRyb2xUZXh0LnRleHQoXCJDb2xsYXBzZSBzb3VyY2VcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb2RlQ29udGVudC5hZGRDbGFzcyhcImNvbGxhcHNlXCIpO1xyXG4gICAgICAgIGV4cGFuZENvbnRyb2xUZXh0LnRleHQoXCJFeHBhbmQgc291cmNlXCIpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiB0aGUgdXNlciBpcyBzaWduZWQtaW4gYW5kIGlzbid0IHR5cGluZyBpbiB0aGUgc2VhcmNoIGJveC5cclxuICogQHJldHVybnMge3N0cmluZ30gdGhlIENvbmZsdWVuY2UgSUQgb2YgdGhlIGN1cnJlbnQgcGFnZSBvciAwXHJcbiAqL1xyXG52YXIgZ2V0UGFnZUlkSWZFZGl0aW5nQWxsb3dlZCA9IGZ1bmN0aW9uIGdldFBhZ2VJZElmRWRpdGluZ0FsbG93ZWQoKSB7XHJcblxyXG4gICAgdmFyIGxlbmd0aCA9ICQoXCIjc3Atdmlld3BvcnQtY29udHJvbC1vcGVuZXJcIikubGVuZ3RoO1xyXG4gICAgdmFyIHNlYXJjaGJveEZvY3VzZWQgPSAkKFwiLnNlYXJjaC1pbnB1dFwiKS5pcyhcIjpmb2N1c1wiKTtcclxuXHJcbiAgICBpZiAobGVuZ3RoICE9IDAgJiYgIXNlYXJjaGJveEZvY3VzZWQpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHBhZ2VJZCA9ICQoXCJib2R5XCIpLmF0dHIoXCJwYWdlaWRcIik7XHJcblxyXG4gICAgICAgIHJldHVybiBwYWdlSWQgPyBwYWdlSWQgOiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAwO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiAgT3BlbnMgYSBsaW5rIGluIHRoZSBzYW1lL25ldyB0YWIgYmFzZWQgb24gdGhlIHBhcmFtZXRlcnNcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gb3BlblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG5ld1RhYiAtIFNwZWNpZmllcyB3aGV0aGVyIHRvIG9wZW4gdGhlIFVSTCBpbiBhIG5ldyB0YWJcclxuICovXHJcbiBmdW5jdGlvbiBvcGVuTGluayh1cmwsIG5ld1RhYikge1xyXG4gICAgaWYgKG5ld1RhYikge1xyXG4gICAgICAgIHZhciB3aW4gPSB3aW5kb3cub3Blbih1cmwsIFwiX2JsYW5rXCIpO1xyXG4gICAgICAgIHdpbi5mb2N1cygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB3aW5kb3cub3Blbih1cmwsIFwiX3NlbGZcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVNUFRZIDxwPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBIaWRlcyBwYXJhZ3JhcGhzIGNvbnRhaW5pbmcgb25seSB3aGl0ZXNwYWNlXHJcbiQoJ3AnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHRoaXMpLnRleHQoKS50cmltKCkgPT0gJycgJiYgJCh0aGlzKS5jaGlsZHJlbigpLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU0hPVyBTRUFSQ0ggVElQUyA9PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBzaG93SGlkZVNlYXJjaFRpcHMgPSBmdW5jdGlvbiBzaG93SGlkZVNlYXJjaFRpcHMoKSB7XHJcbiAgICBpZiAoJChcIiNzZWFyY2gtdGlwc1wiKS5oYXNDbGFzcyhcInNob3dcIikpIHtcclxuICAgICAgICBoaWRlRnJvbnRMYXllcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2hvd0Zyb250TGF5ZXIoKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG52YXIgc2hvd0Zyb250TGF5ZXIgPSBmdW5jdGlvbiBzaG93RnJvbnRMYXllcigpIHtcclxuICAgICQoXCIjc2VhcmNoLXRpcHNcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10aXBzLW1hc2snKS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10aXBzJykuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxufTtcclxuXHJcblxyXG52YXIgaGlkZUZyb250TGF5ZXIgPSBmdW5jdGlvbiBoaWRlRnJvbnRMYXllcigpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtdGlwcy1tYXNrJykuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10aXBzJykuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgJChcIiNzZWFyY2gtdGlwc1wiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IENvb2tpZSBCYW5uZXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGdldENvb2tpZSA9IGZ1bmN0aW9uIGdldENvb2tpZShjbmFtZSkge1xyXG4gICAgbGV0IG5hbWUgPSBjbmFtZSArIFwiPVwiO1xyXG4gICAgbGV0IGRlY29kZWRDb29raWUgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKTtcclxuICAgIGxldCBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoJzsnKTtcclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPGNhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBjID0gY2FbaV07XHJcbiAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHtcclxuICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxuXHJcblxyXG52YXIgaW5pdENvb2tpZUxldmVsID0gZnVuY3Rpb24gKCl7XHJcbiAgICB2YXIgY29va2llTGV2ZWwgPSAwO1xyXG4gICAgaWYgKGdldENvb2tpZSgneHBlcmllbmNlLmNvb2tpZWNvbnNlbnRsZXZlbCcpICE9PSBcIlwiKVxyXG4gICAge1xyXG4gICAgICAgIGNvb2tpZUxldmVsID0gJC5jb29raWUoJ3hwZXJpZW5jZS5jb29raWVjb25zZW50bGV2ZWwnKTsgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGNvb2tpZUxldmVsID0gMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xyXG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICdldmVudCc6ICdjb25zZW50LmRlZmF1bHQnLFxyXG4gICAgICAgICAgICAnY29uc2VudCc6IHtcclxuICAgICAgICAgICAgJ2Z1bmN0aW9uYWxpdHlfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ3BlcnNvbmFsaXphdGlvbl9zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdhbmFseXRpY3Nfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAnYWRfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAnc2VjdXJpdHlfc3RvcmFnZSc6ICdkZW5pZWQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29va2llTGV2ZWwgPSAyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XHJcbiAgICAgICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAnZXZlbnQnOiAnY29uc2VudC5kZWZhdWx0JyxcclxuICAgICAgICAgICAgICAgICdjb25zZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uYWxpdHlfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgICAgICdwZXJzb25hbGl6YXRpb25fc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgICAgICdhbmFseXRpY3Nfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAgICAgJ2FkX3N0b3JhZ2UnOiAnZGVuaWVkJyxcclxuICAgICAgICAgICAgICAgICdzZWN1cml0eV9zdG9yYWdlJzogJ2RlbmllZCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvb2tpZUxldmVsID0gMylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xyXG4gICAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgJ2V2ZW50JzogJ2NvbnNlbnQuZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICAnY29uc2VudCc6IHtcclxuICAgICAgICAgICAgICAgICdmdW5jdGlvbmFsaXR5X3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICAgICAncGVyc29uYWxpemF0aW9uX3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICAgICAnYW5hbHl0aWNzX3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICAgICAnYWRfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAgICAgJ3NlY3VyaXR5X3N0b3JhZ2UnOiAnZGVuaWVkJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29va2llTGV2ZWwgPSA0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XHJcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICAgICAgJ2V2ZW50JzogJ2NvbnNlbnQuZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICdjb25zZW50Jzoge1xyXG4gICAgICAgICAgICAnZnVuY3Rpb25hbGl0eV9zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAncGVyc29uYWxpemF0aW9uX3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICdhbmFseXRpY3Nfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ2FkX3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICdzZWN1cml0eV9zdG9yYWdlJzogJ2dyYW50ZWQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTsgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGluaXRDb29raWVMZXZlbCk7XHJcblxyXG5cclxudmFyIGNyZWF0ZUNvb2tpZSA9IGZ1bmN0aW9uIGNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgZGF5cywgZG9tYWluKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgY3JlYXRpbmcgY29va2llICR7bmFtZX0gJHt2YWx1ZX0gJHtkYXlzfSAke2RvbWFpbn1gKTtcclxuICAgIHZhciBkb21haW4gPSBcIjsgZG9tYWluPVwiICsgZG9tYWluO1xyXG4gICAgdmFyIGV4cGlyZXM7XHJcblxyXG4gICAgaWYgKGRheXMpIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XHJcbiAgICAgICAgZXhwaXJlcyA9IFwiOyBleHBpcmVzPVwiICsgZGF0ZS50b1VUQ1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBleHBpcmVzID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj1cIiArIHZhbHVlICsgZXhwaXJlcyArIFwiOyBwYXRoPS9cIiArIGRvbWFpbjtcclxufTtcclxuXHJcblxyXG52YXIgZXJhc2VDb29raWUgPSBmdW5jdGlvbiBlcmFzZUNvb2tpZShuYW1lKSB7XHJcbiAgICBjcmVhdGVDb29raWUobmFtZSwgXCJcIiwgLTEsIFwiXCIpO1xyXG59O1xyXG5cclxuXHJcbi8vIFNldHMgdGhlIHNoYXJlZCBjb29raWUgYW5kIGhpZGVzIHRoZSBjb29raWUgYmFubmVyXHJcbnZhciBjb25zZW50V2l0aENvb2tpZVVzYWdlID0gZnVuY3Rpb24gY29uc2VudFdpdGhDb29raWVVc2FnZSgpIHtcclxuICAgICQoXCIjY29va2llLWJhbm5lclwiKS5hdHRyKFwic3R5bGVcIiwgJ2Rpc3BsYXk6bm9uZTsnKTtcclxuICAgIC8vIFVzZSBkb21haW4gXCIueHBlcmllbmNlLmlvXCIgdG8gc2hhcmUgdGhlIGNvb2tpZSB3aXRoIHhwZXJpZW5jZS5pbyBhbmQgYWxsIHN1YmRvbWFpbnNcclxuICAgIGNyZWF0ZUNvb2tpZShcInhwZXJpZW5jZS5jb29raWVsZXZlbHNlbGVjdGlvblwiLCB0cnVlLCAzNjUsIHdpbmRvdy5sb2NhdGlvbi5ob3N0KTtcclxufTtcclxuXHJcblxyXG52YXIgaGlkZUNvb2tpZUNvbnNlbnRCYW5uZXIgPSBmdW5jdGlvbiBoaWRlQ29va2llQ29uc2VudEJhbm5lcigpIHtcclxuICAgIHZhciBjb29raWVWYWx1ZSA9IGRvY3VtZW50LmNvb2tpZS5yZXBsYWNlKC8oPzooPzpefC4qO1xccyopeHBlcmllbmNlLmNvb2tpZWxldmVsc2VsZWN0aW9uXFxzKlxcPVxccyooW147XSopLiokKXxeLiokLywgXCIkMVwiKTtcclxuICAgIGlmIChjb29raWVWYWx1ZSB8fCAhbmF2aWdhdG9yLmNvb2tpZUVuYWJsZWQpIHtcclxuICAgICAgICAkKFwiI2Nvb2tpZS1iYW5uZXJcIikuYXR0cihcInN0eWxlXCIsICdkaXNwbGF5Om5vbmU7Jyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBTZXRzIHRoZSBwYXNzZWQgY29va2llIGxldmVsIHRvIHRoZSBzaGFyZWQgY29va2llIGFuZCB1cGRhdGVzIHRoZSBjb25zZW50IHRvIEdBL0dUTSAoY2FsbGVkIGZyb20gdGhlIGNvb2tpZSBiYW5uZXIgYWZ0ZXIgY2xpY2tpbmcgYSBidXR0b24pXHJcbnZhciBzZXRDb29raWVMZXZlbCA9IGZ1bmN0aW9uIHNldENvb2tpZUxldmVsKGxldmVsKSB7XHJcbiAgICB2YXIgbGV2ZWwgPSBsZXZlbDtcclxuXHJcbiAgICBpZiAobGV2ZWwgPT09IFwibWFya2V0aW5nXCIpIHsgLy8gU2hvdWxkbid0IGJlIG5lZWRlZFxyXG4gICAgICAgIGxldmVsID0gNDtcclxuICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09IFwiYW5hbHl0aWNhbFwiKSB7XHJcbiAgICAgICAgbGV2ZWwgPSAzO1xyXG4gICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gXCJwcmVmZXJlbmNlXCIpIHsgLy8gU2hvdWxkbid0IGJlIG5lZWRlZFxyXG4gICAgICAgIGxldmVsID0gMjtcclxuICAgIH0gZWxzZSB7IC8vID09PSBcIm5lY2Vzc2FyeVwiXHJcbiAgICAgICAgbGV2ZWwgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNlbnRXaXRoQ29va2llVXNhZ2UoKTtcclxuICAgIC8vIFVzZSBkb21haW4gXCIueHBlcmllbmNlLmlvXCIgdG8gc2hhcmUgdGhlIGNvb2tpZSB3aXRoIHhwZXJpZW5jZS5pbyBhbmQgYWxsIHN1YmRvbWFpbnNcclxuICAgIGNyZWF0ZUNvb2tpZShcInhwZXJpZW5jZS5jb29raWVjb25zZW50bGV2ZWxcIiwgbGV2ZWwsIDM2NSwgd2luZG93LmxvY2F0aW9uLmhvc3QpO1xyXG5cclxuICAgIC8vIFNlbmQgJ2NvbnNlbnQudXBkYXRlJ1xyXG4gICAgaWYgKGxldmVsID09PSAxKSB7XHJcbiAgICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XHJcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICAgICAgJ2V2ZW50JzogJ2NvbnNlbnQudXBkYXRlJyxcclxuICAgICAgICAgICAgJ2NvbnNlbnQnOiB7XHJcbiAgICAgICAgICAgICdmdW5jdGlvbmFsaXR5X3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICdwZXJzb25hbGl6YXRpb25fc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAnYW5hbHl0aWNzX3N0b3JhZ2UnOiAnZGVuaWVkJyxcclxuICAgICAgICAgICAgJ2FkX3N0b3JhZ2UnOiAnZGVuaWVkJyxcclxuICAgICAgICAgICAgJ3NlY3VyaXR5X3N0b3JhZ2UnOiAnZGVuaWVkJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSAzKSB7XHJcbiAgICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XHJcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICAgICAgJ2V2ZW50JzogJ2NvbnNlbnQudXBkYXRlJyxcclxuICAgICAgICAgICAgJ2NvbnNlbnQnOiB7XHJcbiAgICAgICAgICAgICdmdW5jdGlvbmFsaXR5X3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICdwZXJzb25hbGl6YXRpb25fc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ2FuYWx5dGljc19zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAnYWRfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAnc2VjdXJpdHlfc3RvcmFnZSc6ICdkZW5pZWQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIGhpZGVDb29raWVDb25zZW50QmFubmVyKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gSGVhZGluZyBhbmNob3IgbGluayBjbGlwYm9hcmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGNvcHlIZWFkaW5nTGluayA9IGZ1bmN0aW9uIGNvcHlIZWFkaW5nTGluayhlKSB7XHJcblx0dmFyIGNsaWNrZWRJY29uID0gJChlLnRhcmdldCk7XHJcblx0XHJcblx0Ly8gQnVpbGRzIHRoZSBoZWFkaW5nIGFuY2hvciBsaW5rXHJcblx0dmFyIGFuY2hvckxpbmsgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgJyMnICsgY2xpY2tlZEljb24ucGFyZW50KCkuYXR0cignaWQnKTtcclxuXHRcclxuXHRpZiAobmF2aWdhdG9yLmNsaXBib2FyZCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRTbmFja2Jhci5zaG93KHt0ZXh0OiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgaGVhZGluZyBsaW5rIHRvIHRoZSBjbGlwYm9hcmQnLCBwb3M6ICd0b3AtcmlnaHQnLCBzaG93QWN0aW9uOiBmYWxzZSwgY3VzdG9tQ2xhc3M6ICdib3gtZ2VuZXJhbCBib3gtd2FybmluZycsIGR1cmF0aW9uOiAnMzUwMCcsIGJhY2tncm91bmRDb2xvcjogJyNGRkVCRUInLCB0ZXh0Q29sb3I6JyMxNTE1MTUnIH0pO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChhbmNob3JMaW5rKVxyXG5cdFx0XHQudGhlbigoKSA9PiB7XHRcdFx0XHRcclxuXHRcdFx0XHRTbmFja2Jhci5zaG93KHt0ZXh0OiAnSGVhZGluZyBsaW5rIGNvcGllZCcsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC1pbmZvJywgZHVyYXRpb246ICcyNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0VFRjNGQycsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcbiAgICAgICAgICAgICAgICBjbGlja2VkSWNvbi5hZGRDbGFzcygnY29waWVkJyk7XHJcbiAgICAgICAgICAgIH0pXHJcblx0XHRcdC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBTbmFja2Jhci5zaG93KHt0ZXh0OiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgaGVhZGluZyBsaW5rIHRvIHRoZSBjbGlwYm9hcmQnLCBwb3M6ICd0b3AtcmlnaHQnLCBzaG93QWN0aW9uOiBmYWxzZSwgY3VzdG9tQ2xhc3M6ICdib3gtZ2VuZXJhbCBib3gtd2FybmluZycsIGR1cmF0aW9uOiAnMzUwMCcsIGJhY2tncm91bmRDb2xvcjogJyNGRkVCRUInLCB0ZXh0Q29sb3I6JyMxNTE1MTUnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBSZXNldHMgdGhlIGNvcHkgaWNvbiBvbiBtb3VzZW91dFxyXG52YXIgY29weUljb25Nb3VzZU91dCA9IGZ1bmN0aW9uIGNvcHlJY29uTW91c2VPdXQoZSkge1xyXG5cdHZhciBjbGlja2VkSWNvbiA9ICQoZS50YXJnZXQpO1xyXG5cdGlmIChjbGlja2VkSWNvbi5oYXNDbGFzcygnY29waWVkJykpIHtcdFxyXG4gICAgICAgIGNsaWNrZWRJY29uLnJlbW92ZUNsYXNzKCdjb3BpZWQnKTtcclxuICAgIH1cclxufTtcclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHR2YXIgY29weUhlYWRpbmdMaW5rSWNvbiA9ICc8c3BhbiB0aXRsZT1cIkNvcHkgbGluayB0byBoZWFkaW5nXCIgY2xhc3M9XCJoZWFkaW5nLWxpbmstaWNvbiBpY29uLWNoYWluXCIgb25jbGljaz1cImNvcHlIZWFkaW5nTGluayhldmVudClcIiBvbm1vdXNlb3V0PVwiY29weUljb25Nb3VzZU91dChldmVudClcIj48L3NwYW4+JztcclxuXHRcclxuXHQvLyBTZWxlY3RvciBmb3IgaDIgYW5kIGgzIGhlYWRpbmdzIGluIHN0YW5kYXJkIENvbmZsdWVuY2UgY29udGVudCAobm8gc2VjdGlvbiwgZnVsbC13aWR0aCBzZWN0aW9uLCBhbmQgMi8zIHNlY3Rpb24gY29udGVudClcclxuXHR2YXIgaGVhZGluZ0VsZW1lbnRzID0gJyNtYWluLWNvbnRlbnQgaDIsICNtYWluLWNvbnRlbnQgLnNwLWdyaWQtNjAgaDMsICNtYWluLWNvbnRlbnQgaDMnO1xyXG5cdFxyXG5cdC8vIEZpbHRlcnMgb3V0IGhlYWRpbmdzIGluIGJveCBtYWNyb3MgYW5kIGhlYWRpbmdzIGNvbnRhaW5pbmcgbGlua3NcclxuXHQvLyBBcHBlbmRzIHRoZSBcIkNvcHkgaGVhZGluZyBsaW5rXCIgaWNvbiB0byB0aGUgaGVhZGluZyBjb250ZW50XHJcblx0JChoZWFkaW5nRWxlbWVudHMpLm5vdCgnZGl2LmJveC1nZW5lcmFsIGgyLCBkaXYuYm94LWdlbmVyYWwgaDMsIGgyOmhhcyhhKSwgaDM6aGFzKGEpJykuYXBwZW5kKGNvcHlIZWFkaW5nTGlua0ljb24pO1xyXG59KSgpOyBcclxuXHJcbnZhciBpbml0Rm9vdGVyTGlua3MgPSBmdW5jdGlvbigpXHJcbntcclxuICAgJChcImEuanMtcWEtbGlua1wiKS5hdHRyKCdocmVmJywgVEhFTUVfQ09ORklHLktFTlRJQ09fUUFfTElOSyk7XHJcbiAgICQoXCJhLmpzLXN1cHBvcnQtbGlua1wiKS5hdHRyKCdocmVmJywgVEhFTUVfQ09ORklHLktFTlRJQ09fU1VQUE9SVF9MSU5LKTtcclxuXHJcblxyXG4gICAgaWYgKCQoJyNtYWluLWNvbnRlbnQnKS50ZXh0KCkudHJpbSgpLmxlbmd0aCA9PSAwIClcclxuICAgIHtcclxuICAgICAgICAkKCcjbWFpbi1jb250ZW50JykuYXBwZW5kKCdUaGlzIHNlY3Rpb24gY29sbGVjdHMgYWxsIHBhZ2VzIHJlbGF0ZWQgdG8gdGhlIHRvcGljLiBVc2UgdGhlIHBhZ2UgdHJlZSB0byBuYXZpZ2F0ZSB0aGUgc2VjdGlvbi4nKTtcclxuICAgICAgICAkKCcjbWFpbi1jb250ZW50JykuYXBwZW5kKCQoJ2EuaHQtbmF2LXBhZ2UtbGluay5jdXJyZW50JykucGFyZW50KCkuY2hpbGRyZW4oKS5sYXN0KCkuY2xvbmUoKSlcclxuICAgIH1cclxufVxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoaW5pdEZvb3RlckxpbmtzKTtcclxuXHJcblxyXG4vLyBkb3duY2FzZSBoZWFkaW5nIGVsZW1lbnRzXHJcbnZhciBmaXhIZWFkaW5nc1VwcGVyID0gZnVuY3Rpb24gZml4SGVhZGluZ3NVcHBlciAoKXtcclxuICAgIGlmKCQoJyNtYWluLWNvbnRlbnQgaDEnKS5sZW5ndGggIT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgJCgnI21haW4tY29udGVudCBoMScpLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7ICQodGhpcykucmVwbGFjZVdpdGgoYDxoMiBpZD1cIiR7dGhpcy5pZH1cIiBjbGFzcz1cIiR7dGhpcy5jbGFzc05hbWV9XCI+YCArICAkKHRoaXMpLmh0bWwoKSArICc8L2gyPicpIH0pXHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyB1cGNhc2UgaGVhZGluZyBlbGVtZW50c1xyXG52YXIgZml4SGVhZGluZ3NMb3dlciA9IGZ1bmN0aW9uIGZpeEhlYWRpbmdzTG93ZXIgKCl7XHJcbiAgICBpZigkKCcjbWFpbi1jb250ZW50IGgyJykubGVuZ3RoID09PSAwICYmICQoJyNtYWluLWNvbnRlbnQgaDMnKS5sZW5ndGggIT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgJCgnI21haW4tY29udGVudCBoMycpLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7ICQodGhpcykucmVwbGFjZVdpdGgoYDxoMiBpZD1cIiR7dGhpcy5pZH1cIiBjbGFzcz1cIiR7dGhpcy5jbGFzc05hbWV9XCI+YCArICAkKHRoaXMpLmh0bWwoKSArICc8L2gyPicpIH0pXHJcbiAgICB9XHJcbn07IFxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIChldmVudCkgPT4ge1xyXG4gICAgZml4SGVhZGluZ3NVcHBlcigpO1xyXG4gICAgZml4SGVhZGluZ3NMb3dlcigpO1xyXG4gIH0pOyJdfQ==
