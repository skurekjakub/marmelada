<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Creating macro examples - Documentation Updates</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

    


<script type="text/javascript">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TSQNPJN');
</script>

<meta name="description" content="Kentico Xperience Documentation">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">

<meta name="confluence-space-key" content="DU">
<meta name="confluence-page-title" content="Documentation Updates Home">
<meta name="confluence-page-tiny-suffix" content="">
<meta name="confluence-page-labels" content="">

<link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">

<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">


<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">

<link rel="stylesheet" href="assets/css/theme.prismhighlighter.css">
<link rel="stylesheet" href="assets/css/theme.lightbox.css">
<link rel="stylesheet" href="assets/css/theme.snackbar.css">
            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body incorrectpageid="56787478" pageid="66687519" id="top">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
   <div class="container">
        <div class="ht-headerbar-row">
            <div class="ht-headerbar-left">
                <button class="menu-toggle button button--icon-only js-menu-toggle" type="button" title="Open menu">
                    <span class="menu-toggle-icon menu-toggle-icon--default icon-menu"></span>
                    <span class="menu-toggle-icon menu-toggle-icon--active icon-modal-close"></span>
                    <span class="menu-toggle-label menu-toggle-label--default sr-only">Open menu</span>
                    <span class="menu-toggle-label menu-toggle-label--active sr-only">Hide menu</span>
                </button>
                <a href="../du" class="xperience-logo">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Xperience Docs" class="xperience-logo__image">
                </a>
            </div>
            <div class="ht-headerbar-center">
                <div class="menu-ddl">
  	  	  	<button onclick="insertVersionLinks(versionSwitcherData)" class="header-ddl-button docVersion js-menuDdlBtn-version" title="Which Kentico Xperience version do you have?"></button>
  	<ul class="menu-ddl-content-main menu-ddl-content docVersion js-menuDdl-version">
	</ul>
</div>
<ul class="header-menu js-menuDdl-docType">
</ul>            </div>  
            <div class="ht-headerbar-right">
            
                                <div id="ht-search" class="header-search-box open show js-header-search-box">
                                                                                <div class="ht-search-input header-search-wrapper">
                        <form class="header-search" action="${viewport.link}/search" method="GET" id="search">
                            <div class="header-search-field">
                                <span class="header-search-field__icon icon-magnifier"></span>
                                <input class="header-search-field__input search-input" type="text" placeholder="Search the $searchPlaceholderSuffix" tabindex="-1" autocomplete="off" name="q" value="">
                            </div>
                            <div class="header-search-button-wrapper">
                                <button id="searchButton" class="header-search-button button button--secondary" type="submit">Search</button>
                            </div>
                        </form>
    
                        <div class="ht-search-dropdown ht-dropdown header-search-dropdown">
                            <ul></ul>
                        </div>
                    </div>

                    <button class="ht-search-close button button--icon-only js-header-search-close" type="button" title="Close search">
                        <span class="icon-modal-close"></span>
                        <span class="sr-only">Close search</span>
                    </button>
                </div>

                <button class="ht-search-open button button--icon-only js-header-search-open" type="button" title="Open search">
                    <span class="icon-magnifier"></span>
                    <span class="sr-only">Open search</span>
                </button>
                
                                <a id="sp-viewport-control-opener" href="#" style="display:none"></a>
                            </div>
        </div>
    </div>
        
            
                    
                                
                            </header>    	<div id="old-version-note" class="sidebar-left-padding">
		<div class="container">
			<p><strong>Is this really the version you are looking for?</strong> Kentico DU documentation is no longer updated. Use the switch in the header to choose your Kentico Xperience version.</p>
		</div>
	</div></div>

<div id="ht-wrap-container">

               

    <div class="container">
        <div class="ht-layout">
            <div class="ht-layout-sidebar">
                
<aside id="ht-sidebar">
    <div class="menu-ddl">
  	  	  	<button onclick="insertVersionLinks(versionSwitcherData)" class="header-ddl-button docVersion js-menuDdlBtn-version" title="Which Kentico Xperience version do you have?"></button>
  	<ul class="menu-ddl-content-main menu-ddl-content docVersion js-menuDdl-version">
	</ul>
</div>
<ul class="header-menu js-menuDdl-docType">
</ul>    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            
<nav class="ht-pages-nav">
    <ul class="ht-pages-nav-top">
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="56787624" href="hotfix-instructions-temp">Hotfix instructions temp</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="165057117" href="xperience-changelog---davidb">Xperience changelog - DavidB</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="61379454" href="on-line-marketing-campaigns">On-line marketing campaigns</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="61379456" href="creating-campaigns">Creating campaigns</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="61379458" href="configuring-campaign-tracking">Configuring campaign tracking</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="61379464" href="example---creating-a-campaign-for-downloading-promotional-materials">Example - creating a campaign for downloading promotional materials</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="61379462" href="evaluating-campaigns">Evaluating campaigns</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="61379460" href="enabling-automatic-campaign-creation">Enabling automatic campaign creation</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="56787653" href="live-sites---styling-best-_practi%40ces">Live sites - styling best /practi@ces</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="56787656" href="general-hints">General hints</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="56787658" href="css-classes-in-web-parts">CSS Classes in Web Parts</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="56787660" href="admin-ui-components">Admin UI Components</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="56787663" href="skin.less-and-skin.css-files">Skin.less and Skin.css files</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="61379338" href="performing-upgrade-ready-customizations">Performing upgrade-ready customizations</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="62718884" href="customization-best-practices-update">Customization best practices update</a>
    </li>
                                    </ul>
    </li>
                    <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="62062625" href="pdf-export-test">PDF export test</a>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="62718037" href="testing-page">Testing page</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="66687519" href="creating-macro-examples">Creating macro examples</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="66687492" href="full-width-test">Full width test</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="64913669" href="hotfix-page-test">Hotfix page test</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="76852319" href="testing-web.config-keys">Testing Web.config keys</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70452863" href="viewport-test">ViewPort test</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="72976331" href="brano-sandbox">Brano sandbox</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="76842449" href="clean-sand">Clean sand</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="76872814" href="documentation-feedback-form">Documentation feedback form</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132060556" href="homepage">Homepage</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132060577" href="homepages">Homepages</a>
    </li>
                                    </ul>
    </li>
                    <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="76853890" href="product-licensing-temporary-content">Product licensing temporary content</a>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="110166179" href="archive-and-backup">Archive and Backup</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="101517359" href="rendering-forms-on-the-live-site">Rendering forms on the live site</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="121274414" href="roman-sandbox">Roman Sandbox</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132059942" href="conditional-macro-test">Conditional macro test</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="121274810" href="copy-of-configuring-azure-cdn">Copy of Configuring Azure CDN</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="121274743" href="copy-of-copying-and-moving-pages%2c-creating-linked-pages">Copy of Copying and moving pages, creating linked pages</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="121274893" href="copy-of-inserting-media-content-using-the-editor">Copy of Inserting media content using the editor</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="121274882" href="copy-of-inserting-media-files-on-a-page">Copy of Inserting media files on a page</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="121274753" href="copy-of-managing-marketing-email-recipients">Copy of Managing marketing email recipients</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124321827" href="copy-of-page-builder-development">Copy of Page builder development</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124324430" href="copy-of-page-level-permissions-%28acls%29">Copy of Page-level permissions (ACLs)</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124324417" href="copy-of-uploading-files">Copy of Uploading files</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="121274511" href="copy-of-working-with-pages">Copy of Working with pages</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="121274419" href="this-is-a-sample-page">This is a sample page</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124326586" href="working-with-page-templates">Working with page templates</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124325711" href="luky-sandbox">Luky sandbox</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="147162026" href="content-modeling-guide">Content modeling guide</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="147162241" href="storing-content-in-xperience">Storing content in Xperience</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="147162295" href="designing-content-in-xperience">Designing content in Xperience</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="147162318" href="general-content-modeling-recommendations">General content modeling recommendations</a>
    </li>
                                    </ul>
    </li>
                                                                 <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="161612967" href="kxo-content-modeling-guide">KXO Content modeling guide</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="161612978" href="kxo-storing-content-in-xperience">KXO Storing content in Xperience</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="165052831" href="kxo-design-content-in-xperience">KXO Design content in Xperience</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="165052617" href="kxo-content-modeling-general-recommendations">KXO Content modeling general recommendations</a>
    </li>
                                    </ul>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124330778" href="welcome-to-kentico-xperience-13">Welcome to Kentico Xperience 13</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124330787" href="using-the-xperience-interface">Using the Xperience interface</a>
    </li>
                                                                 <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124330825" href="developer-tutorial">Developer tutorial</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124330793" href="asp.net-core-development-tutorial">ASP.NET Core development tutorial</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124330795" href="asp.net-mvc-5-development-tutorial">ASP.NET MVC 5 development tutorial</a>
    </li>
                                    </ul>
    </li>
                                                                 <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124330802" href="business-tutorial">Business tutorial</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124331656" href="web-content-management">Web content management</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132059548" href="using-the-pages-application">Using the Pages application</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132059553" href="using-the-xperience-page-builder">Using the Xperience page builder</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132059562" href="working-with-files">Working with files</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132059567" href="adding-a-new-page">Adding a new page</a>
    </li>
                                    </ul>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124331658" href="customer-data-management">Customer data management</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124331660" href="content-personalization">Content personalization</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124330827" href="marketing-automation">Marketing automation</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="124330829" href="email-marketing">Email marketing</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132059815" href="next-steps-with-xperience-websites">Next steps with Xperience websites</a>
    </li>
                                    </ul>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="112624502" href="resource-hub-for-marketers">Resource hub for Marketers</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="132064822" href="marcel-sandbox">Marcel sandbox</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="175145222" href="csp">CSP</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="187596963" href="media-library-improvements">Media library improvements</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="165052992" href="sendgrid-documentation-snippets">SendGrid documentation snippets</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="161612180" href="this-page-contains-a-video">This page contains a video</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="187596805" href="peter-sandbox">Peter sandbox</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="187596807" href="multi-lingual-sandbox---keep-tidy-and-clean">Multi-lingual sandbox - keep tidy and clean</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="187596809" href="update-xperience-by-kentico-projects">Update Xperience by Kentico projects</a>
    </li>
                                    </ul>
    </li>
                                    </ul>
    </li>
            </ul>
</nav>        </div>
    </div>
</aside>            </div>
            <div class="ht-layout-main">
            <article id="ht-content" class="ht-content">
                <header class="ht-content-header">
                    <div id="ht-breadcrumb">
    <ul>
        <li><a href="documentation-updates-home.html">Documentation Updates</a></li>
                                                                                     <li><a href="testing-page.html">Testing page</a></li>
                                                            </ul>
</div>                    <h1 id="src-66687519"> <span>Creating macro examples</span></h1>
                </header>
                <div id="content" class="page">
                    <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="sp-grid-section"><div class="sp-grid-cell sp-grid-60"><p>Macro rules allow non-technical users to create <a href="http://localhost:8090/display/K10/Writing+macro+conditions">macro conditions</a> without any knowledge of K# macro syntax. The rules are internally implemented as predefined macro expressions but appear as purely text-based clauses describing certain requirements. Users <a href="http://localhost:8090/display/K10/Building+conditions+using+macro+rules">build conditions out of macro rules</a> inside a dedicated <i class=" ">Rule designer</i> interface.</p><p>The system contains many different types of rules by default and allows you to create custom rules to fulfill any requirements of your users. There are several categories of macro rules:</p><div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p style="text-align:center;">Rule category</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p style="text-align:center;">Description</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Managed in</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Global<br>    <span style="color: #ffffff;">
_______________    </span>
</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Global rules are available when creating conditions in any part of the system.</p>
<p><strong class=" ">Note</strong>: Certain types of conditions that are closely related to individual applications do not offer global rules.</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p><strong class=" ">Macro rules -&gt; Global</strong></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Form validation</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Allow the system to validate input values of form fields. Users can select the validation rules when defining fields in the <a href="http://localhost:8090/display/K10/Reference+-+Field+editor">field editor</a> (general fields) and the <a href="http://localhost:8090/display/K10/Designing+forms+using+the+Form+builder">form builder</a>.</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p><strong class=" ">Macro rules -&gt; Form validation</strong></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Workflow</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Users can select workflow rules when adding conditions to <a href="http://localhost:8090/display/K10/Applying+workflows+to+pages">workflow scopes</a> or <a href="http://localhost:8090/display/K10/Designing+advanced+workflows">advanced workflow steps</a>.</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p><strong class=" ">Workflows -&gt; Macro rules</strong></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>On-line marketing</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Users can select on-line marketing rules when building conditions for:</p>
<ul class=" "><li class=" "><p><a href="http://localhost:8090/display/K10/Content+personalization">Content personalization variants</a></p>
</li><li class=" "><p><a href="http://localhost:8090/display/K10/Segmenting+contacts+into+contact+groups">Dynamic contact groups</a></p>
</li><li class=" "><p><a href="http://localhost:8090/display/K10/Setting+triggers+for+automation+processes">Triggers</a> and <a href="http://localhost:8090/display/K10/Working+with+the+automation+process+designer">step transitions</a> for marketing automation processes</p>
</li><li class=" "><p><a href="http://localhost:8090/display/K10/Personas">Personas</a></p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p><strong class=" ">Contact management -&gt; Configuration -&gt; Macro rules</strong></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Reporting</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Users can select reporting rules when specifying conditions for <a href="http://localhost:8090/display/K10/Subscribing+to+reports">Report subscriptions</a>.</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Open the <strong class=" ">Reporting</strong> application, select any report category in the tree and open the <strong class=" ">Macro rules</strong> tab (in the collapsible panel).</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>E-commerce</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>The system provides rules for creating conditions that limit discounts:</p>
<ul class=" "><li class=" "><p><a href="http://localhost:8090/display/K10/Working+with+order+discounts">Order discounts</a></p>
</li><li class=" "><p><a href="http://localhost:8090/display/K10/Working+with+catalog+discounts">Catalog discounts</a></p>
</li><li class=" "><p><a href="http://localhost:8090/display/K10/Working+with+free+shipping+offers">Free shipping offers</a></p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p><strong class=" ">Store configuration</strong> or<strong class=" "> Multistore configuration -&gt; Discount rules</strong></p>
            </td>
        </tr>
</tbody>        </table>
            </div><p></p><p></p><div class="sp-grid-section"></div></div><div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-66687519_creatingmacroexamples-definingmacrorules">Defining macro rules</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-66687519_creatingmacroexamples-addingruleparameters">Adding rule parameters</a></p>
</li></ul></li><li class=" "><p><a href="#src-66687519_creatingmacroexamples-modifyingexistingmacrorules">Modifying existing macro rules</a></p>
</li><li class=" "><p><a href="#src-66687519_safe-id-q3jlyxrpbmdtywnyb2v4yw1wbgvzluv4yw1wbgxigjndcmvhdgluz2ftywnyb3j1bgu">Example – Creating a macro rule</a></p>
</li><li class=" "><p><a href="#src-66687519_safe-id-q3jlyxrpbmdtywnyb2v4yw1wbgvzluv4yw1wbgxigjndcmvhdgluz2ftywnyb3j1bguumq">Example – Creating a macro rule</a></p>
</li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="http://localhost:8090/display/K10/Writing+macro+conditions">Writing macro conditions</a></p>
</li><li class=" "><p><a href="http://localhost:8090/display/K10/Macro+syntax">Macro syntax</a></p>
</li><li class=" "><p><a href="http://localhost:8090/display/K10/Building+conditions+using+macro+rules">Building conditions using macro rules</a></p>
</li><li class=" "><p><a href="http://localhost:8090/display/K10/Improving+custom+macro+performance+in+scoring+and+contact+groups">Improving custom macro performance in scoring and contact groups</a></p>
</li></ul>        </div>
    </div></div></div>

    


    
    
    <h3 id="src-66687519_creatingmacroexamples-definingmacrorules" class="heading "><span>Defining macro rules</span></h3>
<p>To prepare new macro rules for your users:</p>
<ol class=" "><li class=" "><p>Navigate to the management interface for the appropriate type of rule (see the table above).</p>
</li><li class=" "><p>Click <strong class=" ">New macro rule</strong>.</p>
</li><li class=" "><p>Fill in the following properties:</p>
    <div class="tablewrap">
        <table class="confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>General</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Display name</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets the name displayed to users in the list of macro rules in the rule designer.Also serves as a basic description of the rule's purpose.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Name</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Serves as a unique identifier of the rule (for example in the API).</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>A text description of the rule's purpose and parameters. The text appears as a tooltip when users hover over the rule in the rule designer.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Enabled</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If disabled, users cannot select the rule when building conditions.</p>
<p><strong class=" ">Note</strong>: Disabling a rule does not affect the functionality of existing conditions where users have added the given rule.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Rule data</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>User text</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Defines the text displayed in the rule designer when users insert the rule into a condition.</p>
<p>To add parameters into the text, enter the <i class=" ">Column name</i> of a specific parameter enclosed in curly brackets, for example <strong class=" ">{days}</strong>. In the rule designer, the parameter appears as an underlined section in the text. Users can set the parameter's value by clicking the underlined text.</p>
<p>See the <a href="#src-66687519_creatingmacroexamples-addingruleparameters">Adding rule parameters</a> section for more information.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Condition</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>The actual condition represented by the rule. Define the condition through standard <a href="http://localhost:8090/display/K10/Macro+syntax">macro code (K#)</a>. The field provides <a href="http://localhost:8090/display/K10/Entering+macro+expressions">autocomplete support</a>.</p>
<p>Add any parameters offered by the rule to the appropriate position in the code, using the same syntax as for the <strong class=" ">User text</strong> field, for example <strong class=" ">{days}</strong>. When the system resolves the condition, the parameter expression is replaced by the value set for the parameter by users in the rule designer.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Required data</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Limits for which conditions the macro rule is available. The rule only appears when building conditions that have the specified data items available in the resolving context. You can add multiple required data items separated by semicolons (;).</p>
<p>Leave this property empty unless you are creating rules specifically for conditions with a <a href="http://localhost:8090/display/K10/Extending+the+macro+engine">customized resolving context</a>.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Requires context</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Enable this property if the rule's condition needs to access context data (information about the current user, the currently viewed page, etc.) in order to work correctly. This ensures that the rule only appears for conditions that have the context available when they are resolved.</p>
<p>For example, the context is accessible when evaluating the conditions of <a href="http://localhost:8090/display/K10/Content+personalization">Content personalization</a> variants on the website's page, but not when the system is building dynamic <a href="http://localhost:8090/display/K10/Segmenting+contacts+into+contact+groups">Contact groups</a>.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
</li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li></ol>    <h4 id="src-66687519_creatingmacroexamples-addingruleparameters" class="heading "><span>Adding rule parameters</span></h4>
<p>Parameters are variables inside macro rules that modify the resulting condition. By adding parameters, you can make flexible rules that are usable for a wide range of scenarios. For example, in a macro rule that requires the current user to be a member of certain roles, the names of the roles would be a parameter.</p>
<p>To create a parameter for a macro rule:</p>
<ol class=" "><li class=" "><p>Edit the macro rule.</p>
</li><li class=" "><p>Open the <strong class=" ">Parameters</strong> tab.</p>
</li><li class=" "><p>Prepare the parameter as a form field. Every parameter has a certain data type and various other settings. The interface that users see when editing the parameter's values depends on the selected <a href="http://localhost:8090/display/K10/Developing+form+controls">Form control</a>.</p>
<div class="box-general box-info">
  
                <div class="box-icon icon-i-circle"> </div> 
        <div class="box-content"> 
            <p>Refer to <a href="http://localhost:8090/display/K10/Reference+-+Field+editor">Reference - Field editor</a> for details about working with the field editor.</p>
     
    </div>
</div>
</li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li><li class=" "><p>Switch to the rule's <strong class=" ">General</strong> tab.</p>
</li><li class=" "><p>Place the parameter into the rule's <strong class=" ">User text</strong> and <strong class=" ">Condition</strong> code.</p>
<ul class=" "><li class=" "><p>The syntax for inserting parameters is the parameter's <i class=" ">Column name</i> enclosed in curly brackets, for example <strong class=" "><i class=" ">{role}</i></strong>.</p>
</li><li class=" "><p>When the system resolves conditions containing the macro rule, the parameter expressions in the condition code are replaced by the values entered by users. You need to position the parameter expression accordingly.<br><br></p>
</li></ul></li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li></ol><p>Users can now set the values of the rule's parameters when building conditions.</p>
    <h5 id="src-66687519_creatingmacroexamples-automaticruleparameters" class="heading "><span>Automatic rule parameters</span></h5>
<p>There are several predefined parameters you can use to add common functionality to macro rules:</p>
<ul class=" "><li class=" "><p><strong class=" ">{_is}</strong>, <strong class=" ">{_has}</strong>, <strong class=" ">{_was}</strong>, <strong class=" ">{_will}</strong>, <strong class=" ">{_perfectum}</strong> - provide an easy way to negate a rule's condition. Each variant offers different wording, so you can use the one that matches the text of your rule. The parameters allow users to choose between a positive and negative option, for example, <i class=" ">is</i> or <i class=" ">is not</i>. If the negative option is selected, the parameter resolves into the K# negation operator "!" in the condition code. With the positive option, the parameter returns an empty string.<br><br></p>
</li><li class=" "><p><strong class=" ">{_any}</strong> - useful for rules where a list of items needs to be specified through another parameter. The parameter allows users to switch between two options that determine how the rule processes the item list — <i class=" ">any</i> (at least one of the items must meet the given condition) or <i class=" ">all</i> (the condition must be fulfilled for all items in the list). When resolved, the parameter returns either a <i class=" ">false</i> (any) or <i class=" ">true</i> (all) value. In the condition code, you can insert the parameter as an additional argument of macro methods that work with object lists, which automatically ensures the required functionality. For example: <i class=" ">CurrentUser.IsInRole("{roles}", {_any})</i></p>
</li></ul><p>When you enter one of the automatic parameters into the <strong class=" ">User text</strong> field of a rule, the system automatically creates a field with the corresponding configuration and default values on the <strong class=" ">Parameters</strong> tab.</p>
<div class="box-general box-info">
  
                <div class="box-icon icon-i-circle"> </div> 
        <div class="box-content"> 
            <p><strong class=" ">Escaping special characters in text parameters</strong></p>
<p>Certain characters inside the values of text parameters could cause the macro condition of rules to become invalid if unhandled. For example, if a rule's condition is <i class=" ">CurrentUser.UserNickName == "{name}"</i>, a quote character inside the value of the <i class=" ">name</i> parameter would prematurely close the string, leading to invalid macro syntax and an incorrect parameter value.</p>
<p>To avoid the problem, the system automatically escapes quote and backslash characters inside parameters entered as string literals (directly enclosed inside quotes).</p>
<p>For more complex parameters, you can explicitly enable escaping of string special characters by adding <strong class=" ">|(escapestring)</strong> to the parameter, for example:<br><i class=" ">"Prefix {parameter|(escapestring)}"</i></p>
     
    </div>
</div>
    <h3 id="src-66687519_creatingmacroexamples-modifyingexistingmacrorules" class="heading "><span>Modifying existing macro rules</span></h3>
<p>When you make changes in the definition of a macro rule or its parameters, the system does NOT update the functionality of existing conditions. This may lead to incorrect behavior of conditions containing the modified rule.</p>
<p>To make sure your conditions are up-to-date, you need to manually perform the following steps after modifying an existing macro rule:</p>
<ol class=" "><li class=" "><p>Find the condition fields that contain the rule. You can use the <a href="http://localhost:8090/display/K10/Searching+for+macros">macro report tool</a> to search.</p>
</li><li class=" "><p>Click <strong class=" ">Edit</strong> next to the field to open the rule designer.</p>
</li><li class=" "><p>If required, update the parameters for all occurrences of the modified rule.</p>
</li><li class=" "><p>Click <strong class=" ">Save &amp; Close</strong>.</p>
</li></ol><p>When you save the condition, the system uses the current definitions of the contained macro rules.</p>
    <h3 id="src-66687519_safe-id-q3jlyxrpbmdtywnyb2v4yw1wbgvzluv4yw1wbgxigjndcmvhdgluz2ftywnyb3j1bgu" class="heading "><span>Example – Creating a macro rule</span></h3>
<p>Let us look at a step-by-step process of creating a macro rule a bit closer.</p>
<p>If you want to, for example, limit visibility of a particular feedback form field to only a select time period (you may want to have an additional text field in a feedback form asking or a user's opinion about a campaign running only from June to August), you can achieve such through the custom macro rule functionality.</p>
<p>To create a custom macro that fulfills this condition:</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Macro rules</strong> application.</p>
</li><li class=" "><p>Click <strong class=" ">New macro rule</strong> under the<strong class=" "> Global</strong> tab.</p>
</li><li class=" "><p>Fill in the following properties:<br></p>
<ul class=" "><li class=" "><p><strong class=" ">Display name</strong>: <i class=" ">name identifying your macro in the macro rule editor</i></p>
</li><li class=" "><p><strong class=" ">User text</strong>: Current month {_is} one of the following months: {months}.</p>
</li><li class=" "><p><strong class=" ">Condition</strong>: {_is}CurrentDateTime.Month.EqualsAny("{months}".Split("|"))<br><br></p>
</li></ul></li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li><li class=" "><p>Switch to the <strong class=" ">Parameters</strong> tab. You can see that Kentico automatically creates the <strong class=" ">months</strong> field from the<i class=" "> {months}</i> parameter entered into <strong class=" ">User text </strong>and <strong class=" ">Condition </strong>field in step 3.</p>
</li><li class=" "><p>Select the <strong class=" ">months</strong> field from the field selector.</p>
</li><li class=" "><p>Fill in the following properties:</p>
<ul class=" "><li class=" "><p><strong class=" ">Field caption</strong>: select months the campaign will be active</p>
</li><li class=" "><p><strong class=" ">Form control</strong>: Multiple choice</p>
</li><li class=" "><p><strong class=" ">Data source</strong>: List of options<br><br></p>
</li></ul></li><li class=" "><p>Into the<strong class=" "> Data source</strong> text box copy the following:</p>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="value">1</code><code class="plain">;January</code></div>
<div class="line"><code class="value">2</code><code class="plain">;February</code></div>
<div class="line"><code class="value">3</code><code class="plain">;March</code></div>
<div class="line"><code class="value">4</code><code class="plain">;April</code></div>
<div class="line"><code class="value">5</code><code class="plain">;May</code></div>
<div class="line"><code class="value">6</code><code class="plain">;June</code></div>
<div class="line"><code class="value">7</code><code class="plain">;July</code></div>
<div class="line"><code class="value">8</code><code class="plain">;August</code></div>
<div class="line"><code class="value">9</code><code class="plain">;September</code></div>
<div class="line"><code class="value">10</code><code class="plain">;October</code></div>
<div class="line"><code class="value">11</code><code class="plain">;November</code></div>
<div class="line"><code class="value">12</code><code class="plain">;December</code></div>
</div>
    </code></pre>
  </div>
</div>
</li><li class=" "><p>Click <strong class=" ">Save</strong> at the top of the page to save your changes.</p>
</li></ol><p>Your custom macro rule is now finished, available globally across all your sites, and ready to be inserted into the Visibility and Enabled conditions of form fields through the <strong class=" ">Rule designer</strong> dialogue.<strong class=" "></strong></p>
<p>Now let us a look at showing a form field for only a select time span (for example June to August). For this demonstration, we will be using the <i class=" ">Send us a message</i> form on our default <strong class=" ">Dancing Goat </strong>website:</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Forms</strong> application.</p>
</li><li class=" "><p>Edit the Send us a message form.</p>
</li><li class=" "><p>Switch to the <strong class=" ">Fields </strong>tab.</p>
</li><li class=" "><p>From the fields selector, select the <strong class=" ">UserMessage </strong>field.</p>
</li><li class=" "><p>Click the <strong class=" ">Edit</strong> button next to the <strong class=" ">Visibility condition</strong> field. This will open the <strong class=" ">Edit macro condition</strong> dialogue.</p>
</li><li class=" "><p>Select your macro from the list and insert it by clicking on the <strong class=" ">&lt;</strong> button.</p>
</li><li class=" "><p>Click on <u class=" ">select months the campaign will be active</u>. A <strong class=" ">Set parameter value</strong> dialogue window will open.</p>
</li><li class=" "><p>Select June, July, and August text boxes and click on the <strong class=" ">Set parameter</strong> button.</p>
</li><li class=" "><p>Click <strong class=" ">Save &amp; Close</strong>.</p>
</li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li></ol><p>Now whenever a user visits a page with the Send us a message form outside of the specified three-month interval, the <strong class=" ">UserMessage</strong> form field will be hidden.</p>
    <h3 id="src-66687519_safe-id-q3jlyxrpbmdtywnyb2v4yw1wbgvzluv4yw1wbgxigjndcmvhdgluz2ftywnyb3j1bguumq" class="heading "><span>Example – Creating a macro rule</span></h3>
<p>The following is a step-by-step example that demonstrates how to create a custom macro rule. The sample macro rule allows users to create conditions that are fulfilled only during selected months.</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Macro rules</strong> application.</p>
</li><li class=" "><p>Click <strong class=" ">New macro rule</strong> under the<strong class=" "> Global</strong> tab.</p>
</li><li class=" "><p>Fill in the following properties:<br></p>
<ul class=" "><li class=" "><p><strong class=" ">Display name</strong>: Current month is</p>
</li><li class=" "><p><strong class=" ">User text</strong>: Current month {_is} one of the following months: {months}.</p>
</li><li class=" "><p><strong class=" ">Condition</strong>: {_is}CurrentDateTime.Month.EqualsAny("{months}".Split("|"))<br><br></p>
</li></ul></li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li><li class=" "><p>Switch to the <strong class=" ">Parameters</strong> tab. Kentico automatically creates the <strong class=" ">months</strong> field from the<i class=" "> {months}</i> parameter entered into <strong class=" ">User text </strong>and <strong class=" ">Condition </strong>field.</p>
</li><li class=" "><p>Select the <strong class=" ">months</strong> field.</p>
</li><li class=" "><p>Fill in the following properties:</p>
<ul class=" "><li class=" "><p><strong class=" ">Field caption</strong>: select months</p>
</li><li class=" "><p><strong class=" ">Form control</strong>: Multiple choice</p>
</li><li class=" "><p><strong class=" ">Data source</strong>: List of options<br><br></p>
</li></ul></li><li class=" "><p>Copy the following into the<strong class=" "> Data source</strong> text area:</p>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="value">1</code><code class="plain">;January</code></div>
<div class="line"><code class="value">2</code><code class="plain">;February</code></div>
<div class="line"><code class="value">3</code><code class="plain">;March</code></div>
<div class="line"><code class="value">4</code><code class="plain">;April</code></div>
<div class="line"><code class="value">5</code><code class="plain">;May</code></div>
<div class="line"><code class="value">6</code><code class="plain">;June</code></div>
<div class="line"><code class="value">7</code><code class="plain">;July</code></div>
<div class="line"><code class="value">8</code><code class="plain">;August</code></div>
<div class="line"><code class="value">9</code><code class="plain">;September</code></div>
<div class="line"><code class="value">10</code><code class="plain">;October</code></div>
<div class="line"><code class="value">11</code><code class="plain">;November</code></div>
<div class="line"><code class="value">12</code><code class="plain">;December</code></div>
</div>
    </code></pre>
  </div>
</div>
</li><li class=" "><p>Click <strong class=" ">Save</strong> at the top of the page.</p>
</li></ol><p><img class="confluence-embedded-image" src="images/download/attachments/66687519/2016-07-26-12_35_00-Dancing-Goat-_-Macro-rules-_-Cusom.IsOneOfSelectedMonths.png" width="500">
</p>
<p>Your custom macro rule is now finished, available globally across all your sites, and ready to be inserted into conditions through the <strong class=" ">Rule designer</strong> dialog.</p>
<p>For example, you can use the rule to limit the visibility of a feedback form field asking for a user's opinion about a campaign running only from June to August. The following example uses the <i class=" ">Send us a message</i> form on the <strong class=" ">Dancing goat</strong> sample website:</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Forms</strong> application.</p>
</li><li class=" "><p>Edit the <strong class=" ">Send us a message</strong> form.</p>
</li><li class=" "><p>Switch to the <strong class=" ">Fields </strong>tab.</p>
</li><li class=" "><p>Select the <strong class=" ">UserMessage </strong>field.</p>
</li><li class=" "><p>Click <strong class=" ">Edit</strong> next to the <strong class=" ">Visibility condition</strong> setting under the <strong class=" ">Field advanced settings</strong> section. This opens the <strong class=" ">Edit macro condition</strong> dialog.</p>
</li><li class=" "><p>Select your macro from the list and insert it by clicking <strong class=" ">Add rule</strong> (<img class="confluence-embedded-image" src="images/download/attachments/62066394/left.png">
).</p>
</li><li class=" "><p>Click <u class=" ">select months</u>. A <strong class=" ">Set parameter value</strong> dialog window opens.</p>
</li><li class=" "><p>Select the June, July, and August options and click <strong class=" ">Set parameter</strong>.</p>
</li><li class=" "><p>Click <strong class=" ">Save &amp; Close</strong>.</p>
</li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li></ol><p>Now whenever a user visits a page with the Send us a message form outside of the specified three-month interval, the <strong class=" ">UserMessage</strong> form field will be hidden.</p>
                    </div>
                </div>
                    <footer class="ht-content-footer">                
                        <div id="feedback-link-container">
                            <a href="#top" id="back-to-top">
                                <span class="icon-chevron-up"></span>
                                <span class="sr-only">Go back to top</span>
                            </a>
                        </div>   
                    </footer>
                </article></div>
            
        </div>
    </div>

               
            
    <footer id="ht-footer">
  <div class="container">
    <div class="row">
      <div class="col-6">
        <ul class="footer-menu">
          <li>
            <a href="https://devnet.kentico.com/questions-answers" target="_blank">Community Questions &amp; Answers</a>
          </li>
          <li>
            <a href="https://devnet.kentico.com/support" target="_blank">Contact support</a>
          </li>    
        </ul>
      </div>
    </div>
  </div>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>


<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>
<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.prism.js"></script>
<script type="text/javascript" src="assets/js/clipboard.min.js"></script>
<script type="text/javascript" src="assets/js/html2pdf.bundle.min.js"></script>

<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

<script type="text/javascript" src="assets/js/theme.custom.config.js"></script>

<script type="text/javascript" src="assets/js/theme.custom.js"></script>
<script type="text/javascript" src="assets/js/snackbar.js"></script>

<script type="text/javascript" async="">
    // Populates the documentation version switcher header
    // loadVersionLinkData is located in theme.custom.js
    $(window).on('load', loadVersionLinkData(CONFIG.CONFLUENCE_PAGE_TINYID));
</script><script type="text/javascript" src="assets/js/theme.lightbox.js"></script>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>