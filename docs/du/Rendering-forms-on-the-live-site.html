<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rendering forms on the live site - Documentation Updates</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="56787478" elementpageid="101517359">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">DU</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Documentation-Updates-Home.html" class="ht-space-link">
                    <h2>Documentation Updates</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=101517359"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="documentation-updates-home.html">Documentation Updates</a></li>
                                                                                     <li><a href="archive-and-backup.html">Archive and Backup</a></li>
                                                            </ul>
</div>            <h1 id="src-101517359"> <span>Rendering forms on the live site</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
    <div class="sp-grid-section"><div class="sp-grid-cell sp-grid-60"><div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>This page is currently outdated/inaccurate. The best practice for rendering forms directly is to use the <i class=" ">RenderStandaloneWidget</i> method - <a class="unresolved" href="#src-101517359">Rendering widgets in code</a>.</p>
<p>Archived for potential future revival/reuse.</p>
        </div>
    </div><p>Forms created using the form builder can be rendered on the live site either by <a class="unresolved" href="#src-101517359">adding the default Form widget</a> onto pages via the <a class="unresolved" href="#src-101517359">page builder</a>, or by explicitly rendering the form in your views.</p><p>This page shows how to <a href="#src-101517359_renderingformsonthelivesite-renderingformsonthelivesite">render a form directly in a view</a> and how to <a href="#src-101517359_renderingformsonthelivesite-customizingthesurroundinghtmlmarkupofrenderedformfields">customize the surrounding HTML markup</a> of individual form fields. Finally, the entire process is also demonstrated on a <a href="#src-101517359_safe-id-umvuzgvyaw5nzm9ybxnvbnrozwxpdmvzaxrlluv4yw1wbgxigjnszw5kzxjpbmdhzm9ybw9udghlbgl2zxnpdgu">specific example</a>.</p><h3 id="src-101517359_renderingformsonthelivesite-renderingformsonthelivesite" class="heading "><span>Rendering forms on the live site</span></h3><p>To render a form created using the form builder in the code of your views:</p><ol class=" "><li class=" "><p>Add a <i class=" ">List&lt;AbstractFormComponent&gt;</i> property to a view model used by views in which you need to render the form.</p>
<ul class=" "><li class=" "><p>Each item in this lists represents one form field.</p>
</li></ul></li><li class=" "><p>Fill the property (e.g. in a corresponding controller action) by retrieving the relevant <i class=" ">BizFormInfo</i> object and then calling <i class=" ">IFormProvider.GetFormComponents</i>.<img class="wysiwyg-unknown-macro" src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png">
</p>
</li><li class=" "><p>Render the form in the corresponding view template by using the following <i class=" ">HtmlHelper</i> extension methods:</p>
<ul class=" "><li class=" "><p><strong class=" ">Html.Kentico().FormFields</strong> – renders the entire form. The order of individual rendered form fields reflects the order in which they were created on the <i class=" ">Form builder</i> tab in the <i class=" ">Forms</i> application.</p>
</li><li class=" "><p><strong class=" ">Html.Kentico().FormField</strong> – renders a single item from the list of <i class=" ">AbstractFormComponent</i> objects. Rendering the form this way gives you more control over the position of individual fields as well as their surrounding markup. However, keep in mind that any subsequent changes to the rendered form need to be reflected in the corresponding views manually.</p>
</li><li class=" "><p>If the form contains form fields based on form components that require custom styles to render properly, include them on the page by calling <strong class=" ">Html.Kentico().FormComponentsStyles</strong>.</p>
</li></ul>    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>Note that the <i class=" ">FormFields</i> and <i class=" ">FormField</i> extension methods only render the collection of form fields comprising the given form. You are free to implement the <i class=" ">submit</i> action in a way that bests suits your particular scenario.</p>
        </div>
    </div>
</li><li class=" "><p>Implement a POST action that processes the retrieved values. The action signature needs to contain a list of <i class=" ">AbstractFormComponents</i> decorated with the <i class=" ">FormBuilderModelBinder </i>attribute to enable model binding of the submitted form data:<img class="wysiwyg-unknown-macro" src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png">
</p>
</li></ol><p>The form is now ready to be rendered and submitted on pages using the modified view template. To learn how to render a sample <i class=" ">Contact Us</i> form, see <a href="#src-101517359_safe-id-umvuzgvyaw5nzm9ybxnvbnrozwxpdmvzaxrlluv4yw1wbgxigjnszw5kzxjpbmdhzm9ybw9udghlbgl2zxnpdgu">Example - Rendering a form on the live site</a>.</p><div class="sp-grid-section"></div></div><div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-101517359_renderingformsonthelivesite-renderingformsonthelivesite">Rendering forms on the live site</a></p>
</li><li class=" "><p><a href="#src-101517359_renderingformsonthelivesite-customizingthesurroundinghtmlmarkupofrenderedformfields">Customizing the surrounding HTML markup of rendered form fields</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-101517359_renderingformsonthelivesite-settingtheglobalrenderingconfiguration">Setting the global rendering configuration</a></p>
</li><li class=" "><p><a href="#src-101517359_renderingformsonthelivesite-settingaspecificrenderingconfigurationforeachformfield">Setting a specific rendering configuration for each form field</a></p>
</li></ul></li><li class=" "><p><a href="#src-101517359_renderingformsonthelivesite-linkingformcomponentcssfiles">Linking form component CSS files</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-101517359_renderingformsonthelivesite-instandardviews">In standard views</a></p>
</li></ul></li><li class=" "><p><a href="#src-101517359_safe-id-umvuzgvyaw5nzm9ybxnvbnrozwxpdmvzaxrlluv4yw1wbgxigjnszw5kzxjpbmdhzm9ybw9udghlbgl2zxnpdgu">Example – Rendering a form on the live site</a></p>
</li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a class="unresolved" href="#src-101517359">Form builder development</a></p>
</li><li class=" "><p><a class="unresolved" href="#src-101517359">Developing form components</a></p>
</li></ul>        </div>
    </div></div></div>


    


    
    
    <h3 id="src-101517359_renderingformsonthelivesite-customizingthesurroundinghtmlmarkupofrenderedformfields" class="heading "><span>Customizing the surrounding HTML markup of rendered form fields</span></h3>
<p>By default, each individual form field is rendered wrapped in a blank <strong class=" ">&lt;div&gt;</strong> HTML element. You can specify which HTML elements should surround each form field, its label, and its input field <a href="#src-101517359_renderingformsonthelivesite-settingtheglobalrenderingconfiguration">globally</a> or <a href="#src-101517359_renderingformsonthelivesite-settingaspecificrenderingconfigurationforeachformfield">on a per form basis</a> via the <strong class=" ">FormFieldRenderingConfiguration</strong> type.</p>
<p>The <i class=" ">FormFieldRenderingConfiguration</i> type consists of four properties:</p>
<ul class=" "><li class=" "><p><i class=" ">RootConfiguration </i>– allows you to specify the HTML element (and its attributes) surrounding the entire form field. If <i class=" ">null,</i> no surrounding element is rendered for the given form field.</p>
</li><li class=" "><p><i class=" ">LabelWrapperConfiguration </i>– allows you to specify the HTML element (and its attributes) surrounding the <i class=" ">&lt;label&gt;</i> element. If <i class=" ">null, </i>only the <i class=" ">&lt;label&gt;</i> element is rendered.</p>
</li><li class=" "><p><i class=" ">ColonAfterLabel </i>– allows you to specify whether a colon ':' character should be rendered within the <i class=" ">&lt;label&gt;</i> element. Set to <i class=" ">true</i> by default.</p>
</li><li class=" "><p><i class=" ">EditorWrapperConfiguration </i>– allows you to specify the HTML element (and its attributes) surrounding the <i class=" ">&lt;input&gt;</i> element. If <i class=" ">null,</i> only the <i class=" ">&lt;input&gt;</i> element is rendered.</p>
</li><li class=" "><p><i class=" ">SuppressValidationMessages</i> – allows you to specify whether validation error messages should be rendered for the form field. Set to <i class=" ">false</i> by default.</p>
</li><li class=" "><p><i class=" ">ExplanationTextWrapperConfiguration</i> – allows you to specify the HTML element (and its attributes) surrounding the explanation text – a short message usually rendered under the input fields – of the component. If <i class=" ">null,</i> the explanation text is rendered with no surrounding elements.</p>
</li></ul><p>Each of the <i class=" ">Configuration</i> properties takes an instance of the <strong class=" ">ElementRenderingConfiguration</strong> type, which holds the type and attributes of the surrounding HTML element. <i class=" ">ElementRenderingConfiguration</i> exposes three properties:</p>
<ul class=" "><li class=" "><p><i class=" ">ElementName</i> – a string value containing the name of the HTML element enclosing the given form field component.</p>
</li><li class=" "><p><i class=" ">HtmlAttributes</i> – a dictionary containing the element's attributes.</p>
</li><li class=" "><p><i class=" ">ElementRenderingConfiguration</i> – can hold additional <i class=" ">ElementRenderingConfigurations</i>. You can use this property when you need to nest multiple wrapping elements for a given form field component.</p>
</li></ul>    <h4 id="src-101517359_renderingformsonthelivesite-settingtheglobalrenderingconfiguration" class="heading "><span>Setting the global rendering configuration</span></h4>
<p>The <strong class=" ">FormFieldRenderingConfiguration</strong> type exposes a default rendering configuration as an instance of itself in a static <i class=" ">Default</i> property. Customizing this property affects the rendering configuration of all forms on the site unless specifically overridden. See <a href="#src-101517359_renderingformsonthelivesite-settingaspecificrenderingconfigurationforeachformfield">Setting a specific rendering configuration for each form field</a> to learn how to set a specific form field rendering configuration per individual form.</p>
    <div class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Setting the rendering configuration of the Form widget</strong></p>
<p><i class=" ">FormFieldRenderingConfiguration</i> also exposes the <strong class=" ">Widget</strong> property that contains the rendering configuration used by the <strong class=" ">Form</strong> page builder widget that serves as an alternative to the manual rendering process on pages where <a class="unresolved" href="#src-101517359">the page builder feature</a> is enabled. Customize the rendering configuration exposed by the <i class=" ">Widget</i> property to change the look of forms rendered using the <i class=" ">Form</i> widget.</p>
        </div>
    </div>
    <h4 id="src-101517359_renderingformsonthelivesite-settingaspecificrenderingconfigurationforeachformfield" class="heading "><span>Setting a specific rendering configuration for each form field</span></h4>
<p>By passing an instance of the <strong class=" ">FormFieldRenderingConfiguration</strong> type as an optional parameter to the <i class=" ">Html.Kentico().FormField</i> and <i class=" ">Html.Kentico().FormFields</i> extension methods, you can set a different form field rendering configuration for each rendered form. This overrides the global rendering configuration:</p>
<ol class=" "><li class=" "><p>Prepare a new instance of the <i class=" ">FormFieldRenderingConfiguration</i> type configured according to your needs.</p>
</li><li class=" "><p>Pass it to a view in a corresponding view model.</p>
</li><li class=" "><p>Call the HtmlHelper extension methods passing the rendering configuration as an optional parameter.</p>
</li></ol><p>The code snippet below shows the creation of a sample instance of the <i class=" ">FormFieldRenderingConfiguration</i> type:<img class="wysiwyg-unknown-macro" src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png">
Each form field is now rendered with the specified HTML markup:</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/101517359/image2018-6-21_14-58-28.png" alt="A form field rendered with the specified surrounding HTML markup" width="474" height="104">
  
</p>
    <h3 id="src-101517359_renderingformsonthelivesite-linkingformcomponentcssfiles" class="heading "><span>Linking form component CSS files</span></h3>
    <h4 id="src-101517359_renderingformsonthelivesite-instandardviews" class="heading "><span>In standard views</span></h4>
<p>When rendering a form built using the Form builder on pages, the related form component styles must be explicitly rendered in the corresponding views by calling the <strong class=" ">@Html.Kentico().FormComponentsStyles</strong> extension method:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">@</code><code class="keyword">using</code><code class="plain"> Kentico.Forms.Web.Mvc @Html.Kentico().FormComponentsStyles()</code></div>
</div>
    </div>
    <div class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>Refer to <a href="#">Rendering forms on the live site</a> if you need more information about rendering forms built using the Form builder in your views.</p>
        </div>
    </div>
<p>Forms placed <a class="unresolved" href="#src-101517359">using the Form widget</a> or rendered explicitly on pages containing page builder editable areas include the component styles by default. They are linked to the views via the <strong class=" ">Html.Kentico().PageBuilderStyles</strong> extension method, which needs to be called as part of process used to <a class="unresolved" href="#src-101517359">add page builder editable areas</a>.</p>
    <h3 id="src-101517359_safe-id-umvuzgvyaw5nzm9ybxnvbnrozwxpdmvzaxrlluv4yw1wbgxigjnszw5kzxjpbmdhzm9ybw9udghlbgl2zxnpdgu" class="heading "><span>Example – Rendering a form on the live site</span></h3>
<p>This example demonstrates a step by step process of rendering a sample <i class=" ">Contact Us</i> form on a Kentico MVC site:</p>
<ol class=" "><li class=" "><p>Create a view model with a property that holds a collection of all form fields (instances of the <i class=" ">AbstractFormComponent</i> type) for the given form:<img class="wysiwyg-unknown-macro" src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png">
</p>
</li><li class=" "><p>Implement or extend a controller action to fill the created property and send the result to a corresponding view:<img class="wysiwyg-unknown-macro" src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png">
</p>
    <div class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>    <span style="color: #3f3e3c;">
We recommend using a     </span>
<a class="external-link" href="https://docs.kentico.com/k12/developing-websites/initializing-kentico-services-with-dependency-injection">dependency injection container</a>    <span style="color: #3f3e3c;">
 to initialize instances of used API services (e.g.     </span>
<i class=" ">IFormProvider</i><i class=" ">).</i></p>
        </div>
    </div>
</li><li class=" "><p>(Optional) Specify a <a href="#src-101517359_renderingformsonthelivesite-customizingthesurroundinghtmlmarkupofrenderedformfields">rendering configuration</a> for individual form fields:<img class="wysiwyg-unknown-macro" src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png">
</p>
</li><li class=" "><p>Render the form by calling one of our extension methods in the view. The following example renders the form:</p>
<ul class=" "><li class=" "><p>Using the <i class=" ">Html.Kentico().FormField()</i> extension method and the default rendering configuration.</p>
</li><li class=" "><p>Using the <i class=" ">Html.Kentico().FormFields() </i>extension method and the rendering configuration created above.</p>
</li></ul><p><img class="wysiwyg-unknown-macro" src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="$stringEscapeUtils.escapeHtml($element.title)">
  
</p>
</li><li class=" "><p>Implement or extend a POST action to process the collected form data. The POST action must receive a <i class=" ">List&lt;AbstractFormComponent&gt;</i> collection decorated with the <i class=" ">FormBuilderModelBinder </i>attribute to enable Kentico to bind the submitted form data:<img class="wysiwyg-unknown-macro" src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png">
</p>
</li></ol><p>The form is now rendered in a view and ready to receive user submissions. The submitted data is saved in the corresponding <i class=" ">Form_&lt;SiteCodeName&gt;_&lt;FormCodeName&gt;</i> database table.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>