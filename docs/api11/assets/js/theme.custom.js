var longToByteArray=function(e){for(var t=[0,0,0,0],o=0;o<t.length;o++){var n=255&e;t[o]=n,e=(e-n)/256}return t},pageIdToB64=function(e){return btoa(longToByteArray(e).map(String.fromCharCode).map((function(e){return e[0]})).join("")).replace(/=/g,"")},generateTinyId=function(e){for(var t=!0,o="",n=e.length-1;n>=0;n--){var a=e.charAt(n);"="!==a&&"\n"!=a&&(t&&"A"===a||(t=!1,o="/"===a?"-"+o:"+"===a?"_"+o:a+o))}if(o.length>0){var i=o.charAt(o.length-1);"-"!==i&&"_"!==i||(o+="/")}return o};CONFIG.CONFLUENCE_PAGE_TINYID=generateTinyId(pageIdToB64(CONFIG.CONFLUENCE_PAGE_ID));var displayPageUrlId=function(e){var t=CONFIG.CONFLUENCE_PAGE_TINYID;t?$.ajax({url:CONFIG.HELPSERVICE_URLID_ENDPOINT+t,success:function(e){var o=JSON.parse(e);o.hasOwnProperty("Identifier")?$("#pageUrlId").text(" Help Service ID: "+o.Identifier+" (TinyID: "+t+")"):$("#pageUrlId").text(" Help Service ID: "+o.Error)},timeout:800}):$("#pageUrlId").text("Error when generating the page tiny ID. See the console for details.")};Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"remove-initial-line-feed":!1,"tabs-to-spaces":4});var setExportPdf=function(){var e=$("body").attr("data-pagetitle");$("#export-pdf").attr("href","../pdf/".concat(CONFIG.CONFLUENCE_SPACE_KEY.toLowerCase(),"/").concat(e.toLowerCase().replace(/ /g,"-"),".pdf"))};$(document).ready(setExportPdf);var versionSwitcherData,openPageLink=function(e){CONFIG.CONFLUENCE_PAGE_TINYID?togglePageLinkPanel(CONFIG.BASE_URL+"/x/"+CONFIG.CONFLUENCE_PAGE_TINYID):togglePageLinkPanel(window.location.href)},togglePageLinkPanel=function(e){$("#page-link-textbox").attr("value",e),$("#page-link-panel").hasClass("show")?$("#page-link-panel").removeClass("show"):$("#page-link-panel").addClass("show")},copyPageLinkToClip=function(){void 0===navigator.clipboard?Snackbar.show({text:"An error occurred while copying the page link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"}):navigator.clipboard.writeText($("#page-link-textbox").attr("value")).then((function(){Snackbar.show({text:"Page link copied",pos:"top-right",showAction:!1,customClass:"box-general box-info",duration:"2500",backgroundColor:"#EEF3FC",textColor:"#151515"})})).catch((function(){Snackbar.show({text:"An error occurred while copying the page link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"})}))},closePageLink=function(){return $("#page-link-panel").removeClass("show")},getVersionTextFromVersionId=function(e){return DOCUMENTATION_VERSIONS.find((function(t){return t.versionId==e})).versionText},getVersionTextFromHelpServiceId=function(e){return DOCUMENTATION_VERSIONS.find((function(t){return t.helpServiceVersion==e})).versionText},loadVersionLinkData=function(e){$.ajax({dataType:"json",url:CONFIG.HELPSERVICE_LISTALTVERSIONLINKS_ENDPOINT+e,timeout:2e3,tryCount:0,retryLimit:3,success:function(e){versionSwitcherData=e},error:function(e,t,o){if("timeout"==t)return this.tryCount++,this.tryCount<=this.retryLimit?void $.ajax(this):void 0}})},versionLinkUpdateDone=!1,insertVersionLinks=function(e){void 0!==e?(versionLinkUpdateDone||(e.forEach((function(e){var t=$(".js-menuDdl-version a:contains("+getVersionTextFromHelpServiceId(e.VersionUrlId)+")");t&&(t.attr("href",e.Url),t.addClass(" populated"))})),$(".js-menuDdl-version a").toArray().forEach((function(e){e.classList.contains("populated")||(e.classList.add("empty"),"Xperience 13"===e.textContent?(e.setAttribute("href",CONFIG.XPERIENCE13_MISSING_PAGES_URL+"?ref="+$(location).attr("href").split("/").pop()),e.setAttribute("title","The current page is not available in the Xperience 13 documentation. \r\nYou will be redirected to a general guidance page.")):"Xperience by Kentico"===e.textContent?(e.setAttribute("href",CONFIG.XP_MISSING_PAGES_URL+"?ref="+$(location).attr("href").split("/").pop()),e.setAttribute("title","The current page is not available in the Xperience by Kentico documentation. \r\nYou will be redirected to a general guidance page.")):e.setAttribute("title","The current page is not available for this documentation version. \r\nYou will be redirected to the home page for this version."))})),versionLinkUpdateDone=!0),openCloseVersionDdl()):openCloseVersionDdl()},insertSearchVersionLinks=function(){versionLinkUpdateDone||($(".js-menuDdl-version a").each((function(){var e=this.href.split("/"),t=getDocVersion(e[e.length-1]),o="/"!==this.href.slice(-1)?"/":"";if(CONFIG.CONFLUENCE_DEVMODEL_VERSIONSWITCHER_WHITELIST.indexOf(t)>=0)this.href=this.href+o+"search"+window.location.search;else{for(var n=window.location.search.split("&"),a=n.length;a-- >0;)0==n[a].indexOf("l=")&&n.splice(a,1);this.href=this.href+o+"search"+n.join("&")}})),versionLinkUpdateDone=!0);openCloseVersionDdl()},openCloseDocTypeDdl=function(){$(".js-menuDdl-docType").toggleClass("show"),$(".js-menuDdlBtn-docType").toggleClass("opened")},openCloseVersionDdl=function(){$(".js-menuDdl-version").toggleClass("show"),$(".js-menuDdlBtn-version").toggleClass("opened")},getDocType=function(e){return/api/i.test(e)?"API Examples":/tutorial/i.test(e)?"Tutorial":"Documentation"},getDocVersion=function(e){switch(e){case"K12SP":case"API12SP":case"K12SPTutorial":return"12sp";case"XP":case"Tutorial":case"Api":return"xp";default:return e.replace(/[^0-9]/g,"")}},getVersionLinkTitle=function(e){return"12sp"===e?"Kentico 12 Service Pack":getVersionTextFromVersionId(e)},buildDocLink=function(e,t,o,n){var a,i="/";if(-1===CONFIG.OBSOLETE_SPACE_KEY_FORMAT_VERSIONS.indexOf(e)){var r="xp"===e?"":e;switch(t){case"Tutorial":a=r+"tutorial";break;case"API Examples":a=r+"api";break;default:a=e}a===CONFIG.DOC_ROOT_URL_SPACE_KEY&&(a="",i="/")}else switch(t){case"Tutorial":a="k"+e+"tutorial";break;case"API Examples":a="api"+e;break;default:a="k"+e}var s=o?t:getVersionTextFromVersionId(e);return'<li><a href="'+i+a+'"'+('class="'+(n?" current":"")+'"')+(' title="'+(o?t:getVersionLinkTitle(e))+'"')+">"+s+"</a></li>"},loadDocVersionHeaderList=function(e,t){var o=$('[name="confluence-user-logged-in"]').attr("content"),n=DOCUMENTATION_VERSIONS.filter((function(t){return("API Examples"!==e||"8"!==t.versionId&&"81"!==t.versionId&&"82"!==t.versionId)&&("true"===o||t.versionId!==CONFIG.DEV_DOCUMENTATION_VERSION_ID)&&"12"!==t.versionId})),a="";n.forEach((function(o){o.versionId==CONFIG.NEWEST_UNSUPPORTED_VERSION_ID&&(a+='<li class="js-unsupported-versions"><button class="header-ddl-button-nested js-unsupported-versions-button">All versions</button><ul class="menu-ddl-content nested-list docVersion js-unsupported-versions-list">'),a+=buildDocLink(o.versionId,e,!1,o.versionId==t)})),a+="</ul></li>",$(".js-menuDdlBtn-version").html(getVersionTextFromVersionId(t)),$(".js-menuDdl-version").html(a)};$(document).on("click",".js-unsupported-versions-button",(function(){$(".js-unsupported-versions-list").toggleClass("show"),$(".js-unsupported-versions-list").toggleClass("opened")}));var loadDocTypeHeaderList=function(e,t){var o=["Documentation","Tutorial","API Examples"];o=o.filter((function(t){return"8"!==e&&"81"!==e&&"82"!==e||"API Examples"!==t}));var n="";o.forEach((function(o){n+=buildDocLinkSpecial(e,o,!0,o==t)})),$(".js-menuDdlBtn-docType").html(t),$(".js-menuDdl-docType").html(n)},buildDocLinkSpecial=function(e,t,o,n){var a,i="../";if(-1===CONFIG.OBSOLETE_SPACE_KEY_FORMAT_VERSIONS.indexOf(e)){var r="xp"===e?"":e;switch(t){case"Tutorial":a=r+"tutorial";break;case"API Examples":a=r+"api";break;default:a=e}a===CONFIG.DOC_ROOT_URL_SPACE_KEY&&(a="",i="../")}else switch(t){case"Tutorial":a="k"+e+"tutorial";break;case"API Examples":a="api"+e;break;default:a="k"+e}var s=o?t:getVersionTextFromVersionId(e);return'<li><a href="'+i+a+'"'+('class="'+(n?" current":"")+'"')+(' title="'+(o?t:getVersionLinkTitle(e))+'"')+">"+s+"</a></li>"},loadHeaderLists=function(){var e=getDocVersion(CONFIG.CONFLUENCE_SPACE_KEY),t=getDocType(CONFIG.CONFLUENCE_SPACE_KEY);loadDocTypeHeaderList(e,t),loadDocVersionHeaderList(t,e)},registerPageTreeEventHandler=function(){$("ul.ht-pages-nav-top").on("click",".sp-toggle",(function(){var e=$(this).parent("li");e.is(".collapsed")?e.removeClass("collapsed").addClass("open"):e.is(".open")&&e.removeClass("open").addClass("collapsed")}))};$(document).ready(registerPageTreeEventHandler);var closeHeaderDropDowns=function(e){var t=$(".js-menuDdlBtn-docType"),o=$(".js-menuDdlBtn-version"),n=$(".js-unsupported-versions-button"),a=$(".js-unsupported-versions-list"),i=$(".js-menuDdlBtn-devModel"),r=$(".js-menuDdl-devModel");n.is(e.target)||(t.is(e.target)||0!==t.has(e.target).length||($(".js-menuDdl-docType").removeClass("show"),t.removeClass("opened")),o.is(e.target)||0!==o.has(e.target).length||($(".js-menuDdl-version").removeClass("show"),o.removeClass("opened"),a.removeClass("opened"),a.removeClass("show")),i.is(e.target)||0!==r.has(e.target).length||(r.removeClass("show"),i.removeClass("opened")))};$(document).ready(loadHeaderLists),$(document).click(closeHeaderDropDowns);var isDevModelSwitcherSupported=function(){var e=CONFIG.CONFLUENCE_SPACE_KEY;return!e.toLowerCase().includes("api")&&CONFIG.CONFLUENCE_DEVMODEL_VERSIONSWITCHER_WHITELIST.indexOf(getDocVersion(e))>=0},getPageLabels=function(){var e=$('[name="confluence-page-labels"]').attr("content");return e=(e=e.slice(1,-1)).split(", ")},setDevModelWebStorage=function(){if(isDevModelSwitcherSupported()&&"undefined"!=typeof Storage){var e=getPageLabels();if(e.indexOf("mvc")>=0)return void(localStorage.kenticoDocumentationMode="mvc");if(e.indexOf("pe")>=0)return void(localStorage.kenticoDocumentationMode="pe");var t=window.location.search;if(t.indexOf("devModel=mvc")>=0)return void(localStorage.kenticoDocumentationMode="mvc");if(t.indexOf("devModel=pe")>=0)return void(localStorage.kenticoDocumentationMode="pe");localStorage.kenticoDocumentationMode&&null!==localStorage.getItem("kenticoDocumentationMode")||(localStorage.kenticoDocumentationMode="mvc")}},getCurrentDevModel=function(){var e=getPageLabels();if(e.indexOf("mvc")>=0)return"mvc";if(e.indexOf("pe")>=0)return"pe";var t=window.location.search;return t.indexOf("devModel=mvc")>=0?"all|mvc":t.indexOf("devModel=pe")>=0?"all|pe":"undefined"!=typeof Storage&&localStorage.kenticoDocumentationMode?"all|"+localStorage.kenticoDocumentationMode:"all|mvc"},translateToHelpServiceVersion=function(e){return DOCUMENTATION_VERSIONS.find((function(t){return t.versionId==e})).helpServiceVersion},switchDevModelStorage=function(e){"undefined"!=typeof Storage&&(localStorage.kenticoDocumentationMode=e)},openCloseDevModelDdl=function(){$(".js-menuDdl-devModel").toggleClass("show"),$(".js-menuDdlBtn-devModel").toggleClass("opened")},devModelMap={mvc:"MVC",pe:"Portal Engine"},initAltDevModelLink=function(){if(isDevModelSwitcherSupported()){var e=getCurrentDevModel(),t=!1;0===e.indexOf("all|")&&(t=!0,e=e.split("|")[1]);var o="mvc"==e?"pe":"mvc";$(".js-"+e+"-model-link").addClass("active");var n=$(".js-"+o+"-model-link");if(n){if($(".js-menuDdlBtn-devModel").html(devModelMap[e]),t)return n.on("click",(function(){switchDevModelStorage(o);var e=window.location.pathname.split("/");if("search"==e[e.length-1])kenticoThemeOpenSearchResultsPage();else{var t=window.location.href.replace(window.location.hash,"");t=(t=t.replace("#","")).split("?devModel")[0],window.location.href=t}})),void currentModelElement.on("click",(function(e){e.preventDefault(),openCloseDevModelDdl()}));var a=$("#dev-model-alt").attr("data-devmodel-alt");if(a){var i=getDocVersion(CONFIG.CONFLUENCE_SPACE_KEY),r=translateToHelpServiceVersion(i),s=CONFIG.HELPSERVICE_LINKMAPPER_ENDPOINT+r+"&link="+a;n.on("click",(function(){switchDevModelStorage(o),window.location.href=s}))}else{$(".js-menuDdlBtn-devModel").prop("disabled",!0).prop("title","");var c="mvc"==e?"MVC":"Portal Engine",l="mvc"==o?"MVC":"Portal Engine",d='<a id="alt-model-home-link" href="'+($("#ajs-context-path").attr("content")+"/"+CONFIG.CONFLUENCE_SPACE_KEY.toLowerCase()+"?devModel="+o)+'">'+l+" Home page</a>";$(".js-dev-model-unavailable-text").html("<p>This page is only available for the "+c+" development model.<br />You can switch to the "+d+".</p>")}}}};$(document).ready(setDevModelWebStorage),$(document).ready(initAltDevModelLink);var setDevFrameworkButtons=function(){$(".js-dev-model-switch-core").click((function(){coreFrameworkOnClick()})),$(".js-dev-model-switch-mvc").click((function(){mvcFrameworkOnClick()})),$(".js-dev-model-switch-indicator").click((function(e){"core"===localStorage.kenticoDocumentationFramework?mvcFrameworkOnClick():coreFrameworkOnClick()})),$(".js-dev-model-switch-mvc, .js-dev-model-switch-core ").on("keyup",(function(e){e.preventDefault(),e.stopPropagation(),32===e.keyCode&&("core"===localStorage.kenticoDocumentationFramework?mvcFrameworkOnClick():coreFrameworkOnClick())}))},setDevFrameworkCheckbox=function(){"mvc"===localStorage.kenticoDocumentationFramework?($(".js-dev-model-switch-mvc").attr("checked",!0),$(".js-dev-model-switch").addClass("is-dev-model-mvc").removeClass("is-dev-model-core")):"core"===localStorage.kenticoDocumentationFramework&&($(".js-dev-model-switch-core").attr("checked",!0),$(".js-dev-model-switch").addClass("is-dev-model-core").removeClass("is-dev-model-mvc"))},setCorrectFramework=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(localStorage.kenticoDocumentationFramework&&null!==localStorage.getItem("kenticoDocumentationFramework")||(localStorage.kenticoDocumentationFramework="mvc"),e){var t=new URLSearchParams(window.location.search).get("devmodel");"mvc"!==t&&"core"!==t||(localStorage.kenticoDocumentationFramework=t)}"mvc"===localStorage.kenticoDocumentationFramework&&($(".dev-model-core").css("display","none"),$(".dev-model-mvc").css("display","block")),"core"===localStorage.kenticoDocumentationFramework&&($(".dev-model-mvc").css("display","none"),$(".dev-model-core").css("display","block")),setDevFrameworkCheckbox()},setHoverTitles=function(){var e="Switch the displayed development model in the switcher under the page heading";$(".dev-model-core .codeContent").attr("title",e),$(".dev-model-mvc .codeContent").attr("title",e)},coreFrameworkOnClick=function(){localStorage.kenticoDocumentationFramework="core",setCorrectFramework()},mvcFrameworkOnClick=function(){localStorage.kenticoDocumentationFramework="mvc",setCorrectFramework()},showDevFrameworkSwitcher=function(){$(".js-dev-model-switch").removeClass("is-hidden")},setDevFrameworkSwitcher=function(){$(".dev-model-core").length+$(".dev-model-mvc").length>0&&(setCorrectFramework(!0),setDevFrameworkButtons(),setDevFrameworkCheckbox(),showDevFrameworkSwitcher(),setHoverTitles())};$(document).ready(setDevFrameworkSwitcher);var initSidebar=function e(){if(null!==$(".ht-nav-page-link").first())if($(".ht-nav-page-link.current").length){var t=$("div.ht-sidebar-content"),o=$("#ht-headerbar").outerHeight(!0),n=$(".ht-nav-page-link.current")[0].getBoundingClientRect().top;0===$("div.ht-sidebar-content")[0].scrollTop&&t.animate({scrollTop:Math.round(n-o-t.outerHeight()/2.5)},0),$("#ht-sidebar").addClass("animate")}else window.requestAnimationFrame(e)};window.requestAnimationFrame(initSidebar);var kenticoThemeOpenSearchResultsPage=function(){var e=$(".search-input").val();e=encodeURIComponent(e);var t=document.querySelector("#check-show-all-search-results"),o=!(t&&t.checked);window.SCROLL_WEBHELP&&window.SCROLL_WEBHELP.search&&(window.SCROLL_WEBHELP.search.navigateToSearchPage(e,o),$("#ht-search").find(".ht-search-dropdown").removeClass("open"),$(".ht-search-dropdown a.hover").removeClass("hover"),$(document).unbind("keydown"))},toggleSearchSuggestions=function(e){var t=$("input.search-input"),o=$(".ht-search-dropdown"),n=$("#searchButton"),a=$(".ht-search-dropdown a.hover");t.is(e.target)||0!==t.has(e.target).length||o.is(e.target)||0!==o.has(e.target).length?$(".ht-search-dropdown li.search-key").length&&o.addClass("open"):(o.removeClass("open"),a.removeClass("hover"),!n.is(e.target)&&0===n.has(e.target).length&&window.innerWidth<=800&&window.innerWidth>499&&t.removeClass("show"))};$(document).click(toggleSearchSuggestions);var setContentTopPadding=function(){var e=$(".searchbox-area-behind").first();e.length&&$(".ht-content").first().css("padding-top",e.outerHeight(!0)+"px")};$(document).ready(setContentTopPadding),$(window).resize(setContentTopPadding);var setFooterWidth=function(){var e=document.documentElement.clientWidth,t=$("#ht-wrap-container").width(),o=$("#ht-wrap-container").offset().left,n=e-t-o;$("#ht-footer").css({right:-n,"padding-right":n,left:-o,"padding-left":o})};function onElementHeightChange(e,t){var o,n=e.clientHeight;!function a(){o=e.clientHeight,n!=o&&t(),n=o,e.onElementHeightChangeTimer&&clearTimeout(e.onElementHeightChangeTimer),e.onElementHeightChangeTimer=setTimeout(a,200)}()}$(document).ready(setFooterWidth),$(window).resize(setFooterWidth),onElementHeightChange(document.body,setFooterWidth),$("span.expand-control").click((function(){var e=$(this).parent().next(),t=$(this).find("span.expand-control-text");e.hasClass("collapse")?(e.removeClass("collapse"),t.text("Collapse source")):(e.addClass("collapse"),t.text("Expand source"))}));var getPageIdIfEditingAllowed=function(){var e=$("#sp-viewport-control-opener").length,t=$(".search-input").is(":focus");if(0!=e&&!t){var o=$("body").attr("pageid");return o||0}return 0};function openLink(e,t){t?window.open(e,"_blank").focus():window.open(e,"_self")}$("p").each((function(){""==$(this).text().trim()&&0==$(this).children().length&&$(this).hide()}));var showHideSearchTips=function(){$("#search-tips").hasClass("show")?hideFrontLayer():showFrontLayer()},showFrontLayer=function(){$("#search-tips").addClass("show"),document.getElementById("search-tips-mask").style.visibility="visible",document.getElementById("search-tips").style.visibility="visible"},hideFrontLayer=function(){document.getElementById("search-tips-mask").style.visibility="hidden",document.getElementById("search-tips").style.visibility="hidden",$("#search-tips").removeClass("show")},getCookie=function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var a=o[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},initCookieLevel=function(){""!==getCookie("xperience.cookieconsentlevel")&&($.cookie("xperience.cookieconsentlevel"),1?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.default",consent:{functionality_storage:"granted",personalization_storage:"denied",analytics_storage:"denied",ad_storage:"denied",security_storage:"denied"}})):2?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.default",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"denied",ad_storage:"denied",security_storage:"denied"}})):3?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.default",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"granted",ad_storage:"denied",security_storage:"denied"}})):4&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.default",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"granted",ad_storage:"granted",security_storage:"granted"}})))};$(document).ready(initCookieLevel);var createCookie=function(e,t,o,n){console.log("creating cookie ".concat(e," ").concat(t," ").concat(o," ").concat(n));var a;n="; domain="+n;if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),a="; expires="+i.toUTCString()}else a="";document.cookie=e+"="+t+a+"; path=/"+n},eraseCookie=function(e){createCookie(e,"",-1,"")},consentWithCookieUsage=function(){$("#cookie-banner").attr("style","display:none;"),createCookie("xperience.cookielevelselection",!0,365,window.location.host)},hideCookieConsentBanner=function(){!document.cookie.replace(/(?:(?:^|.*;\s*)xperience.cookielevelselection\s*\=\s*([^;]*).*$)|^.*$/,"$1")&&navigator.cookieEnabled||$("#cookie-banner").attr("style","display:none;")},setCookieLevel=function(e){e="marketing"===(e=e)?4:"analytical"===e?3:"preference"===e?2:1,consentWithCookieUsage(),createCookie("xperience.cookieconsentlevel",e,365,window.location.host),1===e?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.update",consent:{functionality_storage:"granted",personalization_storage:"denied",analytics_storage:"denied",ad_storage:"denied",security_storage:"denied"}})):3===e&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.update",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"granted",ad_storage:"denied",security_storage:"denied"}}))};$(document).ready((function(){hideCookieConsentBanner()}));var copyHeadingLink=function(e){var t=$(e.target),o=window.location.origin+window.location.pathname+"#"+t.parent().attr("id");void 0===navigator.clipboard?Snackbar.show({text:"An error occurred while copying the heading link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"}):navigator.clipboard.writeText(o).then((function(){Snackbar.show({text:"Heading link copied",pos:"top-right",showAction:!1,customClass:"box-general box-info",duration:"2500",backgroundColor:"#EEF3FC",textColor:"#151515"}),t.addClass("copied")})).catch((function(){Snackbar.show({text:"An error occurred while copying the heading link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"})}))},copyIconMouseOut=function(e){var t=$(e.target);t.hasClass("copied")&&t.removeClass("copied")};$("#main-content h2, #main-content .sp-grid-60 h3, #main-content h3").not("div.box-general h2, div.box-general h3, h2:has(a), h3:has(a)").append('<span title="Copy link to heading" class="heading-link-icon icon-chain" onclick="copyHeadingLink(event)" onmouseout="copyIconMouseOut(event)"></span>');var initFooterLinks=function(){$("a.js-qa-link").attr("href",THEME_CONFIG.KENTICO_QA_LINK),$("a.js-support-link").attr("href",THEME_CONFIG.KENTICO_SUPPORT_LINK),0==$("#main-content").text().trim().length&&($("#main-content").append("This section collects all pages related to the topic. Use the page tree to navigate the section."),$("#main-content").append($("a.ht-nav-page-link.current").parent().children().last().clone()))};$(document).ready(initFooterLinks);var fixHeadingsUpper=function(){0!==$("#main-content h1").length&&$("#main-content h1").each((function(e){$(this).replaceWith("<h2 id=".concat(this.id," class=").concat(this.className,">")+$(this).html()+"</h2>")}))},fixHeadingsLower=function(){0===$("#main-content h2").length&&0!==$("#main-content h3").length&&$("#main-content h3").each((function(e){$(this).replaceWith("<h2 id=".concat(this.id," class=").concat(this.className,">")+$(this).html()+"</h2>")}))};window.addEventListener("DOMContentLoaded",(function(e){fixHeadingsUpper(),fixHeadingsLower()}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZW1lLmN1c3RvbS5qcyJdLCJuYW1lcyI6WyJsb25nVG9CeXRlQXJyYXkiLCJsb25nIiwiYnl0ZUFycmF5IiwiaW5kZXgiLCJsZW5ndGgiLCJieXRlIiwicGFnZUlkVG9CNjQiLCJtYXAiLCJzIiwiam9pbiIsInBhZ2VJZCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhZGRpbmciLCJnZW5lcmF0ZVRpbnlJZCIsImJ0b2FkSWQiLCJ0aW55U3RyaW5nIiwiY2hhcmFjdGVyIiwiaSIsImNoYXJBdCIsIkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQiLCJkaXNwbGF5UGFnZVVybElkIiwiYWpheCIsImxhc3RDaGFyIiwiSlNPTiIsInJlc3BvbnNlIiwicGFyc2UiLCJoYXNPd25Qcm9wZXJ0eSIsIkNPTkZJRyIsIkNPTkZMVUVOQ0VfUEFHRV9JRCIsIlByaXNtIiwiTm9ybWFsaXplV2hpdGVzcGFjZSIsInRpbnlTdWZmaXgiLCIkIiwidXJsIiwiSEVMUFNFUlZJQ0VfVVJMSURfRU5EUE9JTlQiLCJzdWNjZXNzIiwicmVzdWx0IiwidGV4dCIsIklkZW50aWZpZXIiLCJFcnJvciIsInJlYWR5Iiwic2V0RXhwb3J0UGRmIiwicGx1Z2lucyIsInNldERlZmF1bHRzIiwidG9nZ2xlUGFnZUxpbmtQYW5lbCIsImFkZENsYXNzIiwiY29weVBhZ2VMaW5rVG9DbGlwIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwidW5kZWZpbmVkIiwiU25hY2tiYXIiLCJhdHRyIiwiY29uY2F0IiwiQ09ORkxVRU5DRV9TUEFDRV9LRVkiLCJ0b0xvd2VyQ2FzZSIsInBhZ2VUaXRsZSIsInJlcGxhY2UiLCJkb2N1bWVudCIsInNob3dBY3Rpb24iLCJ2ZXJzaW9uU3dpdGNoZXJEYXRhIiwib3BlblBhZ2VMaW5rIiwicGFnZUlEIiwid3JpdGVUZXh0IiwiQkFTRV9VUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJ0aW55VXJsIiwidGV4dENvbG9yIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInNob3ciLCJwb3MiLCJjdXN0b21DbGFzcyIsImR1cmF0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwidGhlbiIsImNsb3NlUGFnZUxpbmsiLCJnZXRWZXJzaW9uVGV4dEZyb21WZXJzaW9uSWQiLCJkb2N1bWVudGF0aW9uVmVyc2lvbiIsImdldFZlcnNpb25UZXh0RnJvbUhlbHBTZXJ2aWNlSWQiLCJpdGVtIiwiaGVscFNlcnZpY2VWZXJzaW9uIiwiZmluZCIsInZlcnNpb25UZXh0IiwiSEVMUFNFUlZJQ0VfTElTVEFMVFZFUlNJT05MSU5LU19FTkRQT0lOVCIsInRpbWVvdXQiLCJ0cnlDb3VudCIsInJldHJ5TGltaXQiLCJ0aW55SUQiLCJkYXRhIiwiZXJyb3IiLCJ4aHIiLCJ0ZXh0U3RhdHVzIiwidGhpcyIsInZlcnNpb25MaW5rVXBkYXRlRG9uZSIsIm9wZW5DbG9zZVZlcnNpb25EZGwiLCJpbnNlcnRWZXJzaW9uTGlua3MiLCJ2ZXJzaW9uRGF0YSIsImxpbmtFbGVtIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YUl0ZW0iLCJWZXJzaW9uVXJsSWQiLCJVcmwiLCJlbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidG9BcnJheSIsImZvckVhY2giLCJ0ZXh0Q29udGVudCIsIlhQRVJJRU5DRTEzX01JU1NJTkdfUEFHRVNfVVJMIiwic3BsaXQiLCJwb3AiLCJpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MiLCJzZWFyY2hRdWVyeVN0cmluZ1BhcnRzIiwic2VhcmNoU2xhc2giLCJzcGFjZUtleSIsImdldERvY1ZlcnNpb24iLCJsaW5rRWxlbUhyZWZBcnJheSIsInNsaWNlIiwiQ09ORkxVRU5DRV9ERVZNT0RFTF9WRVJTSU9OU1dJVENIRVJfV0hJVEVMSVNUIiwiaW5kZXhPZiIsInNlYXJjaCIsInNwbGljZSIsImdldERvY1R5cGUiLCJhcGlFeGFtcGxlcyIsInR1dG9yaWFsIiwib3BlbkNsb3NlRG9jVHlwZURkbCIsInRvZ2dsZUNsYXNzIiwidGVzdCIsInZlcnNpb24iLCJidWlsZERvY0xpbmsiLCJzcGFjZUtleVNsYXNoIiwiZ2V0VmVyc2lvbkxpbmtUaXRsZSIsImRvY1R5cGUiLCJ1c2VEb2NUeXBlSW5MaW5rVGV4dCIsImlzQ3VycmVudCIsIk9CU09MRVRFX1NQQUNFX0tFWV9GT1JNQVRfVkVSU0lPTlMiLCJ2ZXJzaW9uUHJlZml4IiwibGlua1RleHQiLCJjbGFzc0F0dHJpYnV0ZSIsImxvYWREb2NWZXJzaW9uSGVhZGVyTGlzdCIsInVzZXJMb2dnZWRJbiIsIkRPQ19ST09UX1VSTF9TUEFDRV9LRVkiLCJjdXJyZW50RG9jVHlwZSIsImRvY1ZlcnNpb25MaW5rcyIsImF2YWlsYWJsZURvY1ZlcnNpb25zIiwidmVyc2lvbklkIiwiY3VycmVudERvY1ZlcnNpb24iLCJhdmFpbGFibGVEb2NUeXBlcyIsImRvY1R5cGVMaW5rcyIsIkRPQ1VNRU5UQVRJT05fVkVSU0lPTlMiLCJmaWx0ZXIiLCJidWlsZERvY0xpbmtTcGVjaWFsIiwiREVWX0RPQ1VNRU5UQVRJT05fVkVSU0lPTl9JRCIsIk5FV0VTVF9VTlNVUFBPUlRFRF9WRVJTSU9OX0lEIiwiaHRtbCIsIm9uIiwibG9hZERvY1R5cGVIZWFkZXJMaXN0IiwibGkiLCJidXR0b25WZXJzaW9uIiwib2xkZXJWZXJzaW9uc0J1dHRvbiIsIm9sZGVyVmVyc2lvbnNMaXN0IiwiYnV0dG9uRG9jVHlwZSIsImV2ZW50IiwidGFyZ2V0IiwiZGV2TW9kZWxCdXR0b24iLCJkZXZNb2RlbExpc3QiLCJsb2FkSGVhZGVyTGlzdHMiLCJpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQiLCJjdXJyZW50U3BhY2VLZXkiLCJyZWdpc3RlclBhZ2VUcmVlRXZlbnRIYW5kbGVyIiwibGFiZWxzIiwicGFyZW50IiwiaXMiLCJzZXREZXZNb2RlbFdlYlN0b3JhZ2UiLCJjdXJyZW50TGFiZWxzIiwiZ2V0UGFnZUxhYmVscyIsImNsb3NlSGVhZGVyRHJvcERvd25zIiwicXVlcnlTdHJpbmdQYXJhbXMiLCJsb2NhbFN0b3JhZ2UiLCJrZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUiLCJoYXMiLCJnZXRDdXJyZW50RGV2TW9kZWwiLCJjdXJyZW50bGFiZWxzIiwiY2xpY2siLCJ0cmFuc2xhdGVUb0hlbHBTZXJ2aWNlVmVyc2lvbiIsInRhcmdldE1vZGVsIiwib3BlbkNsb3NlRGV2TW9kZWxEZGwiLCJkZXZNb2RlbE1hcCIsImN1cnJlbnRNb2RlbCIsImFsbERldk1vZGVsUGFnZSIsImFsdERldk1vZGVsIiwiZ2V0SXRlbSIsImFsdERldk1vZGVsRWxlbWVudCIsInBhdGhOYW1lQXJyYXkiLCJrZW50aWNvVGhlbWVPcGVuU2VhcmNoUmVzdWx0c1BhZ2UiLCJkZXZNb2RlbFJlbG9hZFVybCIsInN3aXRjaERldk1vZGVsU3RvcmFnZSIsImFsdFBhZ2VVcmwiLCJwZSIsImluaXRBbHREZXZNb2RlbExpbmsiLCJzZXREZXZGcmFtZXdvcmtCdXR0b25zIiwiY29yZUZyYW1ld29ya09uQ2xpY2siLCJtdmNGcmFtZXdvcmtPbkNsaWNrIiwia2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsiLCJwYXRobmFtZSIsInNldERldkZyYW1ld29ya0NoZWNrYm94IiwiaGFzaCIsInNldENvcnJlY3RGcmFtZXdvcmsiLCJjdXJyZW50TW9kZWxFbGVtZW50IiwiZSIsImNoZWNrVXJsUGFyYW1ldGVycyIsInVybFBhcmFtcyIsImRldk1vZGVsUGFyYW1ldGVyIiwiYWx0UGFnZUlkZW50aWZpZXIiLCJjc3MiLCJIRUxQU0VSVklDRV9MSU5LTUFQUEVSX0VORFBPSU5UIiwicHJvcCIsImFsdE1vZGVsSG9tZUxpbmsiLCJhbHRNb2RlbFRleHQiLCJzaG93RGV2RnJhbWV3b3JrU3dpdGNoZXIiLCJjdXJyZW50TW9kZWxUZXh0Iiwic2V0SG92ZXJUaXRsZXMiLCJzZXREZXZGcmFtZXdvcmtTd2l0Y2hlciIsImluaXRTaWRlYmFyIiwicHJldmVudERlZmF1bHQiLCIkc2Nyb2xsYWJsZUNvbnRlbnQiLCJrZXlDb2RlIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFyZ3VtZW50cyIsInNlYXJjaFF1ZXJ5IiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2hvd0FsbFJlc3VsdHNDaGVja2JveEVsZW0iLCJVUkxTZWFyY2hQYXJhbXMiLCJxdWVyeVNlbGVjdG9yIiwidXNlRGV2TW9kZWxGaWx0ZXJpbmciLCJzZWFyY2hJbnB1dEVsZW1lbnRpbnB1dCIsInNlbGVjdGVkU2VhcmNoTGlua0VsZW1lbnQiLCJ0b2dnbGVTZWFyY2hTdWdnZXN0aW9ucyIsInNlYXJjaElucHV0Iiwic2VhcmNoRHJvcGRvd24iLCJzZWFyY2hib3hFbGVtZW50Iiwic2V0Q29udGVudFRvcFBhZGRpbmciLCJmaXJzdCIsInNldEZvb3RlcldpZHRoIiwiaGVhZGVySGVpZ2h0IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJjdXJyZW50SXRlbVRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImxlZnRQb3NpdGlvbiIsIm9mZnNldCIsInJpZ2h0UGFkZGluZyIsImZvb3RlcldpZHRoIiwiTWF0aCIsInJvdW5kIiwib3V0ZXJIZWlnaHQiLCJuZXdIZWlnaHQiLCJlbG0iLCJzZXRUaW1lb3V0IiwidmFsIiwiY29kZUNvbnRlbnQiLCJleHBhbmRDb250cm9sVGV4dCIsImNoZWNrZWQiLCJTQ1JPTExfV0VCSEVMUCIsIm5hdmlnYXRlVG9TZWFyY2hQYWdlIiwiZ2V0UGFnZUlkSWZFZGl0aW5nQWxsb3dlZCIsInVuYmluZCIsInNlYXJjaEJ1dHRvbiIsIm5ld1RhYiIsIndpbiIsImlubmVyV2lkdGgiLCJoaWRlRnJvbnRMYXllciIsInZpc2liaWxpdHkiLCJyZXNpemUiLCJkZWNvZGVkQ29va2llIiwiYyIsIndpZHRoIiwibGVmdCIsInZpZXdXaWR0aCIsInJpZ2h0IiwiaW5pdENvb2tpZUxldmVsIiwib25FbGVtZW50SGVpZ2h0Q2hhbmdlIiwiY2FsbGJhY2siLCJsYXN0SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwicnVuIiwiZGF0YUxheWVyIiwiY2xlYXJUaW1lb3V0IiwicHVzaCIsIm9uRWxlbWVudEhlaWdodENoYW5nZVRpbWVyIiwiY29va2llTGV2ZWwiLCJib2R5IiwibmV4dCIsInNlYXJjaGJveEZvY3VzZWQiLCJjcmVhdGVDb29raWUiLCJkb21haW4iLCJkYXRlIiwib3BlbkxpbmsiLCJjb25zZW50V2l0aENvb2tpZVVzYWdlIiwiZm9jdXMiLCJvcGVuIiwiZWFjaCIsInRyaW0iLCJjaGlsZHJlbiIsInNldENvb2tpZUxldmVsIiwibGV2ZWwiLCJzaG93RnJvbnRMYXllciIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJnZXRDb29raWUiLCJjbmFtZSIsImNhIiwiY29va2llIiwic3Vic3RyaW5nIiwibmFtZSIsImNvbnNlbnQiLCJhbmFseXRpY3Nfc3RvcmFnZSIsImNsaWNrZWRJY29uIiwic2VjdXJpdHlfc3RvcmFnZSIsImZ1bmN0aW9uYWxpdHlfc3RvcmFnZSIsInBlcnNvbmFsaXphdGlvbl9zdG9yYWdlIiwiYWRfc3RvcmFnZSIsImNvcHlIZWFkaW5nTGlua0ljb24iLCJoZWFkaW5nRWxlbWVudHMiLCJ2YWx1ZSIsImRheXMiLCJleHBpcmVzIiwiRGF0ZSIsInNldFRpbWUiLCJyZXBsYWNlV2l0aCIsImdldFRpbWUiLCJ0b1VUQ1N0cmluZyIsImZpeEhlYWRpbmdzVXBwZXIiLCJmaXhIZWFkaW5nc0xvd2VyIiwiaG9zdCIsImhpZGVDb29raWVDb25zZW50QmFubmVyIiwiY29va2llRW5hYmxlZCIsImNvcHlIZWFkaW5nTGluayIsImFuY2hvckxpbmsiLCJvcmlnaW4iLCJjYXRjaCIsImNvcHlJY29uTW91c2VPdXQiLCJub3QiLCJhcHBlbmQiLCJpbml0Rm9vdGVyTGlua3MiLCJUSEVNRV9DT05GSUciLCJLRU5USUNPX1FBX0xJTksiLCJLRU5USUNPX1NVUFBPUlRfTElOSyIsImxhc3QiLCJjbG9uZSIsImlkIiwiY2xhc3NOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6IkFBU0EsSUFBSUEsZ0JBQWtCLFNBQXlCQyxHQUUzQyxJQURBLElBQUlDLEVBQWMsQ0FB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LE9BQVUwQyxLQUFLcVEsR0FBRSxXQUFBL1MsT0FBVTBDLEtBQUtzUSxVQUFTLEtBQU9wVSxFQUFFOEQsTUFBTThELE9BQVMsUUFBUyxHQUVwSixFQUdJc0wsaUJBQW1CLFdBQ2lCLElBQWpDbFQsRUFBRSxvQkFBb0I3QixRQUFpRCxJQUFqQzZCLEVBQUUsb0JBQW9CN0IsUUFFM0Q2QixFQUFFLG9CQUFvQmtSLE1BQUssU0FBVWhULEdBQVM4QixFQUFFOEQsTUFBTWdQLFlBQVksVUFBQTFSLE9BQVUwQyxLQUFLcVEsR0FBRSxXQUFBL1MsT0FBVTBDLEtBQUtzUSxVQUFTLEtBQU9wVSxFQUFFOEQsTUFBTThELE9BQVMsUUFBUyxHQUVwSixFQUVBNUYsT0FBT3FTLGlCQUFpQixvQkFBb0IsU0FBQ2pNLEdBQ3pDNkssbUJBQ0FDLGtCQUNGIiwiZmlsZSI6InRoZW1lLmN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PUVYUEVSSU1FTlRBTD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBhZ2UgVGlueUlEIEdlbmVyYXRvciAtIHByb2dyYW1tYXRpY2FsbHkgZ2VuZXJhdGVzIHBhZ2UgaWRlbnRpZmllcnNcclxuLy8gQ3VycmVudGx5IG9ubHkgdXNlZCB3aGVuIHJldHJpZXZpbmcgcGFnZSBIZWxwU2VydmljZSBpZGVudGlmaWVycyB2aWEgJ0dldCBIZWxwU2VydmljZSBJRCdcclxuLy8gQWNjZXNzaWJsZSBmcm9tIENPTkZJRy5DT05GTFVFTkNFX1BBR0VfVElOWUlEXHJcbi8vIGh0dHBzOi8vY29uZmx1ZW5jZS5hdGxhc3NpYW4uY29tL2NvbmZrYi9ob3ctdG8tcHJvZ3JhbW1hdGljYWxseS1nZW5lcmF0ZS10aGUtdGlueS1saW5rLW9mLWEtY29uZmx1ZW5jZS1wYWdlLTk1NjcxMzQzMi5odG1sXHJcbi8vIFRoZSBsb25nIHRvIGJ5dGUgYXJyYXkgY29udmVyc2lvbiBpcyB0YWtlbiBmcm9tIHRoaXMgc291cmNlOlxyXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NDgyMzA5L2NvbnZlcnRpbmctamF2YXNjcmlwdC1pbnRlZ2VyLXRvLWJ5dGUtYXJyYXktYW5kLWJhY2tcclxuXHJcbi8vIENvbnZlcnRzIHRoZSBwYWdlIGlkIHRvIGEgYnl0ZSBhcnJheSBmb3IgZnVydGhlciBlbmNvZGluZ1xyXG52YXIgbG9uZ1RvQnl0ZUFycmF5ID0gZnVuY3Rpb24gbG9uZ1RvQnl0ZUFycmF5KGxvbmcpIHtcclxuICAgIHZhciBieXRlQXJyYXkgPSBbMCwgMCwgMCwgMF07XHJcbiAgICBmb3IgKCB2YXIgaW5kZXggPSAwOyBpbmRleCA8IGJ5dGVBcnJheS5sZW5ndGg7IGluZGV4ICsrICkge1xyXG4gICAgICB2YXIgYnl0ZSA9IGxvbmcgJiAweGZmO1xyXG4gICAgICBieXRlQXJyYXkgWyBpbmRleCBdID0gYnl0ZTtcclxuICAgICAgbG9uZyA9IChsb25nIC0gYnl0ZSkgLyAyNTYgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJ5dGVBcnJheTtcclxufTtcclxuXHJcblxyXG4vLyBFbmNvZGVzIHByb3ZpZGVkIHBhZ2UgaWQgaW4gQmFzZS02NFxyXG52YXIgcGFnZUlkVG9CNjQgPSBmdW5jdGlvbiBwYWdlSWRUb0I2NChwYWdlSWQpIHtcclxuICAgIHJldHVybiBidG9hKFxyXG4gICAgICAgIGxvbmdUb0J5dGVBcnJheShwYWdlSWQpXHJcbiAgICAgICAgICAgIC5tYXAoU3RyaW5nLmZyb21DaGFyQ29kZSlcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNbMF07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5qb2luKFwiXCIpXHJcbiAgICAgIClcclxuICAgICAgLnJlcGxhY2UoLz0vZyxcIlwiKTtcclxufTtcclxuXHJcblxyXG4vLyBHZW5lcmF0ZXMgYSBDb25mbHVlbmNlIHBhZ2UgaWRlbnRpZmllciBmcm9tIHRoZSBwcm92aWRlZCBCLTY0IGVuY29kZWQgcGFnZSBpZFxyXG4vLyBUYWtlbiBkaXJlY3RseSBmcm9tIENvbmZsdWVuY2UgU2VydmVyIDcuMiBzb3VyY2UgY29kZVxyXG4vLyBjb20uYXRsYXNzaWFuLmNvbmZsdWVuY2UucGFnZXMuVGlueUlkXHJcbnZhciBnZW5lcmF0ZVRpbnlJZCA9IGZ1bmN0aW9uIGdlbmVyYXRlVGlueUlkKGJ0b2FkSWQpIHtcclxuICAgIHZhciBwYWRkaW5nID0gdHJ1ZTtcclxuICAgIHZhciB0aW55U3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gYnRvYWRJZC5sZW5ndGggLSAxOyBpID49IDAgOyBpLS0pIHtcclxuXHJcbiAgICAgICAgdmFyIGNoYXJhY3RlciA9IGJ0b2FkSWQuY2hhckF0KGkpO1xyXG5cclxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSAnPScgfHwgY2hhcmFjdGVyID09ICdcXG4nKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgaWYgKHBhZGRpbmcgJiYgY2hhcmFjdGVyID09PSAnQScpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBwYWRkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgPT09ICcvJykge1xyXG4gICAgICAgICAgICB0aW55U3RyaW5nID0gJy0nICsgdGlueVN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2hhcmFjdGVyID09PSAnKycpIHtcclxuICAgICAgICAgICAgdGlueVN0cmluZyA9ICdfJyArIHRpbnlTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aW55U3RyaW5nID0gY2hhcmFjdGVyICsgdGlueVN0cmluZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRpbnlTdHJpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBsYXN0Q2hhciA9IHRpbnlTdHJpbmcuY2hhckF0KHRpbnlTdHJpbmcubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgIC8vIENPTkYtOTI5OSBzb21lIGVtYWlsIGNsaWVudHMgZG9uJ3QgbGlrZSBVUkxzIHRoYXQgZW5kIHdpdGggYSBwdW5jdGF0aW9uXHJcbiAgICAgICAgaWYgKGxhc3RDaGFyID09PSAnLScgfHwgbGFzdENoYXIgPT09ICdfJylcclxuICAgICAgICAgICAgdGlueVN0cmluZyArPSAnLyc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRpbnlTdHJpbmc7XHJcbn07XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1FTkQgRVhQRVJJTUVOVEFMPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cclxuLy8gRHluYW1pY2FsbHkgY29tcHV0ZWQgcHJvcGVydGllc1xyXG4vKiogVGhlIENvbmZsdWVuY2UgJ1RpbnlJZCcgb2YgdGhlIGN1cnJlbnQgcGFnZSAqL1xyXG5DT05GSUcuQ09ORkxVRU5DRV9QQUdFX1RJTllJRCA9IGdlbmVyYXRlVGlueUlkKHBhZ2VJZFRvQjY0KENPTkZJRy5DT05GTFVFTkNFX1BBR0VfSUQpKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IHBhZ2UgVXJsIElEIHJldHJpZXZlciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBkaXNwbGF5UGFnZVVybElkID0gZnVuY3Rpb24gZGlzcGxheVBhZ2VVcmxJZChwYWdlSWQpIHtcclxuICAgIC8vIFVzZSBjb21wdXRlZCBUaW55SURcclxuICAgIHZhciB0aW55U3VmZml4ID0gQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQ7XHJcbiAgICBpZiAodGlueVN1ZmZpeCkge1xyXG4gICAgICAgIC8vIHZhciBhcnJheSA9IHRpbnlTdWZmaXguc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogQ09ORklHLkhFTFBTRVJWSUNFX1VSTElEX0VORFBPSU5UICsgdGlueVN1ZmZpeCxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc093blByb3BlcnR5KFwiSWRlbnRpZmllclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcGFnZVVybElkXCIpLnRleHQoXCIgSGVscCBTZXJ2aWNlIElEOiBcIiArIHJlc3BvbnNlLklkZW50aWZpZXIgKyBcIiAoVGlueUlEOiBcIiArIHRpbnlTdWZmaXggKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2VVcmxJZFwiKS50ZXh0KFwiIEhlbHAgU2VydmljZSBJRDogXCIgKyByZXNwb25zZS5FcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDgwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgJChcIiNwYWdlVXJsSWRcIikudGV4dChcIkVycm9yIHdoZW4gZ2VuZXJhdGluZyB0aGUgcGFnZSB0aW55IElELiBTZWUgdGhlIGNvbnNvbGUgZm9yIGRldGFpbHMuXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUFJJU00gV0hJVEVTUEFDRSBOT1JNQUxJWkFUSU9OIENPTkZJRyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblByaXNtLnBsdWdpbnMuTm9ybWFsaXplV2hpdGVzcGFjZS5zZXREZWZhdWx0cyh7XHJcbiAgICAncmVtb3ZlLXRyYWlsaW5nJzogdHJ1ZSxcclxuICAgICdyZW1vdmUtaW5kZW50JzogdHJ1ZSxcclxuICAgICdsZWZ0LXRyaW0nOiB0cnVlLFxyXG4gICAgJ3JpZ2h0LXRyaW0nOiB0cnVlLFxyXG4gICAgLy8gRG9lcyBub3QgcHJlc2VydmUgY29tbWVudCBoaWdobGlnaHQgb24gbmV4dCBsaW5lXHJcbiAgICAvLyAnYnJlYWstbGluZXMnOiA4MCxcclxuICAgICdyZW1vdmUtaW5pdGlhbC1saW5lLWZlZWQnOiBmYWxzZSxcclxuICAgICd0YWJzLXRvLXNwYWNlcyc6IDRcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBERiBFWFBPUlQgID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIHNldEV4cG9ydFBkZiA9IGZ1bmN0aW9uIGV4cG9ydFBkZigpIHtcclxuICAgIHZhciBwYWdlVGl0bGUgPSAkKCdib2R5JykuYXR0cignZGF0YS1wYWdldGl0bGUnKTtcclxuICAgICQoXCIjZXhwb3J0LXBkZlwiKS5hdHRyKCdocmVmJywgYC4uL3BkZi8ke0NPTkZJRy5DT05GTFVFTkNFX1NQQUNFX0tFWS50b0xvd2VyQ2FzZSgpfS8ke3BhZ2VUaXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZyxcIi1cIil9LnBkZmApO1xyXG59O1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoc2V0RXhwb3J0UGRmKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUEFHRSBUSU5ZIExJTktTID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIEdldHMgdGhlIHBhZ2UgdGlueSBsaW5rIFVSTCB1c2luZyBSRVNUIGFuZCBzaG93cyB0aGUgcGFnZSBsaW5rIHBhbmVsXHJcbnZhciBvcGVuUGFnZUxpbmsgPSBmdW5jdGlvbiBvcGVuUGFnZUxpbmsocGFnZUlEKSB7XHJcbiAgICBpZiAoQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQpIHtcclxuICAgICAgICB0b2dnbGVQYWdlTGlua1BhbmVsKENPTkZJRy5CQVNFX1VSTCArICcveC8nICsgQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0b2dnbGVQYWdlTGlua1BhbmVsKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgIH1cclxufTtcclxuXHJcbnZhciB0b2dnbGVQYWdlTGlua1BhbmVsID0gZnVuY3Rpb24gdG9nZ2xlUGFnZUxpbmtQYW5lbCh0aW55VXJsKSB7XHJcbiAgICAkKFwiI3BhZ2UtbGluay10ZXh0Ym94XCIpLmF0dHIoXCJ2YWx1ZVwiLCB0aW55VXJsKTtcclxuICAgIGlmICgkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5oYXNDbGFzcyhcInNob3dcIikpIHtcclxuICAgICAgICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBBdHRlbXB0cyB0byBjb3B5IHRoZSBwYWdlIGxpbmsgdmFsdWUgdG8gdGhlIGNsaXBib2FyZFxyXG52YXIgY29weVBhZ2VMaW5rVG9DbGlwID0gZnVuY3Rpb24gY29weVBhZ2VMaW5rVG9DbGlwKCkge1xyXG5cdGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFNuYWNrYmFyLnNob3coe3RleHQ6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgcGFnZSBsaW5rIHRvIHRoZSBjbGlwYm9hcmRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LXdhcm5pbmcnLCBkdXJhdGlvbjogJzM1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZFQkVCJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoJChcIiNwYWdlLWxpbmstdGV4dGJveFwiKS5hdHRyKFwidmFsdWVcIikpXHJcblx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRTbmFja2Jhci5zaG93KHt0ZXh0OiBcIlBhZ2UgbGluayBjb3BpZWRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LWluZm8nLCBkdXJhdGlvbjogJzI1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRUVGM0ZDJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIFNuYWNrYmFyLnNob3coe3RleHQ6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgcGFnZSBsaW5rIHRvIHRoZSBjbGlwYm9hcmRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LXdhcm5pbmcnLCBkdXJhdGlvbjogJzM1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZFQkVCJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gQ2xvc2VzIHRoZSBwYWdlIGxpbmsgcGFuZWxcclxuY29uc3QgY2xvc2VQYWdlTGluayA9ICgpID0+ICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBIRUFERVIgU1BBQ0UgU1dJVENIRVIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gQ29udmVydHMgdGhlIHZlcnNpb24gbnVtYmVyIHRvIHRoZSBhcHByb3ByaWF0ZSB2ZXJzaW9uIHRleHRcclxuY29uc3QgZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkID0gKGRvY3VtZW50YXRpb25WZXJzaW9uKSA9PlxyXG4gICAgRE9DVU1FTlRBVElPTl9WRVJTSU9OUy5maW5kKChpdGVtKSA9PiBpdGVtLnZlcnNpb25JZCA9PSBkb2N1bWVudGF0aW9uVmVyc2lvbikudmVyc2lvblRleHQ7XHJcblxyXG5cclxuLy8gVHJhbnNsYXRlcyB0aGUgSUQgdXNlZCBieSB0aGUgZG9jdW1lbnRhdGlvbiBoZWxwIHNlcnZpY2UgdG8gS2VudGljbyB2ZXJzaW9uIHRleHRcclxuY29uc3QgZ2V0VmVyc2lvblRleHRGcm9tSGVscFNlcnZpY2VJZCA9IChoZWxwU2VydmljZVZlcnNpb24pID0+XHJcbiAgICBET0NVTUVOVEFUSU9OX1ZFUlNJT05TLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaGVscFNlcnZpY2VWZXJzaW9uID09IGhlbHBTZXJ2aWNlVmVyc2lvbikudmVyc2lvblRleHQ7XHJcblxyXG5cclxudmFyIHZlcnNpb25Td2l0Y2hlckRhdGE7XHJcbi8qKiBBdHRlbXB0cyB0byBsb2FkIHZlcnNpb24gbGluayBkYXRhIGZyb20gdGhlIGtlbnRpY28uY29tIGhlbHAgc2VydmljZVxyXG4gICAgVGhlIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCBvbiBkb2N1bWVudCBsb2FkIGluIGluY2x1ZGUtYm9keWVuZHNjcmlwdHMudm0gLVxyXG4gICAgd2hlcmUgd2UgY2FuIGNvbmRpdGlvbmFsbHkgaW5jbHVkZSBpdCBkdWUgdG8gc2Nyb2xsIHZpZXdwb3J0IGNvbnRleHR1YWwgdmFyaWFibGVzXHJcbiAgICBAcGFyYW0ge3N0cmluZ30gdGlueUlEIC0gdGhlIHNob3J0IGlkZW50aWZpZXIgb2YgdGhlIHRhcmdldCBDb25mbHVlbmNlIHBhZ2UgKi9cclxudmFyIGxvYWRWZXJzaW9uTGlua0RhdGEgPSBmdW5jdGlvbiBsb2FkVmVyc2lvbkxpbmtEYXRhKHRpbnlJRCkge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgdXJsOiBDT05GSUcuSEVMUFNFUlZJQ0VfTElTVEFMVFZFUlNJT05MSU5LU19FTkRQT0lOVCArIHRpbnlJRCxcclxuICAgICAgICB0aW1lb3V0OiAyMDAwLFxyXG4gICAgICAgIHRyeUNvdW50IDogMCxcclxuICAgICAgICByZXRyeUxpbWl0IDogMyxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyBTYXZlIHRoZSB2ZXJzaW9uIHN3aXRjaGVyIGRhdGEgdG8gYSB2YXJpYWJsZS4gVXNlZCBpbiAnaW5zZXJ0VmVyc2lvbkxpbmtzKCknIGNhbGxlZCBmcm9tICdpbmNsdWRlLXNwYWNlLXN3aXRjaGVyLnZtJy5cclxuICAgICAgICAgICAgdmVyc2lvblN3aXRjaGVyRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBBZGRlZCByZXRyeSBsb2dpYyBpbiBjYXNlIHRoZSByZXRyaWV2YWwgZmFpbHMuIEluc3BpcmF0aW9uOlxyXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDI0NDY5L3doYXRzLXRoZS1iZXN0LXdheS10by1yZXRyeS1hbi1hamF4LXJlcXVlc3Qtb24tZmFpbHVyZS11c2luZy1qcXVlcnlcclxuICAgICAgICBlcnJvciA6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICkge1xyXG4gICAgICAgICAgICBpZiAodGV4dFN0YXR1cyA9PSBcInRpbWVvdXRcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cnlDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJ5Q291bnQgPD0gdGhpcy5yZXRyeUxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90cnkgYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxudmFyIHZlcnNpb25MaW5rVXBkYXRlRG9uZSA9IGZhbHNlO1xyXG5cclxuLy8gUmVwbGFjZXMgdGhlIGRlZmF1bHQgc3BhY2Ugcm9vdCB2ZXJzaW9uIGxpbmtzIHdpdGggc3BlY2lmaWMgcGFnZSBsaW5rc1xyXG52YXIgaW5zZXJ0VmVyc2lvbkxpbmtzID0gZnVuY3Rpb24gaW5zZXJ0VmVyc2lvbkxpbmtzKHZlcnNpb25EYXRhKSB7XHJcbiAgICBpZiAodmVyc2lvbkRhdGEgPT09IHVuZGVmaW5lZClcclxuICAgIHtcclxuICAgICAgICBvcGVuQ2xvc2VWZXJzaW9uRGRsKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2ZXJzaW9uTGlua1VwZGF0ZURvbmUpXHJcbiAgICB7XHJcbiAgICAgICAgb3BlbkNsb3NlVmVyc2lvbkRkbCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2ZXJzaW9uRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhSXRlbSkge1xyXG4gICAgdmFyIGxpbmtFbGVtID0gJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYTpjb250YWlucyhcIiArIGdldFZlcnNpb25UZXh0RnJvbUhlbHBTZXJ2aWNlSWQoZGF0YUl0ZW0uVmVyc2lvblVybElkKSArIFwiKVwiKTtcclxuICAgICAgICBpZiAobGlua0VsZW0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsaW5rRWxlbS5hdHRyKFwiaHJlZlwiLCBkYXRhSXRlbS5VcmwpO1xyXG4gICAgICAgICAgICBsaW5rRWxlbS5hZGRDbGFzcyhcIiBwb3B1bGF0ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYVwiKS50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCl7XHJcblx0XHRpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdWxhdGVkXCIpKVxyXG5cdFx0e1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJlbXB0eVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSAxIC0gdGhlIFhwZXJpZW5jZSAxMyBkb2NzIGxpbmsgdG8gYSBzcGVjaWFsIHBhZ2UgaW5zdGVhZCBvZiB0aGUgSG9tZSByb290IGZvciBwYWdlcyB0aGF0IGRvIG5vdCBoYXZlIGEgZGlyZWN0IGVxdWl2YWxlbnRcclxuXHRcdFx0aWYgKGVsZW1lbnQudGV4dENvbnRlbnQgPT09IFwiWHBlcmllbmNlIDEzXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyIGNvbnRhaW5zIHRoZSBsYXN0IFVSTCBzZWdtZW50IChwYWdlIHRpdGxlKS4gUHJvY2Vzc2VkIGJ5IGphdmFzY3JpcHQgaW5jbHVkZWQgZGlyZWN0bHkgb24gdGhlIFwiTWlzc2luZyBkb2N1bWVudGF0aW9uIHBhZ2VzXCIgcGFnZS5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBDT05GSUcuWFBFUklFTkNFMTNfTUlTU0lOR19QQUdFU19VUkwgKyBcIj9yZWY9XCIgKyAkKGxvY2F0aW9uKS5hdHRyKFwiaHJlZlwiKS5zcGxpdCgnLycpLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgXCJUaGUgY3VycmVudCBwYWdlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIFhwZXJpZW5jZSAxMyBkb2N1bWVudGF0aW9uLiBcXHJcXG5Zb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvIGEgZ2VuZXJhbCBndWlkYW5jZSBwYWdlLlwiKTtcdFx0XHRcdFxyXG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgMiAtIHRoZSBYUCBkb2NzIGxpbmsgdG8gYSBzcGVjaWFsIHBhZ2UgaW5zdGVhZCBvZiB0aGUgSG9tZSByb290IGZvciBwYWdlcyB0aGF0IGRvIG5vdCBoYXZlIGEgZGlyZWN0IGVxdWl2YWxlbnRcclxuXHRcdFx0fSBlbHNlIGlmIChlbGVtZW50LnRleHRDb250ZW50ID09PSBcIlhwZXJpZW5jZSBieSBLZW50aWNvXCIpIHtcclxuXHRcdFx0XHQvLyBUaGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciBjb250YWlucyB0aGUgbGFzdCBVUkwgc2VnbWVudCAocGFnZSB0aXRsZSkuIFByb2Nlc3NlZCBieSBqYXZhc2NyaXB0IGluY2x1ZGVkIGRpcmVjdGx5IG9uIHRoZSBcIk1pc3NpbmcgZG9jdW1lbnRhdGlvbiBwYWdlc1wiIHBhZ2UuXHJcblx0XHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIENPTkZJRy5YUF9NSVNTSU5HX1BBR0VTX1VSTCArIFwiP3JlZj1cIiArICQobG9jYXRpb24pLmF0dHIoXCJocmVmXCIpLnNwbGl0KCcvJykucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBcIlRoZSBjdXJyZW50IHBhZ2UgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgWHBlcmllbmNlIGJ5IEtlbnRpY28gZG9jdW1lbnRhdGlvbi4gXFxyXFxuWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byBhIGdlbmVyYWwgZ3VpZGFuY2UgcGFnZS5cIik7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIFwiVGhlIGN1cnJlbnQgcGFnZSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGlzIGRvY3VtZW50YXRpb24gdmVyc2lvbi4gXFxyXFxuWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgaG9tZSBwYWdlIGZvciB0aGlzIHZlcnNpb24uXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2ZXJzaW9uTGlua1VwZGF0ZURvbmUgPSB0cnVlO1xyXG5cclxuICAgIG9wZW5DbG9zZVZlcnNpb25EZGwoKTtcclxufTtcclxuXHJcblxyXG5cclxuLy8gUmVwbGFjZXMgdGhlIGRlZmF1bHQgc3BhY2Ugcm9vdCB2ZXJzaW9uIGxpbmtzIHdpdGggc2VhcmNoIHBhZ2UgbGlua3MsIGluY2x1ZGluZyB0aGUgY3VycmVudCBwYXJhbWV0ZXJzXHJcbnZhciBpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MgPSBmdW5jdGlvbiBpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MoKSB7XHJcbiAgICBpZiAoIXZlcnNpb25MaW5rVXBkYXRlRG9uZSkge1xyXG4gICAgICAgIHZhciB2ZXJzaW9uTGlua0VsZW1zID0gJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYVwiKTtcclxuICAgICAgICB2ZXJzaW9uTGlua0VsZW1zLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBDaGVja3Mgd2hldGhlciB0aGUgbGlua2VkIHZlcnNpb24gc3VwcG9ydHMgdGhlIGRldiBtb2RlbCBzd2l0Y2hlclxyXG4gICAgICAgICAgICAvLyBJZiBpdCBkb2VzIG5vdCwgcmVtb3ZlcyBsYWJlbCBmaWx0ZXJpbmcgb2Ygc2VhcmNoIHJlc3VsdHNcclxuICAgICAgICAgICAgdmFyIGxpbmtFbGVtSHJlZkFycmF5ID0gdGhpcy5ocmVmLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgdmFyIHNwYWNlS2V5ID0gZ2V0RG9jVmVyc2lvbihsaW5rRWxlbUhyZWZBcnJheVtsaW5rRWxlbUhyZWZBcnJheS5sZW5ndGggLSAxXSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGRzIGEgc2xhc2ggc2VwYXJhdG9yIGlmIHRoZSBsaW5rIGRvZXMgbm90IGFscmVhZHkgZW5kIGluIGEgc2xhc2hcclxuICAgICAgICAgICAgdmFyIHNlYXJjaFNsYXNoID0gKCh0aGlzLmhyZWYuc2xpY2UoLTEpICE9PSBcIi9cIikgPyBcIi9cIiA6IFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKENPTkZJRy5DT05GTFVFTkNFX0RFVk1PREVMX1ZFUlNJT05TV0lUQ0hFUl9XSElURUxJU1QuaW5kZXhPZihzcGFjZUtleSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gS2VlcHMgdGhlIGZ1bGwgcXVlcnkgc3RyaW5nIGlmIHRoZSBsaW5rZWQgdmVyc2lvbiBzdXBwb3J0cyB0aGUgZGV2IG1vZGVsIHN3aXRjaGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhyZWYgPSB0aGlzLmhyZWYgKyBzZWFyY2hTbGFzaCArIFwic2VhcmNoXCIgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0cyB0aGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlcnMgdXNlZCBieSB0aGUgY3VycmVudCBzZWFyY2ggcmVzdWx0cyBwYWdlXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoUXVlcnlTdHJpbmdQYXJ0cyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoXCImXCIpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHNlYXJjaFF1ZXJ5U3RyaW5nUGFydHMubGVuZ3RoOyBpLS0gPiAwOykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZXMgdGhlIGxhYmVsIGZpbHRlcmluZyBwYXJhbWV0ZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUXVlcnlTdHJpbmdQYXJ0c1tpXS5pbmRleE9mKFwibD1cIikgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hRdWVyeVN0cmluZ1BhcnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5ocmVmID0gdGhpcy5ocmVmICsgc2VhcmNoU2xhc2ggKyBcInNlYXJjaFwiICsgc2VhcmNoUXVlcnlTdHJpbmdQYXJ0cy5qb2luKFwiJlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZlcnNpb25MaW5rVXBkYXRlRG9uZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkNsb3NlVmVyc2lvbkRkbCgpO1xyXG59O1xyXG5cclxuXHJcbi8vIERpc3BsYXlzL2hpZGVzIHRoZSBkb2N1bWVudGF0aW9uIHR5cGUgc2VsZWN0b3IgZHJvcC1kb3duIGxpc3RcclxudmFyIG9wZW5DbG9zZURvY1R5cGVEZGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGwtZG9jVHlwZVwiKS50b2dnbGVDbGFzcyhcInNob3dcIik7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGxCdG4tZG9jVHlwZVwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxufTtcclxuXHJcbi8vIERpc3BsYXlzL2hpZGVzIHRoZSBkb2N1bWVudGF0aW9uIHZlcnNpb24gc2VsZWN0b3IgZHJvcC1kb3duIGxpc3RcclxudmFyIG9wZW5DbG9zZVZlcnNpb25EZGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGwtdmVyc2lvblwiKS50b2dnbGVDbGFzcyhcInNob3dcIik7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGxCdG4tdmVyc2lvblwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxufTtcclxuXHJcblxyXG4vLyBSZXR1cm5zIHRoZSBkb2N1bWVudGF0aW9uIHR5cGUgZm9yIGEgc3BlY2lmaWVkIHNwYWNlIGtleVxyXG52YXIgZ2V0RG9jVHlwZSA9IGZ1bmN0aW9uIChzcGFjZUtleSkge1xyXG4gICAgdmFyIGFwaUV4YW1wbGVzID0gL2FwaS9pO1xyXG4gICAgdmFyIHR1dG9yaWFsID0gL3R1dG9yaWFsL2k7XHJcbiAgICBpZiAoYXBpRXhhbXBsZXMudGVzdChzcGFjZUtleSkpIHtcclxuICAgICAgICByZXR1cm4gXCJBUEkgRXhhbXBsZXNcIjtcclxuICAgIH1cclxuICAgIGlmICh0dXRvcmlhbC50ZXN0KHNwYWNlS2V5KSkge1xyXG4gICAgICAgIHJldHVybiBcIlR1dG9yaWFsXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJEb2N1bWVudGF0aW9uXCI7XHJcbn07XHJcblxyXG5cclxuLy8gUmV0dXJucyB0aGUgZG9jdW1lbnRhdGlvbiB2ZXJzaW9uIGZvciBhIHNwZWNpZmllZCBzcGFjZSBrZXlcclxudmFyIGdldERvY1ZlcnNpb24gPSBmdW5jdGlvbiAoc3BhY2VLZXkpIHtcclxuXHRzd2l0Y2ggKHNwYWNlS2V5KSB7XHJcblx0XHQvLyBFeGNlcHRpb25zIGZvciBzcGFjZXMgd2l0aG91dCBhIG51bWJlciBpbiB0aGUgc3BhY2Uga2V5IGFuZCBmb3IgXCIxMnNwXCJcclxuXHRcdGNhc2UgXCJLMTJTUFwiOlxyXG5cdFx0Y2FzZSBcIkFQSTEyU1BcIjpcclxuXHRcdGNhc2UgXCJLMTJTUFR1dG9yaWFsXCI6XHJcblx0XHRcdHJldHVybiBcIjEyc3BcIjtcclxuXHRcdGNhc2UgXCJYUFwiOlxyXG5cdFx0Y2FzZSBcIlR1dG9yaWFsXCI6XHJcblx0XHRjYXNlIFwiQXBpXCI6XHJcblx0XHRcdHJldHVybiBcInhwXCI7XHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHQvLyBSZXR1cm5zIHRoZSBudW1iZXIgZnJvbSB0aGUgc3BhY2Uga2V5IGZvciBcInN0YW5kYXJkXCIgY2FzZXNcclxuXHRcdFx0cmV0dXJuIHNwYWNlS2V5LnJlcGxhY2UoL1teMC05XS9nLCAnJyk7XHJcblx0fVx0XHJcbn07XHJcblxyXG5cclxuLy8gQ29udmVydHMgdGhlIHZlcnNpb24gbnVtYmVyIHRvIHRoZSBhcHByb3ByaWF0ZSB0b29sdGlwICh0aXRsZSkgZm9yIHRoZSB2ZXJzaW9uIGxpbmtcclxudmFyIGdldFZlcnNpb25MaW5rVGl0bGUgPSBmdW5jdGlvbiAodmVyc2lvbikge1xyXG4gICAgc3dpdGNoICh2ZXJzaW9uKSB7XHJcbiAgICAgICAgY2FzZSBcIjEyc3BcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiS2VudGljbyAxMiBTZXJ2aWNlIFBhY2tcIjtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkKHZlcnNpb24pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vIEJ1aWxkcyBsaW5rcyB0byB0aGUgZG9jdW1lbnRhdGlvbiBzcGFjZSByb290IGZvciBhIHNwZWNpZmllZCBkb2N1bWVudGF0aW9uIHR5cGUgYW5kIHZlcnNpb25cclxudmFyIGJ1aWxkRG9jTGluayA9IGZ1bmN0aW9uIGJ1aWxkRG9jTGluayh2ZXJzaW9uLCBkb2NUeXBlLCB1c2VEb2NUeXBlSW5MaW5rVGV4dCwgaXNDdXJyZW50KSB7XHJcbiAgICB2YXIgc3BhY2VLZXk7XHJcbiAgICB2YXIgc3BhY2VLZXlTbGFzaCA9IFwiL1wiO1xyXG5cdFxyXG5cdC8vIFBhdHRlcm4gZm9yIFhwZXJpZW5jZSAxMyBvciBuZXdlciBkb2NzXHJcbiAgICBpZiAoQ09ORklHLk9CU09MRVRFX1NQQUNFX0tFWV9GT1JNQVRfVkVSU0lPTlMuaW5kZXhPZih2ZXJzaW9uKSA9PT0gLTEpIHtcclxuXHRcdC8vIFRoZSBYUCBkb2NzIGRvIG5vdCBoYXZlIGEgbnVtYmVyIHByZWZpeCBpbiB0aGVpciBzcGFjZSBrZXlzXHJcblx0XHR2YXIgdmVyc2lvblByZWZpeCA9ICh2ZXJzaW9uID09PSBcInhwXCIpID8gXCJcIiA6IHZlcnNpb247XHJcblx0XHRcclxuICAgICAgICBzd2l0Y2ggKGRvY1R5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcIlR1dG9yaWFsXCI6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IHZlcnNpb25QcmVmaXggKyBcInR1dG9yaWFsXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFQSSBFeGFtcGxlc1wiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uUHJlZml4ICsgXCJhcGlcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uO1xyXG4gICAgICAgIH1cdFx0XHJcblx0XHQvLyBSZW1vdmVzIHRoZSBzcGFjZSBrZXkgZnJvbSB0aGUgbGluayBmb3IgdGhlIHZlcnNpb24gKHVzZXMgdGhlIGJhc2UgVVJMIHdpdGhvdXQgYSBrZXkgaW4gdGhlIHBhdGgpXHJcblx0XHRpZiAoc3BhY2VLZXkgPT09IENPTkZJRy5ET0NfUk9PVF9VUkxfU1BBQ0VfS0VZKSB7XHJcblx0XHRcdHNwYWNlS2V5ID0gXCJcIjtcclxuXHRcdFx0c3BhY2VLZXlTbGFzaCA9IFwiL1wiO1xyXG5cdFx0fVxyXG5cdC8vIFBhdHRlcm4gZm9yIG9sZGVyIHNwYWNlcyB3aXRoIGEgdmVyc2lvbiBudW1iZXIgc3VmZml4IGluIHRoZSBzcGFjZSBrZXlcdFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzd2l0Y2ggKGRvY1R5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcIlR1dG9yaWFsXCI6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IFwia1wiICsgdmVyc2lvbiArIFwidHV0b3JpYWxcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiQVBJIEV4YW1wbGVzXCI6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IFwiYXBpXCIgKyB2ZXJzaW9uO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IFwia1wiICsgdmVyc2lvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZhciBsaW5rVGV4dCA9IHVzZURvY1R5cGVJbkxpbmtUZXh0ID8gZG9jVHlwZSA6IGdldFZlcnNpb25UZXh0RnJvbVZlcnNpb25JZCh2ZXJzaW9uKTtcclxuICAgIHZhciBsaW5rVGl0bGUgPSAnIHRpdGxlPVwiJyArICh1c2VEb2NUeXBlSW5MaW5rVGV4dCA/IGRvY1R5cGUgOiBnZXRWZXJzaW9uTGlua1RpdGxlKHZlcnNpb24pKSArICdcIic7XHJcblxyXG4gICAgdmFyIGNsYXNzQXR0cmlidXRlID0gJ2NsYXNzPVwiJyArIChpc0N1cnJlbnQgPyAnIGN1cnJlbnQnIDogJycpICsgJ1wiJztcclxuXHJcbiAgICByZXR1cm4gJzxsaT48YSBocmVmPVwiJyArIHNwYWNlS2V5U2xhc2ggKyBzcGFjZUtleSArICdcIicgKyBjbGFzc0F0dHJpYnV0ZSArIGxpbmtUaXRsZSArICc+JyArIGxpbmtUZXh0ICsgJzwvYT48L2xpPic7XHJcbn07XHJcblxyXG5cclxudmFyIGxvYWREb2NWZXJzaW9uSGVhZGVyTGlzdCA9IGZ1bmN0aW9uIGxvYWREb2NWZXJzaW9uSGVhZGVyTGlzdChjdXJyZW50RG9jVHlwZSwgY3VycmVudERvY1ZlcnNpb24pIHtcclxuICAgIHZhciB1c2VyTG9nZ2VkSW4gPSAkKCdbbmFtZT1cImNvbmZsdWVuY2UtdXNlci1sb2dnZWQtaW5cIl0nKS5hdHRyKCdjb250ZW50Jyk7XHJcblxyXG4gICAgLy8gRmlsdGVycyBvdXQgdW5hdmFpbGFibGUgYW5kIHVucHVibGlzaGVkIHZlcnNpb25zXHJcbiAgICB2YXIgYXZhaWxhYmxlRG9jVmVyc2lvbnMgPSBET0NVTUVOVEFUSU9OX1ZFUlNJT05TLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gQVBJIGV4YW1wbGVzIGZvciA4LjIgb3Igb2xkZXJcclxuICAgICAgICByZXR1cm4gKChjdXJyZW50RG9jVHlwZSAhPT0gXCJBUEkgRXhhbXBsZXNcIikgfHwgKGl0ZW0udmVyc2lvbklkICE9PSBcIjhcIiAmJiBpdGVtLnZlcnNpb25JZCAhPT0gXCI4MVwiICYmIGl0ZW0udmVyc2lvbklkICE9PSBcIjgyXCIpKSAmJlxyXG4gICAgICAgICAgICAgICAgLy8gSGlkZXMgdGhlIGRldmVsb3BtZW50IHZlcnNpb24gZm9yIHB1YmxpYyB1c2Vyc1xyXG4gICAgICAgICAgICAgICAoKHVzZXJMb2dnZWRJbiA9PT0gXCJ0cnVlXCIpIHx8IChpdGVtLnZlcnNpb25JZCAhPT0gQ09ORklHLkRFVl9ET0NVTUVOVEFUSU9OX1ZFUlNJT05fSUQpKSAmJlxyXG4gICAgICAgICAgICAgICAgLy8gSGlkZXMgdmVyc2lvbiAxMiwgd2hpY2ggaXMgcmVkaXJlY3RlZCB0byAxMlNQXHJcbiAgICAgICAgICAgICAgIChpdGVtLnZlcnNpb25JZCAhPT0gXCIxMlwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBkb2NWZXJzaW9uTGlua3MgPSBcIlwiO1xyXG5cclxuICAgIGF2YWlsYWJsZURvY1ZlcnNpb25zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAvLyBIaWRlcyBvbGRlciBkb2N1bWVudGF0aW9uIHZlcnNpb25zIGJlaGluZCB0aGUgJ0FsbCB2ZXJzaW9ucycgZXhwYW5kYWJsZVxyXG4gICAgICAgIGlmIChpdGVtLnZlcnNpb25JZCA9PSBDT05GSUcuTkVXRVNUX1VOU1VQUE9SVEVEX1ZFUlNJT05fSUQpIHtcclxuICAgICAgICAgICAgZG9jVmVyc2lvbkxpbmtzICs9ICc8bGkgY2xhc3M9XCJqcy11bnN1cHBvcnRlZC12ZXJzaW9uc1wiPicgK1xyXG4gICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJoZWFkZXItZGRsLWJ1dHRvbi1uZXN0ZWQganMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtYnV0dG9uXCI+JyArXHJcbiAgICAgICAgICAgICAgICAnQWxsIHZlcnNpb25zJyArXHJcbiAgICAgICAgICAgICAgICAnPC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICAgICAnPHVsIGNsYXNzPVwibWVudS1kZGwtY29udGVudCBuZXN0ZWQtbGlzdCBkb2NWZXJzaW9uIGpzLXVuc3VwcG9ydGVkLXZlcnNpb25zLWxpc3RcIj4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jVmVyc2lvbkxpbmtzICs9IGJ1aWxkRG9jTGluayhpdGVtLnZlcnNpb25JZCwgY3VycmVudERvY1R5cGUsIGZhbHNlLCBpdGVtLnZlcnNpb25JZCA9PSBjdXJyZW50RG9jVmVyc2lvbik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2NWZXJzaW9uTGlua3MgKz0gJzwvdWw+PC9saT4nO1xyXG5cclxuICAgICQoJy5qcy1tZW51RGRsQnRuLXZlcnNpb24nKS5odG1sKGdldFZlcnNpb25UZXh0RnJvbVZlcnNpb25JZChjdXJyZW50RG9jVmVyc2lvbikpO1xyXG4gICAgJCgnLmpzLW1lbnVEZGwtdmVyc2lvbicpLmh0bWwoZG9jVmVyc2lvbkxpbmtzKTtcclxufTtcclxuXHJcblxyXG4vLyBSZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgdW5zdXBwb3J0ZWQgdmVyc2lvbnMgbGlzdFxyXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCBcIi5qcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1idXR0b25cIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmpzLXVuc3VwcG9ydGVkLXZlcnNpb25zLWxpc3QnKS50b2dnbGVDbGFzcygnc2hvdycpO1xyXG4gICAgJCgnLmpzLXVuc3VwcG9ydGVkLXZlcnNpb25zLWxpc3QnKS50b2dnbGVDbGFzcygnb3BlbmVkJyk7XHJcbn0pO1xyXG5cclxuXHJcbnZhciBsb2FkRG9jVHlwZUhlYWRlckxpc3QgPSBmdW5jdGlvbiBsb2FkRG9jVHlwZUhlYWRlckxpc3QoY3VycmVudERvY1ZlcnNpb24sIGN1cnJlbnREb2NUeXBlKSB7XHJcbiAgICB2YXIgYXZhaWxhYmxlRG9jVHlwZXMgPSBbXCJEb2N1bWVudGF0aW9uXCIsIFwiVHV0b3JpYWxcIiwgXCJBUEkgRXhhbXBsZXNcIl07XHJcbiAgICAvLyBGaWx0ZXJzIG91dCB0aGUgQVBJIEV4YW1wbGVzIGRvY3VtZW50YXRpb24gdHlwZSBpZiB0aGUgY3VycmVudCB2ZXJzaW9uIGlzIDguMiBvciBvbGRlclxyXG4gICAgYXZhaWxhYmxlRG9jVHlwZXMgPSBhdmFpbGFibGVEb2NUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICByZXR1cm4gKGN1cnJlbnREb2NWZXJzaW9uICE9PSBcIjhcIiAmJiBjdXJyZW50RG9jVmVyc2lvbiAhPT0gXCI4MVwiICYmIGN1cnJlbnREb2NWZXJzaW9uICE9PSBcIjgyXCIpIHx8IChpdGVtICE9PSBcIkFQSSBFeGFtcGxlc1wiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBkb2NUeXBlTGlua3MgPSBcIlwiO1xyXG4gICAgYXZhaWxhYmxlRG9jVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIGRvY1R5cGVMaW5rcyArPSBidWlsZERvY0xpbmtTcGVjaWFsKGN1cnJlbnREb2NWZXJzaW9uLCBpdGVtLCB0cnVlLCBpdGVtID09IGN1cnJlbnREb2NUeXBlKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5qcy1tZW51RGRsQnRuLWRvY1R5cGUnKS5odG1sKGN1cnJlbnREb2NUeXBlKTtcclxuICAgICQoJy5qcy1tZW51RGRsLWRvY1R5cGUnKS5odG1sKGRvY1R5cGVMaW5rcyk7XHJcbn07XHJcblxyXG4vLyBCdWlsZHMgbGlua3MgdG8gdGhlIGRvY3VtZW50YXRpb24gc3BhY2Ugcm9vdCBmb3IgYSBzcGVjaWZpZWQgZG9jdW1lbnRhdGlvbiB0eXBlIGFuZCB2ZXJzaW9uXHJcbnZhciBidWlsZERvY0xpbmtTcGVjaWFsID0gZnVuY3Rpb24gYnVpbGREb2NMaW5rU3BlY2lhbCh2ZXJzaW9uLCBkb2NUeXBlLCB1c2VEb2NUeXBlSW5MaW5rVGV4dCwgaXNDdXJyZW50KSB7XHJcbiAgICB2YXIgc3BhY2VLZXk7XHJcbiAgICB2YXIgc3BhY2VLZXlTbGFzaCA9IFwiLi4vXCI7XHJcblx0XHJcblx0Ly8gUGF0dGVybiBmb3IgWHBlcmllbmNlIDEzIG9yIG5ld2VyIGRvY3NcclxuICAgIGlmIChDT05GSUcuT0JTT0xFVEVfU1BBQ0VfS0VZX0ZPUk1BVF9WRVJTSU9OUy5pbmRleE9mKHZlcnNpb24pID09PSAtMSkge1xyXG5cdFx0Ly8gVGhlIFhQIGRvY3MgZG8gbm90IGhhdmUgYSBudW1iZXIgcHJlZml4IGluIHRoZWlyIHNwYWNlIGtleXNcclxuXHRcdHZhciB2ZXJzaW9uUHJlZml4ID0gKHZlcnNpb24gPT09IFwieHBcIikgPyBcIlwiIDogdmVyc2lvbjtcclxuXHRcdFxyXG4gICAgICAgIHN3aXRjaCAoZG9jVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiVHV0b3JpYWxcIjpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gdmVyc2lvblByZWZpeCArIFwidHV0b3JpYWxcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiQVBJIEV4YW1wbGVzXCI6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IHZlcnNpb25QcmVmaXggKyBcImFwaVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IHZlcnNpb247XHJcbiAgICAgICAgfVx0XHRcclxuXHRcdC8vIFJlbW92ZXMgdGhlIHNwYWNlIGtleSBmcm9tIHRoZSBsaW5rIGZvciB0aGUgdmVyc2lvbiAodXNlcyB0aGUgYmFzZSBVUkwgd2l0aG91dCBhIGtleSBpbiB0aGUgcGF0aClcclxuXHRcdGlmIChzcGFjZUtleSA9PT0gQ09ORklHLkRPQ19ST09UX1VSTF9TUEFDRV9LRVkpIHtcclxuXHRcdFx0c3BhY2VLZXkgPSBcIlwiO1xyXG5cdFx0XHRzcGFjZUtleVNsYXNoID0gXCIuLi9cIjtcclxuXHRcdH1cclxuXHQvLyBQYXR0ZXJuIGZvciBvbGRlciBzcGFjZXMgd2l0aCBhIHZlcnNpb24gbnVtYmVyIHN1ZmZpeCBpbiB0aGUgc3BhY2Uga2V5XHRcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3dpdGNoIChkb2NUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJUdXRvcmlhbFwiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSBcImtcIiArIHZlcnNpb24gKyBcInR1dG9yaWFsXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFQSSBFeGFtcGxlc1wiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSBcImFwaVwiICsgdmVyc2lvbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSBcImtcIiArIHZlcnNpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB2YXIgbGlua1RleHQgPSB1c2VEb2NUeXBlSW5MaW5rVGV4dCA/IGRvY1R5cGUgOiBnZXRWZXJzaW9uVGV4dEZyb21WZXJzaW9uSWQodmVyc2lvbik7XHJcbiAgICB2YXIgbGlua1RpdGxlID0gJyB0aXRsZT1cIicgKyAodXNlRG9jVHlwZUluTGlua1RleHQgPyBkb2NUeXBlIDogZ2V0VmVyc2lvbkxpbmtUaXRsZSh2ZXJzaW9uKSkgKyAnXCInO1xyXG5cclxuICAgIHZhciBjbGFzc0F0dHJpYnV0ZSA9ICdjbGFzcz1cIicgKyAoaXNDdXJyZW50ID8gJyBjdXJyZW50JyA6ICcnKSArICdcIic7XHJcblxyXG4gICAgcmV0dXJuICc8bGk+PGEgaHJlZj1cIicgKyBzcGFjZUtleVNsYXNoICsgc3BhY2VLZXkgKyAnXCInICsgY2xhc3NBdHRyaWJ1dGUgKyBsaW5rVGl0bGUgKyAnPicgKyBsaW5rVGV4dCArICc8L2E+PC9saT4nO1xyXG59O1xyXG5cclxuLy8gQWRkcyB0aGUgb3B0aW9ucyB0byB0aGUgZG9jdW1lbnRhdGlvbiB0eXBlIGFuZCB2ZXJzaW9uIGRyb3AtZG93biBsaXN0c1xyXG52YXIgbG9hZEhlYWRlckxpc3RzID0gZnVuY3Rpb24gbG9hZEhlYWRlckxpc3RzKCkge1xyXG4gICAgdmFyIGN1cnJlbnREb2NWZXJzaW9uID0gZ2V0RG9jVmVyc2lvbihDT05GSUcuQ09ORkxVRU5DRV9TUEFDRV9LRVkpO1xyXG4gICAgdmFyIGN1cnJlbnREb2NUeXBlID0gZ2V0RG9jVHlwZShDT05GSUcuQ09ORkxVRU5DRV9TUEFDRV9LRVkpO1xyXG5cclxuICAgIGxvYWREb2NUeXBlSGVhZGVyTGlzdChjdXJyZW50RG9jVmVyc2lvbiwgY3VycmVudERvY1R5cGUpO1xyXG4gICAgbG9hZERvY1ZlcnNpb25IZWFkZXJMaXN0KGN1cnJlbnREb2NUeXBlLCBjdXJyZW50RG9jVmVyc2lvbik7XHJcbn07XHJcblxyXG52YXIgcmVnaXN0ZXJQYWdlVHJlZUV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uICgpXHJcbntcclxuICAgIFxyXG4gICAgJCgndWwuaHQtcGFnZXMtbmF2LXRvcCcpLm9uKCdjbGljaycsICcuc3AtdG9nZ2xlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGxpID0gJCh0aGlzKS5wYXJlbnQoJ2xpJyk7XHJcbiAgICAgICAgaWYgKGxpLmlzKCcuY29sbGFwc2VkJykpIHtcclxuICAgICAgICAgICAgbGkucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGxpLmlzKCcub3BlbicpKSB7XHJcbiAgICAgICAgICAgIGxpLnJlbW92ZUNsYXNzKCdvcGVuJylcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSBjaGlsZHJlbiAtPiBuby1vcFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbiQoZG9jdW1lbnQpLnJlYWR5KHJlZ2lzdGVyUGFnZVRyZWVFdmVudEhhbmRsZXIpO1xyXG5cclxuXHJcbi8vIENsb3NlcyB0aGUgZG9jdW1lbnRhdGlvbiB0eXBlIGFuZCB2ZXJzaW9uIGRyb3AtZG93biBsaXN0cyBpZiB0aGUgY2xpZW50IGNsaWNrcyBlbHNld2hlcmVcclxudmFyIGNsb3NlSGVhZGVyRHJvcERvd25zID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgYnV0dG9uRG9jVHlwZSA9ICQoXCIuanMtbWVudURkbEJ0bi1kb2NUeXBlXCIpO1xyXG4gICAgdmFyIGJ1dHRvblZlcnNpb24gPSAkKFwiLmpzLW1lbnVEZGxCdG4tdmVyc2lvblwiKTtcclxuICAgIHZhciBvbGRlclZlcnNpb25zQnV0dG9uID0gJChcIi5qcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1idXR0b25cIik7XHJcbiAgICB2YXIgb2xkZXJWZXJzaW9uc0xpc3QgPSAkKFwiLmpzLXVuc3VwcG9ydGVkLXZlcnNpb25zLWxpc3RcIik7XHJcbiAgICB2YXIgZGV2TW9kZWxCdXR0b24gPSAkKFwiLmpzLW1lbnVEZGxCdG4tZGV2TW9kZWxcIik7XHJcbiAgICB2YXIgZGV2TW9kZWxMaXN0ID0gJChcIi5qcy1tZW51RGRsLWRldk1vZGVsXCIpO1xyXG5cclxuICAgIGlmIChvbGRlclZlcnNpb25zQnV0dG9uLmlzKGV2ZW50LnRhcmdldCkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghYnV0dG9uRG9jVHlwZS5pcyhldmVudC50YXJnZXQpICYmIChidXR0b25Eb2NUeXBlLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkpIHtcclxuICAgICAgICAkKFwiLmpzLW1lbnVEZGwtZG9jVHlwZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgYnV0dG9uRG9jVHlwZS5yZW1vdmVDbGFzcyhcIm9wZW5lZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWJ1dHRvblZlcnNpb24uaXMoZXZlbnQudGFyZ2V0KSAmJiAoYnV0dG9uVmVyc2lvbi5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgJChcIi5qcy1tZW51RGRsLXZlcnNpb25cIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgIGJ1dHRvblZlcnNpb24ucmVtb3ZlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICAgICAgb2xkZXJWZXJzaW9uc0xpc3QucmVtb3ZlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICAgICAgb2xkZXJWZXJzaW9uc0xpc3QucmVtb3ZlQ2xhc3MoXCJzaG93XCIpOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWRldk1vZGVsQnV0dG9uLmlzKGV2ZW50LnRhcmdldCkgJiYgKGRldk1vZGVsTGlzdC5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgZGV2TW9kZWxMaXN0LnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICBkZXZNb2RlbEJ1dHRvbi5yZW1vdmVDbGFzcyhcIm9wZW5lZFwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShsb2FkSGVhZGVyTGlzdHMpO1xyXG4kKGRvY3VtZW50KS5jbGljayhjbG9zZUhlYWRlckRyb3BEb3ducyk7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09IEhFQURFUiBEZXZNb2RlbCBTd2l0Y2hlciA9PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGlzRGV2TW9kZWxTd2l0Y2hlclN1cHBvcnRlZCA9IGZ1bmN0aW9uIGlzRGV2TW9kZWxTd2l0Y2hlclN1cHBvcnRlZCgpIHtcclxuICAgIHZhciBjdXJyZW50U3BhY2VLZXkgPSBDT05GSUcuQ09ORkxVRU5DRV9TUEFDRV9LRVk7XHJcblxyXG4gICAgLy8gT25seSBzdXBwb3J0ZWQgYnkgd2hpdGVsaXN0ZWQgZG9jdW1lbnRhdGlvbiB2ZXJzaW9ucyAtIENPTkZJRy5DT05GTFVFTkNFX0RFVk1PREVMX1ZFUlNJT05TV0lUQ0hFUl9XSElURUxJU1RcclxuICAgIGlmICghY3VycmVudFNwYWNlS2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJhcGlcIikgJiYgQ09ORklHLkNPTkZMVUVOQ0VfREVWTU9ERUxfVkVSU0lPTlNXSVRDSEVSX1dISVRFTElTVC5pbmRleE9mKGdldERvY1ZlcnNpb24oY3VycmVudFNwYWNlS2V5KSkgPj0gMCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcblxyXG52YXIgZ2V0UGFnZUxhYmVscyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBsYWJlbHMgPSAkKCdbbmFtZT1cImNvbmZsdWVuY2UtcGFnZS1sYWJlbHNcIl0nKS5hdHRyKCdjb250ZW50Jyk7XHJcbiAgICBsYWJlbHMgPSBsYWJlbHMuc2xpY2UoMSwgLTEpO1xyXG4gICAgbGFiZWxzID0gbGFiZWxzLnNwbGl0KFwiLCBcIik7XHJcblxyXG4gICAgcmV0dXJuIGxhYmVscztcclxufTtcclxuXHJcblxyXG52YXIgc2V0RGV2TW9kZWxXZWJTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGlzRGV2TW9kZWxTd2l0Y2hlclN1cHBvcnRlZCgpICYmIHR5cGVvZiAoU3RvcmFnZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICB2YXIgY3VycmVudExhYmVscyA9IGdldFBhZ2VMYWJlbHMoKTtcclxuXHJcbiAgICAgICAgLy8gU2V0cyBNVkMgbW9kZSBmb3IgcGFnZXMgY29udGFpbmluZyB0aGUgJ212YycgbGFiZWxcclxuICAgICAgICBpZiAoY3VycmVudExhYmVscy5pbmRleE9mKFwibXZjXCIpID49IDApIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSA9IFwibXZjXCI7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0cyBQRSBtb2RlIGZvciBwYWdlcyBjb250YWluaW5nIHRoZSAncGUnIGxhYmVsXHJcbiAgICAgICAgaWYgKGN1cnJlbnRMYWJlbHMuaW5kZXhPZihcInBlXCIpID49IDApIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSA9IFwicGVcIjtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tzIGZvciB0aGUgJ2Rldk1vZGVsJyBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyLCB3aGljaCBjYW4gZm9yY2UgdGhlIGRldiBtb2RlbCBmb3IgaHlicmlkIHBhZ2VzXHJcbiAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuICAgICAgICBpZiAocXVlcnlTdHJpbmdQYXJhbXMuaW5kZXhPZihcImRldk1vZGVsPW12Y1wiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgPSBcIm12Y1wiO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChxdWVyeVN0cmluZ1BhcmFtcy5pbmRleE9mKFwiZGV2TW9kZWw9cGVcIikgPj0gMCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlID0gXCJwZVwiO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEZWZhdWx0cyB0byBNVkMgaWYgbm8gd2ViIHN0b3JhZ2UgdmFsdWUgaXMgc2V0XHJcbiAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia2VudGljb0RvY3VtZW50YXRpb25Nb2RlXCIpID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgPSBcIm12Y1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIERvZXMgbm90aGluZyBpZiB3ZWIgc3RvcmFnZSBpcyBkaXNhYmxlZCwgZW5kcG9pbnRzIGF1dG9tYXRpY2FsbHkgZGVmYXVsdCB0byBNVkNcclxufTtcclxuXHJcblxyXG52YXIgZ2V0Q3VycmVudERldk1vZGVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGN1cnJlbnRsYWJlbHMgPSBnZXRQYWdlTGFiZWxzKCk7XHJcblxyXG4gICAgaWYgKGN1cnJlbnRsYWJlbHMuaW5kZXhPZihcIm12Y1wiKSA+PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwibXZjXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRsYWJlbHMuaW5kZXhPZihcInBlXCIpID49IDApIHtcclxuICAgICAgICByZXR1cm4gXCJwZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrcyBmb3IgdGhlICdkZXZNb2RlbCcgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciwgd2hpY2ggY2FuIGZvcmNlIHRoZSBkZXYgbW9kZWwgZm9yIGh5YnJpZCBwYWdlc1xyXG4gICAgdmFyIHF1ZXJ5U3RyaW5nUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuXHJcbiAgICBpZiAocXVlcnlTdHJpbmdQYXJhbXMuaW5kZXhPZihcImRldk1vZGVsPW12Y1wiKSA+PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiYWxsfG12Y1wiO1xyXG4gICAgfVxyXG4gICAgaWYgKHF1ZXJ5U3RyaW5nUGFyYW1zLmluZGV4T2YoXCJkZXZNb2RlbD1wZVwiKSA+PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiYWxsfHBlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2tzIHRoZSBwZXJzaXN0aW5nIGxvY2FsIHN0b3JhZ2UgZm9yIGh5YnJpZCBwYWdlcyAoTVZDICsgUEUpXHJcbiAgICBpZiAodHlwZW9mIChTdG9yYWdlKSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiYWxsfFwiICsgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZWZhdWx0cyB0byBNVkMgaWYgbG9jYWwgc3RvcmFnZSBpcyBlbXB0eSBvciBkaXNhYmxlZFxyXG4gICAgcmV0dXJuIFwiYWxsfG12Y1wiO1xyXG59O1xyXG5cclxuXHJcbi8vIFRyYW5zbGF0ZXMgdGhlIHRyaW1tZWQgc3BhY2Uga2V5IHZlcnNpb24gdG8gdGhlIElEIHVzZWQgYnkgdGhlIGRvY3VtZW50YXRpb24gaGVscCBzZXJ2aWNlXHJcbnZhciB0cmFuc2xhdGVUb0hlbHBTZXJ2aWNlVmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uKSB7XHJcbiAgICByZXR1cm4gRE9DVU1FTlRBVElPTl9WRVJTSU9OUy5maW5kKChpdGVtKSA9PiBpdGVtLnZlcnNpb25JZCA9PSB2ZXJzaW9uKS5oZWxwU2VydmljZVZlcnNpb247XHJcbn07XHJcblxyXG5cclxuLy8gU3dpdGNoZXMgdGhlIGRldiBtb2RlbCBpbiB0aGUgd2ViIHN0b3JhZ2VcclxuLy8gRG9lcyBOT1QgcmVkaXJlY3QgKHRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGJlZm9yZSBhIHJlZGlyZWN0L3JlZnJlc2gvbGluaylcclxudmFyIHN3aXRjaERldk1vZGVsU3RvcmFnZSA9IGZ1bmN0aW9uICh0YXJnZXRNb2RlbCkge1xyXG4gICAgaWYgKHR5cGVvZiAoU3RvcmFnZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlID0gdGFyZ2V0TW9kZWw7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBEaXNwbGF5cy9oaWRlcyB0aGUgZG9jdW1lbnRhdGlvbiB0eXBlIHNlbGVjdG9yIGRyb3AtZG93biBsaXN0XHJcbnZhciBvcGVuQ2xvc2VEZXZNb2RlbERkbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuanMtbWVudURkbC1kZXZNb2RlbFwiKS50b2dnbGVDbGFzcyhcInNob3dcIik7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGxCdG4tZGV2TW9kZWxcIikudG9nZ2xlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbn07XHJcblxyXG52YXIgZGV2TW9kZWxNYXAgPSB7XHJcbiAgICBtdmM6ICdNVkMnLFxyXG4gICAgcGU6ICdQb3J0YWwgRW5naW5lJyxcclxufTtcclxuXHJcblxyXG52YXIgaW5pdEFsdERldk1vZGVsTGluayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIEVuZHMgdGhlIGZ1bmN0aW9uIGZvciBDb25mbHVlbmNlIHNwYWNlcyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBkZXYgbW9kZWwgc3dpdGNoZXJcclxuICAgIGlmICghaXNEZXZNb2RlbFN3aXRjaGVyU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGN1cnJlbnRNb2RlbCA9IGdldEN1cnJlbnREZXZNb2RlbCgpO1xyXG5cclxuICAgIC8vIENoZWNrcyB3aGV0aGVyIHRoZSBwYWdlIGlzIGF2YWlsYWJsZSBmb3IgYWxsIGRldiBtb2RlbHMgYW5kIGFkanVzdHMgdGhlIGN1cnJlbnRNb2RlbCB2YWx1ZSBpZiB0aGF0IGlzIHRoZSBjYXNlXHJcbiAgICB2YXIgYWxsRGV2TW9kZWxQYWdlID0gZmFsc2U7XHJcbiAgICBpZiAoY3VycmVudE1vZGVsLmluZGV4T2YoXCJhbGx8XCIpID09PSAwKSB7XHJcbiAgICAgICAgYWxsRGV2TW9kZWxQYWdlID0gdHJ1ZTtcclxuICAgICAgICBjdXJyZW50TW9kZWwgPSBjdXJyZW50TW9kZWwuc3BsaXQoXCJ8XCIpWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhbHREZXZNb2RlbCA9IChjdXJyZW50TW9kZWwgPT0gXCJtdmNcIikgPyBcInBlXCIgOiBcIm12Y1wiO1xyXG5cclxuICAgIC8vIEdldHMgdGhlIGFjdGl2ZSBkZXYgbW9kZWwgZWxlbWVudCBhbmQgYWRkcyB0aGUgJ2FjdGl2ZScgQ1NTIGNsYXNzXHJcbiAgICAkKFwiLmpzLVwiICsgY3VycmVudE1vZGVsICsgXCItbW9kZWwtbGlua1wiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHJcbiAgICAvLyBHZXRzIHRoZSBub24tYWN0aXZlIGRldiBtb2RlbCBlbGVtZW50XHJcbiAgICB2YXIgYWx0RGV2TW9kZWxFbGVtZW50ID0gJChcIi5qcy1cIiArIGFsdERldk1vZGVsICsgXCItbW9kZWwtbGlua1wiKTtcclxuXHJcbiAgICAvLyBFbmRzIHRoZSBmdW5jdGlvbiBpZiB0aGUgZWxlbWVudCBpcyBub3QgcHJlc2VudCBvbiB0aGUgcGFnZSBeXlxyXG4gICAgaWYgKCFhbHREZXZNb2RlbEVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmpzLW1lbnVEZGxCdG4tZGV2TW9kZWwnKS5odG1sKGRldk1vZGVsTWFwW2N1cnJlbnRNb2RlbF0pO1xyXG5cclxuICAgIC8vIEZvciBcImFsbCBkZXYgbW9kZWxcIiBwYWdlcywgYWRqdXN0cyB0aGUgYWx0ZXJuYXRpdmUgbGluayB0byByZWZyZXNoIHRoZSBzYW1lIHBhZ2UgYW5kIHN3aXRjaGVzIHRoZSBkZXYgbW9kZWxcclxuICAgIGlmIChhbGxEZXZNb2RlbFBhZ2UpIHtcclxuICAgICAgICBhbHREZXZNb2RlbEVsZW1lbnQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaERldk1vZGVsU3RvcmFnZShhbHREZXZNb2RlbCk7XHJcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgcGFnZSByZWxvYWQgaWYgc3dpdGNoaW5nIG9uIHRoZSBzZWFyY2ggcmVzdWx0cyBwYWdlXHJcbiAgICAgICAgICAgIHZhciBwYXRoTmFtZUFycmF5ID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgaWYgKHBhdGhOYW1lQXJyYXlbcGF0aE5hbWVBcnJheS5sZW5ndGggLSAxXSA9PSBcInNlYXJjaFwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW9wZW5zIHRoZSBzZWFyY2ggcmVzdWx0cyBwYWdlIHdpdGggdGhlIHN3aXRjaGVkIGRldiBtb2RlbFxyXG4gICAgICAgICAgICAgICAga2VudGljb1RoZW1lT3BlblNlYXJjaFJlc3VsdHNQYWdlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmVzIHRoZSBmcmFnbWVudCBmcm9tIHRoZSBwYWdlIFVSTCAoaXQgY2FuIG90aGVyd2lzZSBwcmV2ZW50IGEgZnVsbCBwYWdlIHJlbG9hZCBpZiBwcmVzZW50KVxyXG4gICAgICAgICAgICAgICAgdmFyIGRldk1vZGVsUmVsb2FkVXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSh3aW5kb3cubG9jYXRpb24uaGFzaCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICBkZXZNb2RlbFJlbG9hZFVybCA9IGRldk1vZGVsUmVsb2FkVXJsLnJlcGxhY2UoXCIjXCIsIFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZXMgdGhlID9kZXZNb2RlbCBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyIHdoaWNoIHdvdWxkIGludGVyZmVyZSB3aXRoIHRoZSBzd2l0Y2ggb24gYWxsX21vZGVsIHBhZ2VzXHJcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBUaGUgY3VycmVudCBiYXNpYyBpbXBsZW1lbnRhdGlvbiBhbHNvIHJlbW92ZXMgYWxsIHBhcmFtZXRlcnMgYWZ0ZXIgJ2Rldk1vZGVsJ1xyXG4gICAgICAgICAgICAgICAgZGV2TW9kZWxSZWxvYWRVcmwgPSBkZXZNb2RlbFJlbG9hZFVybC5zcGxpdChcIj9kZXZNb2RlbFwiKVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZWxvYWRzIHRoZSBwYWdlXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGRldk1vZGVsUmVsb2FkVXJsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGN1cnJlbnRNb2RlbEVsZW1lbnQub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgb3BlbkNsb3NlRGV2TW9kZWxEZGwoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZvciBwYWdlcyBhdmFpbGFibGUgaW4gYSBzcGVjaWZpYyBkZXYgbW9kZWwsIGF0dGVtcHRzIHRvIGdldCB0aGUgaWRlbnRpZmllciBvZiB0aGUgYWx0ZXJuYXRpdmUgcGFnZVxyXG4gICAgdmFyIGFsdFBhZ2VJZGVudGlmaWVyID0gJChcIiNkZXYtbW9kZWwtYWx0XCIpLmF0dHIoXCJkYXRhLWRldm1vZGVsLWFsdFwiKTtcclxuXHJcbiAgICAvLyBCcmFuY2hlcyBiZWhhdmlvciBkZXBlbmRpbmcgb24gdGhlIGV4aXN0ZW5jZSBvZiBhIHBhZ2UgaW4gdGhlIGFsdGVybmF0aXZlIGRldiBtb2RlbFxyXG4gICAgaWYgKGFsdFBhZ2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnREb2NWZXJzaW9uID0gZ2V0RG9jVmVyc2lvbihDT05GSUcuQ09ORkxVRU5DRV9TUEFDRV9LRVkpO1xyXG4gICAgICAgIHZhciBoZWxwU2VydmljZVZlcnNpb24gPSB0cmFuc2xhdGVUb0hlbHBTZXJ2aWNlVmVyc2lvbihjdXJyZW50RG9jVmVyc2lvbik7XHJcblxyXG4gICAgICAgIHZhciBhbHRQYWdlVXJsID0gQ09ORklHLkhFTFBTRVJWSUNFX0xJTktNQVBQRVJfRU5EUE9JTlQgKyBoZWxwU2VydmljZVZlcnNpb24gKyBcIiZsaW5rPVwiICsgYWx0UGFnZUlkZW50aWZpZXI7XHJcblxyXG4gICAgICAgIC8vIEFkZHMgXCJsaW5rXCIgZnVuY3Rpb25hbGl0eSB3aGVuIHRoZSBhbHRlcm5hdGl2ZSBkZXYgbW9kZWwgZWxlbWVudCBpcyBjbGlja2VkXHJcbiAgICAgICAgYWx0RGV2TW9kZWxFbGVtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBTd2l0Y2hlcyB0aGUgZGV2IG1vZGVsIChmb3IgY2FzZXMgd2hlcmUgdGhlIGFsdGVybmF0aXZlIHRhcmdldCBpcyBhbiBcImFsbCBkZXYgbW9kZWxcIiBwYWdlKVxyXG4gICAgICAgICAgICBzd2l0Y2hEZXZNb2RlbFN0b3JhZ2UoYWx0RGV2TW9kZWwpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGFsdFBhZ2VVcmw7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFZpc3VhbGx5IGRpc2FibGVzIHRoZSBkZXYgbW9kZWwgc3dpdGNoZXJcclxuICAgICAgICAkKFwiLmpzLW1lbnVEZGxCdG4tZGV2TW9kZWxcIikucHJvcChcImRpc2FibGVkXCIsIHRydWUpLnByb3AoXCJ0aXRsZVwiLCBcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gRGlzcGxheXMgYSBtZXNzYWdlIGluZm9ybWluZyB0aGF0IHRoZSBwYWdlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIG90aGVyIGRldiBtb2RlbFxyXG4gICAgICAgIHZhciBjdXJyZW50TW9kZWxUZXh0ID0gKGN1cnJlbnRNb2RlbCA9PSBcIm12Y1wiKSA/IFwiTVZDXCIgOiBcIlBvcnRhbCBFbmdpbmVcIjtcclxuICAgICAgICB2YXIgYWx0TW9kZWxUZXh0ID0gKGFsdERldk1vZGVsID09IFwibXZjXCIpID8gXCJNVkNcIiA6IFwiUG9ydGFsIEVuZ2luZVwiO1xyXG4gICAgICAgIHZhciBhbHRNb2RlbEhvbWVVcmwgPSAkKCcjYWpzLWNvbnRleHQtcGF0aCcpLmF0dHIoJ2NvbnRlbnQnKSArIFwiL1wiICsgQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZLnRvTG93ZXJDYXNlKCkgKyBcIj9kZXZNb2RlbD1cIiArIGFsdERldk1vZGVsO1xyXG4gICAgICAgIHZhciBhbHRNb2RlbEhvbWVMaW5rID0gJzxhIGlkPVwiYWx0LW1vZGVsLWhvbWUtbGlua1wiIGhyZWY9XCInICsgYWx0TW9kZWxIb21lVXJsICsgJ1wiJyArICc+JyArIGFsdE1vZGVsVGV4dCArICcgSG9tZSBwYWdlPC9hPic7XHJcbiAgICAgICAgJChcIi5qcy1kZXYtbW9kZWwtdW5hdmFpbGFibGUtdGV4dFwiKS5odG1sKFwiPHA+VGhpcyBwYWdlIGlzIG9ubHkgYXZhaWxhYmxlIGZvciB0aGUgXCIgKyBjdXJyZW50TW9kZWxUZXh0ICsgXCIgZGV2ZWxvcG1lbnQgbW9kZWwuPGJyIC8+WW91IGNhbiBzd2l0Y2ggdG8gdGhlIFwiICsgYWx0TW9kZWxIb21lTGluayArIFwiLjwvcD5cIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoc2V0RGV2TW9kZWxXZWJTdG9yYWdlKTtcclxuJChkb2N1bWVudCkucmVhZHkoaW5pdEFsdERldk1vZGVsTGluayk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gWDEzIENvcmUvTVZDIGRldiBmcmFtZXdvcmsgc3dpdGNoZXIgPT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgc2V0RGV2RnJhbWV3b3JrQnV0dG9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaC1jb3JlXCIpLmNsaWNrKGZ1bmN0aW9uKCl7IGNvcmVGcmFtZXdvcmtPbkNsaWNrKCk7IH0pO1xyXG4gICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoLW12Y1wiKS5jbGljayhmdW5jdGlvbigpeyBtdmNGcmFtZXdvcmtPbkNsaWNrKCk7IH0pO1xyXG4gICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoLWluZGljYXRvclwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9PT0gXCJjb3JlXCIpIHtcclxuICAgICAgICAgICAgbXZjRnJhbWV3b3JrT25DbGljaygpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29yZUZyYW1ld29ya09uQ2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaC1tdmMsIC5qcy1kZXYtbW9kZWwtc3dpdGNoLWNvcmUgXCIpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHsgXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIC8vIHVzZXIgaGFzIHByZXNzZWQgc3BhY2VcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzMil7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwiY29yZVwiKSB7XHJcbiAgICAgICAgICAgICAgICBtdmNGcmFtZXdvcmtPbkNsaWNrKClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvcmVGcmFtZXdvcmtPbkNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxudmFyIHNldERldkZyYW1ld29ya0NoZWNrYm94ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9PT0gXCJtdmNcIikge1xyXG4gICAgICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaC1tdmNcIikuYXR0cihcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoXCIpLmFkZENsYXNzKFwiaXMtZGV2LW1vZGVsLW12Y1wiKS5yZW1vdmVDbGFzcyhcImlzLWRldi1tb2RlbC1jb3JlXCIpXHJcbiAgICB9IGVsc2UgaWYgKGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9PT0gXCJjb3JlXCIpIHtcclxuICAgICAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtY29yZVwiKS5hdHRyKFwiY2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2hcIikuYWRkQ2xhc3MoXCJpcy1kZXYtbW9kZWwtY29yZVwiKS5yZW1vdmVDbGFzcyhcImlzLWRldi1tb2RlbC1tdmNcIilcclxuICAgIH1cclxufVxyXG5cclxudmFyIHNldENvcnJlY3RGcmFtZXdvcmsgPSBmdW5jdGlvbiAoY2hlY2tVcmxQYXJhbWV0ZXJzID0gZmFsc2UpIHtcclxuICAgIC8vIFNldHMgTVZDIGFzIHRoZSBkZWZhdWx0IGZyYW1ld29yayBpZiBmcmFtZXdvcmsgaXMgbm90IHNldFxyXG4gICAgaWYgKCFsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29ya1wiKSA9PT0gbnVsbCkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9IFwibXZjXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZvcmNlcyBhIGZyYW1ld29yayBmcm9tIHRoZSBVUkwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxyXG4gICAgaWYoY2hlY2tVcmxQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgICAgICBsZXQgZGV2TW9kZWxQYXJhbWV0ZXIgPSB1cmxQYXJhbXMuZ2V0KFwiZGV2bW9kZWxcIik7XHJcbiAgICAgICAgaWYoZGV2TW9kZWxQYXJhbWV0ZXIgPT09IFwibXZjXCIgfHwgZGV2TW9kZWxQYXJhbWV0ZXIgPT09IFwiY29yZVwiKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9IGRldk1vZGVsUGFyYW1ldGVyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU2V0cyB0aGUgdmlzaWJpbGl0eSBvZiBjb25kaXRpb25hbCBjb250ZW50IGJsb2Nrc1xyXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9PT0gXCJtdmNcIikge1xyXG4gICAgICAgICQoXCIuZGV2LW1vZGVsLWNvcmVcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgJChcIi5kZXYtbW9kZWwtbXZjXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgIH1cclxuICAgIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwiY29yZVwiKSB7XHJcbiAgICAgICAgJChcIi5kZXYtbW9kZWwtbXZjXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIuZGV2LW1vZGVsLWNvcmVcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXREZXZGcmFtZXdvcmtDaGVja2JveCgpO1xyXG59XHJcblxyXG52YXIgc2V0SG92ZXJUaXRsZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgdGV4dD1cIlN3aXRjaCB0aGUgZGlzcGxheWVkIGRldmVsb3BtZW50IG1vZGVsIGluIHRoZSBzd2l0Y2hlciB1bmRlciB0aGUgcGFnZSBoZWFkaW5nXCI7XHJcbiAgICAkKFwiLmRldi1tb2RlbC1jb3JlIC5jb2RlQ29udGVudFwiKS5hdHRyKFwidGl0bGVcIiwgdGV4dCk7XHJcbiAgICAkKFwiLmRldi1tb2RlbC1tdmMgLmNvZGVDb250ZW50XCIpLmF0dHIoXCJ0aXRsZVwiLCB0ZXh0KTtcclxufVxyXG5cclxudmFyIGNvcmVGcmFtZXdvcmtPbkNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID0gXCJjb3JlXCI7XHJcbiAgICBzZXRDb3JyZWN0RnJhbWV3b3JrKCk7XHJcbn1cclxuXHJcbnZhciBtdmNGcmFtZXdvcmtPbkNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID0gXCJtdmNcIjtcclxuICAgIHNldENvcnJlY3RGcmFtZXdvcmsoKTtcclxufVxyXG5cclxudmFyIHNob3dEZXZGcmFtZXdvcmtTd2l0Y2hlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaFwiKS5yZW1vdmVDbGFzcyhcImlzLWhpZGRlblwiKTtcclxufVxyXG5cclxudmFyIHNldERldkZyYW1ld29ya1N3aXRjaGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gQ2hlY2tzIHRoYXQgY29uZGl0aW9uYWwgY29udGVudCBpcyBwcmVzZW50IG9uIHRoZSBjdXJyZW50IHBhZ2VcclxuICAgIGlmKCgkKFwiLmRldi1tb2RlbC1jb3JlXCIpLmxlbmd0aCArICQoXCIuZGV2LW1vZGVsLW12Y1wiKS5sZW5ndGgpID4gMCkge1xyXG4gICAgICAgIHNldENvcnJlY3RGcmFtZXdvcmsodHJ1ZSk7XHJcbiAgICAgICAgc2V0RGV2RnJhbWV3b3JrQnV0dG9ucygpO1xyXG4gICAgICAgIHNldERldkZyYW1ld29ya0NoZWNrYm94KCk7XHJcbiAgICAgICAgc2hvd0RldkZyYW1ld29ya1N3aXRjaGVyKCk7XHJcbiAgICAgICAgc2V0SG92ZXJUaXRsZXMoKTtcclxuICAgIH1cclxufVxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoc2V0RGV2RnJhbWV3b3JrU3dpdGNoZXIpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBTQ1JPTExJTkcgQURKVVNUTUVOVFMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGluaXRTaWRlYmFyID0gZnVuY3Rpb24gaW5pdFNpZGViYXIoKSB7XHJcbiAgICAvLyBTaWRlYmFyIHBhZ2UgbGlua3MgYXJlIHJlbmRlcmVkXHJcbiAgICBpZiAoJCgnLmh0LW5hdi1wYWdlLWxpbmsnKS5maXJzdCgpICE9PSBudWxsKSB7XHJcbiAgICAgICAgLy8gQ3VycmVudCBwYWdlIGxpbmsgZXhpc3RzXHJcbiAgICAgICAgLy8gRG9lcyBub3Qgb2NjdXIgb24gaG9tZXBhZ2VzXHJcbiAgICAgICAgaWYgKCQoJy5odC1uYXYtcGFnZS1saW5rLmN1cnJlbnQnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyICRzY3JvbGxhYmxlQ29udGVudCA9ICQoXCJkaXYuaHQtc2lkZWJhci1jb250ZW50XCIpO1xyXG4gICAgICAgICAgICB2YXIgaGVhZGVySGVpZ2h0ID0gJCgnI2h0LWhlYWRlcmJhcicpLm91dGVySGVpZ2h0KHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEl0ZW1Ub3AgPSAkKCcuaHQtbmF2LXBhZ2UtbGluay5jdXJyZW50JylbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG5cclxuICAgICAgICAgICAgaWYgKCQoJ2Rpdi5odC1zaWRlYmFyLWNvbnRlbnQnKVswXS5zY3JvbGxUb3AgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICRzY3JvbGxhYmxlQ29udGVudC5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IE1hdGgucm91bmQoY3VycmVudEl0ZW1Ub3AgLSBoZWFkZXJIZWlnaHQgLSAkc2Nyb2xsYWJsZUNvbnRlbnQub3V0ZXJIZWlnaHQoKSAvIDIuNSlcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBPbmNlIHNjcm9sbGVkLCBhZGQgQ1NTIGFuaW1hdGlvbiBjbGFzc1xyXG4gICAgICAgICAgICAkKCcjaHQtc2lkZWJhcicpLmFkZENsYXNzKCdhbmltYXRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShpbml0U2lkZWJhcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShpbml0U2lkZWJhcik7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDVVNUT00gU0VBUkNIIElNUExFTUVOVEFUSU9OID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIFByZXBhcmVzIGEgc2VhcmNoIHJlcXVlc3QgYW5kIHJlZGlyZWN0cyB0byB0aGUgZnVsbCBzZWFyY2ggcmVzdWx0cyBwYWdlXHJcbnZhciBrZW50aWNvVGhlbWVPcGVuU2VhcmNoUmVzdWx0c1BhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VhcmNoUXVlcnkgPSAkKCcuc2VhcmNoLWlucHV0JykudmFsKCk7XHJcblxyXG4gICAgLy8gRXNjYXBlcyBmb3JiaWRkZW4gY2hhcmFjdGVyc1xyXG4gICAgc2VhcmNoUXVlcnkgPSBlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoUXVlcnkpO1xyXG5cclxuICAgIC8vIFNldHMgdGhlIG1heCBudW1iZXIgb2Ygc2VhcmNoIHJlc3VsdHMgcGVyIHBhZ2UgdG8gMTBcclxuICAgIHNlYXJjaFF1ZXJ5ID0gc2VhcmNoUXVlcnk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIGxhYmVsIGZpbHRlcmluZyBiYXNlZCBvbiB0aGUgY3VycmVudCBkZXYgbW9kZWwgaXMgYWxsb3dlZFxyXG4gICAgLy8gVHJ1ZSBieSBkZWZhdWx0LCBmYWxzZSBpZiB0aGUgJ1Nob3cgcmVzdWx0cyBmb3IgYWxsIGRldiBtb2RlbHMnIGNoZWNrYm94IGV4aXN0cyAob24gdGhlIHNlYXJjaCByZXN1bHRzIHBhZ2UpIGFuZCBpcyBzZWxlY3RlZFxyXG4gICAgdmFyIHNob3dBbGxSZXN1bHRzQ2hlY2tib3hFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGVjay1zaG93LWFsbC1zZWFyY2gtcmVzdWx0c1wiKTtcclxuICAgIHZhciB1c2VEZXZNb2RlbEZpbHRlcmluZyA9ICEoc2hvd0FsbFJlc3VsdHNDaGVja2JveEVsZW0gJiYgc2hvd0FsbFJlc3VsdHNDaGVja2JveEVsZW0uY2hlY2tlZCk7XHJcblxyXG4gICAgLy8gQ2FsbHMgdGhlIFZpZXdQb3J0IHNlYXJjaCByZXN1bHRzIG5hdmlnYXRpb24gZnVuY3Rpb25cclxuICAgIGlmICh3aW5kb3cuU0NST0xMX1dFQkhFTFAgJiYgd2luZG93LlNDUk9MTF9XRUJIRUxQLnNlYXJjaCkge1xyXG4gICAgICAgIHdpbmRvdy5TQ1JPTExfV0VCSEVMUC5zZWFyY2gubmF2aWdhdGVUb1NlYXJjaFBhZ2Uoc2VhcmNoUXVlcnksIHVzZURldk1vZGVsRmlsdGVyaW5nKTtcclxuXHJcbiAgICAgICAgLy8gQ2xvc2VzIHRoZSBzZWFyY2ggc3VnZ2VzdGlvbnMgZHJvcC1kb3duXHJcbiAgICAgICAgdmFyIHNlYXJjaElucHV0RWxlbWVudGlucHV0ID0gJCgnI2h0LXNlYXJjaCcpO1xyXG4gICAgICAgIHNlYXJjaElucHV0RWxlbWVudGlucHV0LmZpbmQoJy5odC1zZWFyY2gtZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAgIC8vIFJlbW92ZXMgdGhlIGhvdmVyIGNsYXNzIGZyb20gaXRlbXMgc2VsZWN0ZWQgaW4gdGhlIHNlYXJjaCBkcm9wLWRvd25cclxuICAgICAgICB2YXIgc2VsZWN0ZWRTZWFyY2hMaW5rRWxlbWVudCA9ICQoXCIuaHQtc2VhcmNoLWRyb3Bkb3duIGEuaG92ZXJcIik7XHJcbiAgICAgICAgc2VsZWN0ZWRTZWFyY2hMaW5rRWxlbWVudC5yZW1vdmVDbGFzcyhcImhvdmVyXCIpO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLnVuYmluZCgna2V5ZG93bicpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU0VBUkNIIEJPWCBTVUdHRVNUSU9OUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBUb2dnbGVzIHRoZSBzZWFyY2ggc3VnZ2VzdGlvbiBkcm9wLWRvd24gbGlzdCBvbiBjbGlja1xyXG52YXIgdG9nZ2xlU2VhcmNoU3VnZ2VzdGlvbnMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHZhciBzZWFyY2hJbnB1dCA9ICQoXCJpbnB1dC5zZWFyY2gtaW5wdXRcIik7XHJcbiAgICB2YXIgc2VhcmNoRHJvcGRvd24gPSAkKFwiLmh0LXNlYXJjaC1kcm9wZG93blwiKTtcclxuICAgIHZhciBzZWFyY2hCdXR0b24gPSAkKFwiI3NlYXJjaEJ1dHRvblwiKTtcclxuICAgIHZhciBzZWxlY3RlZFNlYXJjaExpbmtFbGVtZW50ID0gJChcIi5odC1zZWFyY2gtZHJvcGRvd24gYS5ob3ZlclwiKTtcclxuXHJcbiAgICAvLyBSZW1vdmVzIHRoZSBcIm9wZW5cIiBjbGFzcyBpZiB0aGUgdXNlciBjbGlja2VkIG91dHNpZGUgdGhlIHNlYXJjaCBkcm9wLWRvd24gb3IgZm9ybSBpbnB1dFxyXG4gICAgaWYgKCghc2VhcmNoSW5wdXQuaXMoZXZlbnQudGFyZ2V0KSAmJiBzZWFyY2hJbnB1dC5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApICYmXHJcbiAgICAgICAgKCFzZWFyY2hEcm9wZG93bi5pcyhldmVudC50YXJnZXQpICYmIHNlYXJjaERyb3Bkb3duLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMClcclxuICAgICkge1xyXG4gICAgICAgIHNlYXJjaERyb3Bkb3duLnJlbW92ZUNsYXNzKFwib3BlblwiKTtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlcyB0aGUgaG92ZXIgY2xhc3MgZnJvbSBpdGVtcyBzZWxlY3RlZCBpbiB0aGUgc2VhcmNoIGRyb3AtZG93blxyXG4gICAgICAgIHNlbGVjdGVkU2VhcmNoTGlua0VsZW1lbnQucmVtb3ZlQ2xhc3MoXCJob3ZlclwiKTtcclxuXHJcbiAgICAgICAgLy8gQ29sbGFwc2VzIHRoZSBzbWFsbCBzZWFyY2ggYm94IG9uIHNtYWxsZXIgc2NyZWVuc1xyXG4gICAgICAgIGlmICgoIXNlYXJjaEJ1dHRvbi5pcyhldmVudC50YXJnZXQpICYmIHNlYXJjaEJ1dHRvbi5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDgwMCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA+IDQ5OSkge1xyXG4gICAgICAgICAgICBzZWFyY2hJbnB1dC5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKCQoXCIuaHQtc2VhcmNoLWRyb3Bkb3duIGxpLnNlYXJjaC1rZXlcIikubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHNlYXJjaERyb3Bkb3duLmFkZENsYXNzKFwib3BlblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4kKGRvY3VtZW50KS5jbGljayh0b2dnbGVTZWFyY2hTdWdnZXN0aW9ucyk7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBCSUcgU0VBUkNIIEFSRUEgKEhPTUUgKyBTRUFSQ0ggUEFHRVMpID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIEluY3JlYXNlcyB0aGUgdG9wIHBhZGRpbmcgb2YgdGhlIG1haW4gcGFnZSBjb250ZW50IGlmIHRoZSBiaWcgc2VhcmNoIGFyZWEgaXMgcHJlc2VudFxyXG52YXIgc2V0Q29udGVudFRvcFBhZGRpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VhcmNoYm94RWxlbWVudCA9ICQoXCIuc2VhcmNoYm94LWFyZWEtYmVoaW5kXCIpLmZpcnN0KCk7XHJcbiAgICBpZiAoc2VhcmNoYm94RWxlbWVudC5sZW5ndGgpIHtcclxuICAgICAgICAkKFwiLmh0LWNvbnRlbnRcIikuZmlyc3QoKS5jc3MoXCJwYWRkaW5nLXRvcFwiLCBzZWFyY2hib3hFbGVtZW50Lm91dGVySGVpZ2h0KHRydWUpICsgXCJweFwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShzZXRDb250ZW50VG9wUGFkZGluZyk7XHJcbiQod2luZG93KS5yZXNpemUoc2V0Q29udGVudFRvcFBhZGRpbmcpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRk9PVEVSID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIFNldHMgdGhlIGZvb3RlciB3aWR0aCBhbmQgcG9zaXRpb24gYmFzZWQgb24gdGhlIG1haW4gcGFnZSBjb250ZW50IHNlY3Rpb25cclxudmFyIHNldEZvb3RlcldpZHRoID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciB2aWV3V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XHJcbiAgICAvLyB2YXIgZm9vdGVyV2lkdGggPSAkKFwiLmh0LWNvbnRlbnRcIikud2lkdGgoKTtcclxuICAgIHZhciBmb290ZXJXaWR0aCA9ICQoXCIjaHQtd3JhcC1jb250YWluZXJcIikud2lkdGgoKTtcclxuICAgIHZhciBsZWZ0UG9zaXRpb24gPSAkKFwiI2h0LXdyYXAtY29udGFpbmVyXCIpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICB2YXIgcmlnaHRQYWRkaW5nID0gdmlld1dpZHRoIC0gZm9vdGVyV2lkdGggLSBsZWZ0UG9zaXRpb247XHJcblxyXG4gICAgJChcIiNodC1mb290ZXJcIikuY3NzKHtcclxuICAgICAgICBcInJpZ2h0XCI6IC1yaWdodFBhZGRpbmcsXHJcbiAgICAgICAgXCJwYWRkaW5nLXJpZ2h0XCI6IHJpZ2h0UGFkZGluZyxcclxuICAgICAgICBcImxlZnRcIjogLWxlZnRQb3NpdGlvbixcclxuICAgICAgICBcInBhZGRpbmctbGVmdFwiOiBsZWZ0UG9zaXRpb25cclxuICAgIH0pO1xyXG59O1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoc2V0Rm9vdGVyV2lkdGgpO1xyXG4kKHdpbmRvdykucmVzaXplKHNldEZvb3RlcldpZHRoKTtcclxuXHJcbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0OTAxMTUwXHJcbi8vIC8vIENoZWNrcyBlbGVtZW50IGhlaWdodCBjaGFuZ2VcclxuZnVuY3Rpb24gb25FbGVtZW50SGVpZ2h0Q2hhbmdlKGVsbSwgY2FsbGJhY2spIHtcclxuICAgIHZhciBsYXN0SGVpZ2h0ID0gZWxtLmNsaWVudEhlaWdodCwgbmV3SGVpZ2h0O1xyXG4gICAgKGZ1bmN0aW9uIHJ1bigpIHtcclxuICAgICAgICBuZXdIZWlnaHQgPSBlbG0uY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIGlmIChsYXN0SGVpZ2h0ICE9IG5ld0hlaWdodClcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICBsYXN0SGVpZ2h0ID0gbmV3SGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAoZWxtLm9uRWxlbWVudEhlaWdodENoYW5nZVRpbWVyKVxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZWxtLm9uRWxlbWVudEhlaWdodENoYW5nZVRpbWVyKTtcclxuXHJcbiAgICAgICAgZWxtLm9uRWxlbWVudEhlaWdodENoYW5nZVRpbWVyID0gc2V0VGltZW91dChydW4sIDIwMCk7XHJcbiAgICB9KSgpO1xyXG59XHJcblxyXG5vbkVsZW1lbnRIZWlnaHRDaGFuZ2UoZG9jdW1lbnQuYm9keSwgc2V0Rm9vdGVyV2lkdGgpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ09ERSBCTE9DS1MgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBUb2dnbGVzIGNvZGUgYmxvY2sgY29udGVudFxyXG4kKFwic3Bhbi5leHBhbmQtY29udHJvbFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY29kZUNvbnRlbnQgPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoKTtcclxuICAgIHZhciBleHBhbmRDb250cm9sVGV4dCA9ICQodGhpcykuZmluZChcInNwYW4uZXhwYW5kLWNvbnRyb2wtdGV4dFwiKTtcclxuXHJcbiAgICBpZiAoY29kZUNvbnRlbnQuaGFzQ2xhc3MoXCJjb2xsYXBzZVwiKSkge1xyXG4gICAgICAgIGNvZGVDb250ZW50LnJlbW92ZUNsYXNzKFwiY29sbGFwc2VcIik7XHJcbiAgICAgICAgZXhwYW5kQ29udHJvbFRleHQudGV4dChcIkNvbGxhcHNlIHNvdXJjZVwiKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvZGVDb250ZW50LmFkZENsYXNzKFwiY29sbGFwc2VcIik7XHJcbiAgICAgICAgZXhwYW5kQ29udHJvbFRleHQudGV4dChcIkV4cGFuZCBzb3VyY2VcIik7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIHRoZSB1c2VyIGlzIHNpZ25lZC1pbiBhbmQgaXNuJ3QgdHlwaW5nIGluIHRoZSBzZWFyY2ggYm94LlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgQ29uZmx1ZW5jZSBJRCBvZiB0aGUgY3VycmVudCBwYWdlIG9yIDBcclxuICovXHJcbnZhciBnZXRQYWdlSWRJZkVkaXRpbmdBbGxvd2VkID0gZnVuY3Rpb24gZ2V0UGFnZUlkSWZFZGl0aW5nQWxsb3dlZCgpIHtcclxuXHJcbiAgICB2YXIgbGVuZ3RoID0gJChcIiNzcC12aWV3cG9ydC1jb250cm9sLW9wZW5lclwiKS5sZW5ndGg7XHJcbiAgICB2YXIgc2VhcmNoYm94Rm9jdXNlZCA9ICQoXCIuc2VhcmNoLWlucHV0XCIpLmlzKFwiOmZvY3VzXCIpO1xyXG5cclxuICAgIGlmIChsZW5ndGggIT0gMCAmJiAhc2VhcmNoYm94Rm9jdXNlZClcclxuICAgIHtcclxuICAgICAgICB2YXIgcGFnZUlkID0gJChcImJvZHlcIikuYXR0cihcInBhZ2VpZFwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhZ2VJZCA/IHBhZ2VJZCA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIDA7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqICBPcGVucyBhIGxpbmsgaW4gdGhlIHNhbWUvbmV3IHRhYiBiYXNlZCBvbiB0aGUgcGFyYW1ldGVyc1xyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIFVSTCB0byBvcGVuXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbmV3VGFiIC0gU3BlY2lmaWVzIHdoZXRoZXIgdG8gb3BlbiB0aGUgVVJMIGluIGEgbmV3IHRhYlxyXG4gKi9cclxuIGZ1bmN0aW9uIG9wZW5MaW5rKHVybCwgbmV3VGFiKSB7XHJcbiAgICBpZiAobmV3VGFiKSB7XHJcbiAgICAgICAgdmFyIHdpbiA9IHdpbmRvdy5vcGVuKHVybCwgXCJfYmxhbmtcIik7XHJcbiAgICAgICAgd2luLmZvY3VzKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5vcGVuKHVybCwgXCJfc2VsZlwiKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gRU1QVFkgPHA+ID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIEhpZGVzIHBhcmFncmFwaHMgY29udGFpbmluZyBvbmx5IHdoaXRlc3BhY2VcclxuJCgncCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCQodGhpcykudGV4dCgpLnRyaW0oKSA9PSAnJyAmJiAkKHRoaXMpLmNoaWxkcmVuKCkubGVuZ3RoID09IDApIHtcclxuICAgICAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBTSE9XIFNFQVJDSCBUSVBTID09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIHNob3dIaWRlU2VhcmNoVGlwcyA9IGZ1bmN0aW9uIHNob3dIaWRlU2VhcmNoVGlwcygpIHtcclxuICAgIGlmICgkKFwiI3NlYXJjaC10aXBzXCIpLmhhc0NsYXNzKFwic2hvd1wiKSkge1xyXG4gICAgICAgIGhpZGVGcm9udExheWVyKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBzaG93RnJvbnRMYXllcigpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbnZhciBzaG93RnJvbnRMYXllciA9IGZ1bmN0aW9uIHNob3dGcm9udExheWVyKCkge1xyXG4gICAgJChcIiNzZWFyY2gtdGlwc1wiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXRpcHMtbWFzaycpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXRpcHMnKS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG59O1xyXG5cclxuXHJcbnZhciBoaWRlRnJvbnRMYXllciA9IGZ1bmN0aW9uIGhpZGVGcm9udExheWVyKCkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10aXBzLW1hc2snKS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXRpcHMnKS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAkKFwiI3NlYXJjaC10aXBzXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxufTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ29va2llIEJhbm5lciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgZ2V0Q29va2llID0gZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7XHJcbiAgICBsZXQgbmFtZSA9IGNuYW1lICsgXCI9XCI7XHJcbiAgICBsZXQgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpO1xyXG4gICAgbGV0IGNhID0gZGVjb2RlZENvb2tpZS5zcGxpdCgnOycpO1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8Y2EubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IGMgPSBjYVtpXTtcclxuICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykge1xyXG4gICAgICAgIGMgPSBjLnN1YnN0cmluZygxKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHtcclxuICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFwiXCI7XHJcbiAgfVxyXG5cclxuXHJcbnZhciBpbml0Q29va2llTGV2ZWwgPSBmdW5jdGlvbiAoKXtcclxuICAgIHZhciBjb29raWVMZXZlbCA9IDA7XHJcbiAgICBpZiAoZ2V0Q29va2llKCd4cGVyaWVuY2UuY29va2llY29uc2VudGxldmVsJykgIT09IFwiXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY29va2llTGV2ZWwgPSAkLmNvb2tpZSgneHBlcmllbmNlLmNvb2tpZWNvbnNlbnRsZXZlbCcpOyAgICBcclxuICAgICAgICBcclxuICAgICAgICBpZiAoY29va2llTGV2ZWwgPSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XHJcbiAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICAgICAgJ2V2ZW50JzogJ2NvbnNlbnQuZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICdjb25zZW50Jzoge1xyXG4gICAgICAgICAgICAnZnVuY3Rpb25hbGl0eV9zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAncGVyc29uYWxpemF0aW9uX3N0b3JhZ2UnOiAnZGVuaWVkJyxcclxuICAgICAgICAgICAgJ2FuYWx5dGljc19zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdhZF9zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdzZWN1cml0eV9zdG9yYWdlJzogJ2RlbmllZCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb29raWVMZXZlbCA9IDIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcclxuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICdldmVudCc6ICdjb25zZW50LmRlZmF1bHQnLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnNlbnQnOiB7XHJcbiAgICAgICAgICAgICAgICAnZnVuY3Rpb25hbGl0eV9zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAgICAgJ3BlcnNvbmFsaXphdGlvbl9zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAgICAgJ2FuYWx5dGljc19zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICAgICAnYWRfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAgICAgJ3NlY3VyaXR5X3N0b3JhZ2UnOiAnZGVuaWVkJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29va2llTGV2ZWwgPSAzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XHJcbiAgICAgICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAnZXZlbnQnOiAnY29uc2VudC5kZWZhdWx0JyxcclxuICAgICAgICAgICAgICAgICdjb25zZW50Jzoge1xyXG4gICAgICAgICAgICAgICAgJ2Z1bmN0aW9uYWxpdHlfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgICAgICdwZXJzb25hbGl6YXRpb25fc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgICAgICdhbmFseXRpY3Nfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgICAgICdhZF9zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICAgICAnc2VjdXJpdHlfc3RvcmFnZSc6ICdkZW5pZWQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb29raWVMZXZlbCA9IDQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgICAgICAnZXZlbnQnOiAnY29uc2VudC5kZWZhdWx0JyxcclxuICAgICAgICAgICAgJ2NvbnNlbnQnOiB7XHJcbiAgICAgICAgICAgICdmdW5jdGlvbmFsaXR5X3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICdwZXJzb25hbGl6YXRpb25fc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ2FuYWx5dGljc19zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAnYWRfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ3NlY3VyaXR5X3N0b3JhZ2UnOiAnZ3JhbnRlZCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoaW5pdENvb2tpZUxldmVsKTtcclxuXHJcblxyXG52YXIgY3JlYXRlQ29va2llID0gZnVuY3Rpb24gY3JlYXRlQ29va2llKG5hbWUsIHZhbHVlLCBkYXlzLCBkb21haW4pIHtcclxuICAgIGNvbnNvbGUubG9nKGBjcmVhdGluZyBjb29raWUgJHtuYW1lfSAke3ZhbHVlfSAke2RheXN9ICR7ZG9tYWlufWApO1xyXG4gICAgdmFyIGRvbWFpbiA9IFwiOyBkb21haW49XCIgKyBkb21haW47XHJcbiAgICB2YXIgZXhwaXJlcztcclxuXHJcbiAgICBpZiAoZGF5cykge1xyXG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgICAgICBleHBpcmVzID0gXCI7IGV4cGlyZXM9XCIgKyBkYXRlLnRvVVRDU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGV4cGlyZXMgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgdmFsdWUgKyBleHBpcmVzICsgXCI7IHBhdGg9L1wiICsgZG9tYWluO1xyXG59O1xyXG5cclxuXHJcbnZhciBlcmFzZUNvb2tpZSA9IGZ1bmN0aW9uIGVyYXNlQ29va2llKG5hbWUpIHtcclxuICAgIGNyZWF0ZUNvb2tpZShuYW1lLCBcIlwiLCAtMSwgXCJcIik7XHJcbn07XHJcblxyXG5cclxuLy8gU2V0cyB0aGUgc2hhcmVkIGNvb2tpZSBhbmQgaGlkZXMgdGhlIGNvb2tpZSBiYW5uZXJcclxudmFyIGNvbnNlbnRXaXRoQ29va2llVXNhZ2UgPSBmdW5jdGlvbiBjb25zZW50V2l0aENvb2tpZVVzYWdlKCkge1xyXG4gICAgJChcIiNjb29raWUtYmFubmVyXCIpLmF0dHIoXCJzdHlsZVwiLCAnZGlzcGxheTpub25lOycpO1xyXG4gICAgLy8gVXNlIGRvbWFpbiBcIi54cGVyaWVuY2UuaW9cIiB0byBzaGFyZSB0aGUgY29va2llIHdpdGggeHBlcmllbmNlLmlvIGFuZCBhbGwgc3ViZG9tYWluc1xyXG4gICAgY3JlYXRlQ29va2llKFwieHBlcmllbmNlLmNvb2tpZWxldmVsc2VsZWN0aW9uXCIsIHRydWUsIDM2NSwgd2luZG93LmxvY2F0aW9uLmhvc3QpO1xyXG59O1xyXG5cclxuXHJcbnZhciBoaWRlQ29va2llQ29uc2VudEJhbm5lciA9IGZ1bmN0aW9uIGhpZGVDb29raWVDb25zZW50QmFubmVyKCkge1xyXG4gICAgdmFyIGNvb2tpZVZhbHVlID0gZG9jdW1lbnQuY29va2llLnJlcGxhY2UoLyg/Oig/Ol58Lio7XFxzKil4cGVyaWVuY2UuY29va2llbGV2ZWxzZWxlY3Rpb25cXHMqXFw9XFxzKihbXjtdKikuKiQpfF4uKiQvLCBcIiQxXCIpO1xyXG4gICAgaWYgKGNvb2tpZVZhbHVlIHx8ICFuYXZpZ2F0b3IuY29va2llRW5hYmxlZCkge1xyXG4gICAgICAgICQoXCIjY29va2llLWJhbm5lclwiKS5hdHRyKFwic3R5bGVcIiwgJ2Rpc3BsYXk6bm9uZTsnKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIFNldHMgdGhlIHBhc3NlZCBjb29raWUgbGV2ZWwgdG8gdGhlIHNoYXJlZCBjb29raWUgYW5kIHVwZGF0ZXMgdGhlIGNvbnNlbnQgdG8gR0EvR1RNIChjYWxsZWQgZnJvbSB0aGUgY29va2llIGJhbm5lciBhZnRlciBjbGlja2luZyBhIGJ1dHRvbilcclxudmFyIHNldENvb2tpZUxldmVsID0gZnVuY3Rpb24gc2V0Q29va2llTGV2ZWwobGV2ZWwpIHtcclxuICAgIHZhciBsZXZlbCA9IGxldmVsO1xyXG5cclxuICAgIGlmIChsZXZlbCA9PT0gXCJtYXJrZXRpbmdcIikgeyAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkXHJcbiAgICAgICAgbGV2ZWwgPSA0O1xyXG4gICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gXCJhbmFseXRpY2FsXCIpIHtcclxuICAgICAgICBsZXZlbCA9IDM7XHJcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBcInByZWZlcmVuY2VcIikgeyAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkXHJcbiAgICAgICAgbGV2ZWwgPSAyO1xyXG4gICAgfSBlbHNlIHsgLy8gPT09IFwibmVjZXNzYXJ5XCJcclxuICAgICAgICBsZXZlbCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc2VudFdpdGhDb29raWVVc2FnZSgpO1xyXG4gICAgLy8gVXNlIGRvbWFpbiBcIi54cGVyaWVuY2UuaW9cIiB0byBzaGFyZSB0aGUgY29va2llIHdpdGggeHBlcmllbmNlLmlvIGFuZCBhbGwgc3ViZG9tYWluc1xyXG4gICAgY3JlYXRlQ29va2llKFwieHBlcmllbmNlLmNvb2tpZWNvbnNlbnRsZXZlbFwiLCBsZXZlbCwgMzY1LCB3aW5kb3cubG9jYXRpb24uaG9zdCk7XHJcblxyXG4gICAgLy8gU2VuZCAnY29uc2VudC51cGRhdGUnXHJcbiAgICBpZiAobGV2ZWwgPT09IDEpIHtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgICAgICAnZXZlbnQnOiAnY29uc2VudC51cGRhdGUnLFxyXG4gICAgICAgICAgICAnY29uc2VudCc6IHtcclxuICAgICAgICAgICAgJ2Z1bmN0aW9uYWxpdHlfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ3BlcnNvbmFsaXphdGlvbl9zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdhbmFseXRpY3Nfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAnYWRfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAnc2VjdXJpdHlfc3RvcmFnZSc6ICdkZW5pZWQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09IDMpIHtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgICAgICAnZXZlbnQnOiAnY29uc2VudC51cGRhdGUnLFxyXG4gICAgICAgICAgICAnY29uc2VudCc6IHtcclxuICAgICAgICAgICAgJ2Z1bmN0aW9uYWxpdHlfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ3BlcnNvbmFsaXphdGlvbl9zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAnYW5hbHl0aWNzX3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICdhZF9zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdzZWN1cml0eV9zdG9yYWdlJzogJ2RlbmllZCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgaGlkZUNvb2tpZUNvbnNlbnRCYW5uZXIoKTtcclxufSk7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBIZWFkaW5nIGFuY2hvciBsaW5rIGNsaXBib2FyZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgY29weUhlYWRpbmdMaW5rID0gZnVuY3Rpb24gY29weUhlYWRpbmdMaW5rKGUpIHtcclxuXHR2YXIgY2xpY2tlZEljb24gPSAkKGUudGFyZ2V0KTtcclxuXHRcclxuXHQvLyBCdWlsZHMgdGhlIGhlYWRpbmcgYW5jaG9yIGxpbmtcclxuXHR2YXIgYW5jaG9yTGluayA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnIycgKyBjbGlja2VkSWNvbi5wYXJlbnQoKS5hdHRyKCdpZCcpO1xyXG5cdFxyXG5cdGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFNuYWNrYmFyLnNob3coe3RleHQ6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjb3B5aW5nIHRoZSBoZWFkaW5nIGxpbmsgdG8gdGhlIGNsaXBib2FyZCcsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC13YXJuaW5nJywgZHVyYXRpb246ICczNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0ZGRUJFQicsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGFuY2hvckxpbmspXHJcblx0XHRcdC50aGVuKCgpID0+IHtcdFx0XHRcdFxyXG5cdFx0XHRcdFNuYWNrYmFyLnNob3coe3RleHQ6ICdIZWFkaW5nIGxpbmsgY29waWVkJywgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LWluZm8nLCBkdXJhdGlvbjogJzI1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRUVGM0ZDJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuICAgICAgICAgICAgICAgIGNsaWNrZWRJY29uLmFkZENsYXNzKCdjb3BpZWQnKTtcclxuICAgICAgICAgICAgfSlcclxuXHRcdFx0LmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIFNuYWNrYmFyLnNob3coe3RleHQ6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjb3B5aW5nIHRoZSBoZWFkaW5nIGxpbmsgdG8gdGhlIGNsaXBib2FyZCcsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC13YXJuaW5nJywgZHVyYXRpb246ICczNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0ZGRUJFQicsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIFJlc2V0cyB0aGUgY29weSBpY29uIG9uIG1vdXNlb3V0XHJcbnZhciBjb3B5SWNvbk1vdXNlT3V0ID0gZnVuY3Rpb24gY29weUljb25Nb3VzZU91dChlKSB7XHJcblx0dmFyIGNsaWNrZWRJY29uID0gJChlLnRhcmdldCk7XHJcblx0aWYgKGNsaWNrZWRJY29uLmhhc0NsYXNzKCdjb3BpZWQnKSkge1x0XHJcbiAgICAgICAgY2xpY2tlZEljb24ucmVtb3ZlQ2xhc3MoJ2NvcGllZCcpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cdHZhciBjb3B5SGVhZGluZ0xpbmtJY29uID0gJzxzcGFuIHRpdGxlPVwiQ29weSBsaW5rIHRvIGhlYWRpbmdcIiBjbGFzcz1cImhlYWRpbmctbGluay1pY29uIGljb24tY2hhaW5cIiBvbmNsaWNrPVwiY29weUhlYWRpbmdMaW5rKGV2ZW50KVwiIG9ubW91c2VvdXQ9XCJjb3B5SWNvbk1vdXNlT3V0KGV2ZW50KVwiPjwvc3Bhbj4nO1xyXG5cdFxyXG5cdC8vIFNlbGVjdG9yIGZvciBoMiBhbmQgaDMgaGVhZGluZ3MgaW4gc3RhbmRhcmQgQ29uZmx1ZW5jZSBjb250ZW50IChubyBzZWN0aW9uLCBmdWxsLXdpZHRoIHNlY3Rpb24sIGFuZCAyLzMgc2VjdGlvbiBjb250ZW50KVxyXG5cdHZhciBoZWFkaW5nRWxlbWVudHMgPSAnI21haW4tY29udGVudCBoMiwgI21haW4tY29udGVudCAuc3AtZ3JpZC02MCBoMywgI21haW4tY29udGVudCBoMyc7XHJcblx0XHJcblx0Ly8gRmlsdGVycyBvdXQgaGVhZGluZ3MgaW4gYm94IG1hY3JvcyBhbmQgaGVhZGluZ3MgY29udGFpbmluZyBsaW5rc1xyXG5cdC8vIEFwcGVuZHMgdGhlIFwiQ29weSBoZWFkaW5nIGxpbmtcIiBpY29uIHRvIHRoZSBoZWFkaW5nIGNvbnRlbnRcclxuXHQkKGhlYWRpbmdFbGVtZW50cykubm90KCdkaXYuYm94LWdlbmVyYWwgaDIsIGRpdi5ib3gtZ2VuZXJhbCBoMywgaDI6aGFzKGEpLCBoMzpoYXMoYSknKS5hcHBlbmQoY29weUhlYWRpbmdMaW5rSWNvbik7XHJcbn0pKCk7IFxyXG5cclxudmFyIGluaXRGb290ZXJMaW5rcyA9IGZ1bmN0aW9uKClcclxue1xyXG4gICAkKFwiYS5qcy1xYS1saW5rXCIpLmF0dHIoJ2hyZWYnLCBUSEVNRV9DT05GSUcuS0VOVElDT19RQV9MSU5LKTtcclxuICAgJChcImEuanMtc3VwcG9ydC1saW5rXCIpLmF0dHIoJ2hyZWYnLCBUSEVNRV9DT05GSUcuS0VOVElDT19TVVBQT1JUX0xJTkspO1xyXG5cclxuXHJcbiAgICBpZiAoJCgnI21haW4tY29udGVudCcpLnRleHQoKS50cmltKCkubGVuZ3RoID09IDAgKVxyXG4gICAge1xyXG4gICAgICAgICQoJyNtYWluLWNvbnRlbnQnKS5hcHBlbmQoJ1RoaXMgc2VjdGlvbiBjb2xsZWN0cyBhbGwgcGFnZXMgcmVsYXRlZCB0byB0aGUgdG9waWMuIFVzZSB0aGUgcGFnZSB0cmVlIHRvIG5hdmlnYXRlIHRoZSBzZWN0aW9uLicpO1xyXG4gICAgICAgICQoJyNtYWluLWNvbnRlbnQnKS5hcHBlbmQoJCgnYS5odC1uYXYtcGFnZS1saW5rLmN1cnJlbnQnKS5wYXJlbnQoKS5jaGlsZHJlbigpLmxhc3QoKS5jbG9uZSgpKVxyXG4gICAgfVxyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShpbml0Rm9vdGVyTGlua3MpO1xyXG5cclxuXHJcbi8vIGRvd25jYXNlIGhlYWRpbmcgZWxlbWVudHNcclxudmFyIGZpeEhlYWRpbmdzVXBwZXIgPSBmdW5jdGlvbiBmaXhIZWFkaW5nc1VwcGVyICgpe1xyXG4gICAgaWYoJCgnI21haW4tY29udGVudCBoMScpLmxlbmd0aCAhPT0gMClcclxuICAgIHtcclxuICAgICAgICAkKCcjbWFpbi1jb250ZW50IGgxJykuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHsgJCh0aGlzKS5yZXBsYWNlV2l0aChgPGgyIGlkPSR7dGhpcy5pZH0gY2xhc3M9JHt0aGlzLmNsYXNzTmFtZX0+YCArICAkKHRoaXMpLmh0bWwoKSArICc8L2gyPicpIH0pXHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyB1cGNhc2UgaGVhZGluZyBlbGVtZW50c1xyXG52YXIgZml4SGVhZGluZ3NMb3dlciA9IGZ1bmN0aW9uIGZpeEhlYWRpbmdzTG93ZXIgKCl7XHJcbiAgICBpZigkKCcjbWFpbi1jb250ZW50IGgyJykubGVuZ3RoID09PSAwICYmICQoJyNtYWluLWNvbnRlbnQgaDMnKS5sZW5ndGggIT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgJCgnI21haW4tY29udGVudCBoMycpLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7ICQodGhpcykucmVwbGFjZVdpdGgoYDxoMiBpZD0ke3RoaXMuaWR9IGNsYXNzPSR7dGhpcy5jbGFzc05hbWV9PmAgKyAgJCh0aGlzKS5odG1sKCkgKyAnPC9oMj4nKSB9KVxyXG4gICAgfVxyXG59O1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIChldmVudCkgPT4ge1xyXG4gICAgZml4SGVhZGluZ3NVcHBlcigpO1xyXG4gICAgZml4SGVhZGluZ3NMb3dlcigpO1xyXG4gIH0pOyJdfQ==
