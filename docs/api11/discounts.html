<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Discounts - API Examples Kentico 11</title>

    <link rel="stylesheet" href="assets/css/expand-macro.css">

    
<meta name="description" content="Kentico Xperience Documentation">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">

<meta name="confluence-space-key" content="API11">
<meta name="confluence-page-title" content="API Examples Kentico 11">
<meta name="confluence-page-tiny-suffix" content="">
<meta name="confluence-page-labels" content="">

<link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">

<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">


    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">

<link rel="stylesheet" href="assets/css/theme.prismhighlighter.css">
<link rel="stylesheet" href="assets/css/theme.lightbox.css">
<link rel="stylesheet" href="assets/css/theme.snackbar.css">
            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body incorrectpageid="69992450" pageid="70451258" id="top" data-pagetitle="Discounts">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
   <div class="container">
        <div class="ht-headerbar-row">
            <div class="ht-headerbar-left">
                <button class="menu-toggle button button--icon-only js-menu-toggle" type="button" title="Open menu">
                    <span class="menu-toggle-icon menu-toggle-icon--default icon-menu"></span>
                    <span class="menu-toggle-icon menu-toggle-icon--active icon-modal-close"></span>
                    <span class="menu-toggle-label menu-toggle-label--default sr-only">Open menu</span>
                    <span class="menu-toggle-label menu-toggle-label--active sr-only">Hide menu</span>
                </button>
                <a href="../api11" class="xperience-logo">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Xperience Docs" class="xperience-logo__image">
                </a>
            </div>
            <div class="ht-headerbar-center">
                <div class="menu-ddl">
  	  	  	<button onclick="insertVersionLinks(versionSwitcherData)" class="header-ddl-button docVersion js-menuDdlBtn-version" title="Which Kentico Xperience version do you have?"></button>
  	<ul class="menu-ddl-content-main menu-ddl-content docVersion js-menuDdl-version">
	</ul>
</div>
<ul class="header-menu js-menuDdl-docType">
</ul>            </div>  
            <div class="ht-headerbar-right">
            
                                <div id="ht-search" class="header-search-box open show js-header-search-box">
                                                                                <div class="ht-search-input header-search-wrapper">
                        <form class="header-search" action="${viewport.link}/search" method="GET" id="search">
                            <div class="header-search-field">
                                <span class="header-search-field__icon icon-magnifier"></span>
                                <input class="header-search-field__input search-input" type="text" placeholder="Search the docs..." tabindex="-1" autocomplete="off" name="q" value="">
                            </div>
                            <div class="header-search-button-wrapper">
                                <button id="searchButton" class="header-search-button button button--secondary" type="submit">Search</button>
                            </div>
                        </form>
    
                        <div class="ht-search-dropdown ht-dropdown header-search-dropdown">
                            <ul></ul>
                        </div>
                    </div>

                    <button class="ht-search-close button button--icon-only js-header-search-close" type="button" title="Close search">
                        <span class="icon-modal-close"></span>
                        <span class="sr-only">Close search</span>
                    </button>
                </div>

                <button class="ht-search-open button button--icon-only js-header-search-open" type="button" title="Open search">
                    <span class="icon-magnifier"></span>
                    <span class="sr-only">Open search</span>
                </button>
                
                                <a id="sp-viewport-control-opener" href="#" style="display:none"></a>
                            </div>
        </div>
    </div>
        
            
                    
                                
                            </header>    	<div id="old-version-note" class="sidebar-left-padding">
		<div class="container">
			<p><strong>Is this really the version you are looking for?</strong> Kentico API11 documentation is no longer updated. Use the switch in the header to choose your Kentico Xperience version.</p>
		</div>
	</div></div>

<div id="ht-wrap-container">

               

    <div class="container">
        <div class="ht-layout">
            <div class="ht-layout-sidebar">
                
<aside id="ht-sidebar">
    <div class="menu-ddl">
  	  	  	<button onclick="insertVersionLinks(versionSwitcherData)" class="header-ddl-button docVersion js-menuDdlBtn-version" title="Which Kentico Xperience version do you have?"></button>
  	<ul class="menu-ddl-content-main menu-ddl-content docVersion js-menuDdl-version">
	</ul>
</div>
<ul class="header-menu js-menuDdl-docType">
</ul>    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            
<nav class="ht-pages-nav">
    <ul class="ht-pages-nav-top">
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451229" href="content-management">Content management</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451230" href="attachments">Attachments</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451231" href="blogs">Blogs</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451232" href="custom-table-data">Custom table data</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451233" href="form-data">Form data</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451234" href="media-libraries">Media libraries</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451235" href="page-relationships">Page relationships</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451236" href="pages">Pages</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451237" href="page-security">Page security</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451238" href="page-workflow-and-versioning">Page workflow and versioning</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451239" href="polls">Polls</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451240" href="sharepoint">SharePoint</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451241" href="tags">Tags</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451267" href="on-line-marketing">On-line marketing</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451268" href="accounts">Accounts</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451269" href="activities">Activities</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451270" href="contact-groups">Contact groups</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451271" href="contacts">Contacts</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451272" href="email-marketing">Email marketing</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451273" href="marketing-automation">Marketing automation</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451254" href="e-commerce">E-commerce</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451255" href="currencies-and-exchange-rates">Currencies and exchange rates</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451256" href="customers">Customers</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451257" href="departments">Departments</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451258" href="discounts">Discounts</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="72975832" href="gift-cards">Gift cards</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451259" href="orders">Orders</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451260" href="payment-methods">Payment methods</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451261" href="product-options-and-variants">Product options and variants</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451262" href="product-related-objects">Product-related objects</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451263" href="products">Products</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451264" href="shipping-options">Shipping options</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451265" href="shopping-carts">Shopping carts</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451266" href="tax-classes">Tax classes</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451274" href="social-and-community">Social and Community</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451275" href="abuse-report">Abuse report</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451276" href="avatars">Avatars</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451277" href="badges">Badges</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451278" href="bad-words">Bad words</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451279" href="events">Events</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451280" href="facebook">Facebook</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451281" href="forums">Forums</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451282" href="friends">Friends</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451283" href="groups">Groups</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451284" href="message-boards">Message boards</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451285" href="messages">Messages</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451286" href="twitter">Twitter</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451242" href="development">Development</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451243" href="css-stylesheets">CSS stylesheets</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451244" href="form-controls">Form controls</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451245" href="modules">Modules</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451246" href="module-settings">Module settings</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451247" href="notifications">Notifications</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451248" href="object-versioning-and-recycle-bin">Object versioning and recycle bin</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451249" href="page-layouts">Page layouts</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451250" href="page-templates">Page templates</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451251" href="web-parts">Web parts</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451252" href="web-templates">Web templates</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451253" href="widgets">Widgets</a>
    </li>
                                    </ul>
    </li>
                    <li class="collapsed">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451210" href="configuration">Configuration</a>
            <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>
        <ul class="nav ht-pages-nav-sub">
                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451211" href="banned-ips">Banned IPs</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451212" href="categories">Categories</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="76851531" href="consents">Consents</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451213" href="countries">Countries</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="98239491" href="email-queue">Email queue</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451214" href="event-log">Event log</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451215" href="import-and-export">Import and export</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451216" href="localization">Localization</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451217" href="membership">Membership</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451218" href="reporting">Reporting</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451219" href="roles">Roles</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451220" href="scheduled-tasks">Scheduled tasks</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451221" href="settings">Settings</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451222" href="sites">Sites</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451223" href="smart-search">Smart search</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451224" href="staging">Staging</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451225" href="time-zones">Time zones</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451226" href="users">Users</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451227" href="web-farms">Web farms</a>
    </li>
                                                                 <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="70451228" href="workflows">Workflows</a>
    </li>
                                    </ul>
    </li>
                    <li class="leaf">
        <a target="_parent" class="ht-nav-page-link" data-destpageid="76842896" href="sitemap.xml">sitemap.xml</a>
    </li>
            </ul>
</nav>        </div>
    </div>
</aside>            </div>
            <div class="ht-layout-main">
            <article id="ht-content" class="ht-content">
                <header class="ht-content-header">
                    <div id="ht-breadcrumb">
    <ul>
        <li><a href="api-examples-kentico-11.html">API Examples Kentico 11</a></li>
                                                                                     <li><a href="e-commerce.html">E-commerce</a></li>
                                                            </ul>
</div>                    <h1 id="src-70451258"> <span>Discounts</span></h1>
                    <div class="page-metadata">
    <div class="page-metadata-modification-info">
     <a id="export-pdf" class="first-page-action-link page-metadata-export" href="#" download="">
        <span>Save as PDF</span>
        <span class="page-metadata-export-icon icon-arrow-down-line"></span>
      </a>
      <span class="page-action-separator">|</span>
      <a id="get-page-link" class="page-metadata-copy" href="#" onclick="openPageLink(69992450)">
        <span>Copy page link</span>
        <span class="page-metadata-copy-icon icon-chain"></span>
      </a>
      </div>

  <div id="page-link-panel">
    <div id="page-link-panel-inner">
      	
    	<a id="page-link-close" onclick="closePageLink()" href="#" title="Close page link panel">âœ–</a>
    	<form>
       		<input id="page-link-textbox" type="text" readonly="readonly" autocomplete="off" onclick="this.select();">
          	<a id="copy-clipboard-link" onclick="copyPageLinkToClip()" href="#">Copy&nbsp;to&nbsp;clipboard</a>
		</form>
    	</div>
  </div>
</div>
                </header>
                <div id="content" class="page">
                    <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<span id="src-70451258_Discounts-toc"></span><p>List of examples:</p>
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-70451258_discounts-buyxgetydiscounts">Buy X Get Y discounts</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-70451258_discounts-creatingabuyxgetydiscount">Creating a Buy X Get Y discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingabuyxgetydiscount">Updating a Buy X Get Y discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingmultiplebuyxgetydiscounts">Updating multiple Buy X Get Y discounts</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-addingcouponcodestoabuyxgetydiscount">Adding coupon codes to a Buy X Get Y discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-deletingabuyxgetydiscount">Deleting a Buy X Get Y discount</a></p>
</li></ul></li><li class=" "><p><a href="#src-70451258_discounts-catalogdiscounts">Catalog discounts</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-70451258_discounts-creatingacatalogdiscount">Creating a catalog discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingacatalogdiscount">Updating a catalog discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingmultiplecatalogdiscounts">Updating multiple catalog discounts</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-deletingacatalogdiscount">Deleting a catalog discount</a></p>
</li></ul></li><li class=" "><p><a href="#src-70451258_discounts-orderdiscounts">Order discounts</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-70451258_discounts-creatinganorderdiscount">Creating an order discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatinganorderdiscount">Updating an order discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingmultipleorderdiscounts">Updating multiple order discounts</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-deletinganorderdiscount">Deleting an order discount</a></p>
</li></ul></li><li class=" "><p><a href="#src-70451258_discounts-freeshippingoffers">Free shipping offers</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-70451258_discounts-creatingafreeshippingoffer">Creating a free shipping offer</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingafreeshippingoffer">Updating a free shipping offer</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingmultiplefreeshippingoffer">Updating multiple free shipping offer</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-deletingafreeshippingoffer">Deleting a free shipping offer</a></p>
</li></ul></li><li class=" "><p><a href="#src-70451258_discounts-volumediscounts">Volume discounts</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-70451258_discounts-creatingavolumediscount">Creating a volume discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingavolumediscount">Updating a volume discount</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingmultiplevolumediscounts">Updating multiple volume discounts</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-deletingavolumediscount">Deleting a volume discount</a></p>
</li></ul></li><li class=" "><p><a href="#src-70451258_discounts-productcoupons">Product coupons</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-70451258_discounts-creatingaproductcoupon">Creating a product coupon</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-addingcouponcodestoaproductcoupon">Adding coupon codes to a product coupon</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingaproductcoupon">Updating a product coupon</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-updatingmultipleproductcoupons">Updating multiple product coupons</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-removingproductsfromaproductcoupon">Removing products from a product coupon</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-applyingaproductcoupontoproductsections">Applying a product coupon to product sections</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-applyingaproductcoupontodepartments">Applying a product coupon to departments</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-applyingaproductcoupontobrands">Applying a product coupon to brands</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-applyingaproductcoupontocollections">Applying a product coupon to collections</a></p>
</li><li class=" "><p><a href="#src-70451258_discounts-deletingaproductcoupon">Deleting a product coupon</a></p>
</li></ul></li></ul><p></p>
    <div class="section section-1" id="src-70451258_Discounts-BuyXGetYdiscounts">
        <h1 class="heading "><span>Buy X Get Y discounts</span></h1>
    <div class="section section-2" id="src-70451258_Discounts-CreatingaBuyXGetYdiscount">
        <h2 class="heading "><span>Creating a Buy X Get Y discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets a product for a 2+1 free Buy X Get Y discount</code></div>
<div class="line"><code class="plain">SKUInfo product = SKUInfoProvider.GetSKUs()</code></div>
<div class="line"><code class="plain">							   .WhereStartsWith(</code><code class="string">"SKUName"</code><code class="plain">, </code><code class="string">"New"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">							   .FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (product != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a new Buy X Get Y discount object and sets its properties</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfo newDiscount = </code><code class="keyword">new</code><code class="plain"> MultiBuyDiscountInfo()</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountName = </code><code class="string">"MyDiscount"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountDisplayName = </code><code class="string">"My Discount"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountApplyFurtherDiscounts = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountMinimumBuyCount = 2,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountApplyToSKUID = product.SKUID,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountIsFlat = </code><code class="keyword">false</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountValue = 100,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountAutoAddEnabled = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountEnabled = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountCustomerRestriction = DiscountCustomerEnum.All,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountSiteID = SiteContext.CurrentSiteID</code></div>
<div class="line"><code class="plain">	};</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the Buy X Get Y discount to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.SetMultiBuyDiscountInfo(newDiscount);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a new relationship of a product that needs to be bought and the discount</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountSKUInfo newSkuDiscount = </code><code class="keyword">new</code><code class="plain"> MultiBuyDiscountSKUInfo();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Sets the product-discount relationship properties</code></div>
<div class="line"><code class="plain">	newSkuDiscount.MultiBuyDiscountID = newDiscount.MultiBuyDiscountID;</code></div>
<div class="line"><code class="plain">	newSkuDiscount.SKUID = product.SKUID;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the product-discount relationship to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountSKUInfoProvider.SetMultiBuyDiscountSKUInfo(newSkuDiscount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-UpdatingaBuyXGetYdiscount">
        <h2 class="heading "><span>Updating a Buy X Get Y discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first Buy X Get Y discount that contains 'MyDiscount' on the current site</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo discount = MultiBuyDiscountInfoProvider.GetMultiBuyDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"MyDiscount"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the Buy X Get Y discount properties</code></div>
<div class="line"><code class="plain">	discount.MultiBuyDiscountMinimumBuyCount = 3;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.SetMultiBuyDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-UpdatingmultipleBuyXGetYdiscounts">
        <h2 class="heading "><span>Updating multiple Buy X Get Y discounts</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets all enabled Buy X Get Y discounts on the current site</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> discounts = MultiBuyDiscountInfoProvider.GetMultiBuyDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">											.WhereTrue(</code><code class="string">"MultiBuyDiscountEnabled"</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the Buy X Get Y discounts</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (MultiBuyDiscountInfo discount </code><code class="keyword">in</code><code class="plain"> discounts)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the Buy X Get Y discounts properties</code></div>
<div class="line"><code class="plain">	discount.MultiBuyDiscountEnabled = </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.SetMultiBuyDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-AddingcouponcodestoaBuyXGetYdiscount">
        <h2 class="heading "><span>Adding coupon codes to a Buy X Get Y discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first Buy X Get Y discount on the current site whose name contains 'MyDiscount'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo discount = MultiBuyDiscountInfoProvider.GetMultiBuyDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"MyDiscount"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Enables using of coupon codes for the Buy X Get Y discount</code></div>
<div class="line"><code class="plain">	discount.MultiBuyDiscountUsesCoupons = </code><code class="keyword">true</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the change to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.SetMultiBuyDiscountInfo(discount);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Prepares a query that gets all existing coupon codes from the current site</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">var</code><code class="plain"> existingCouponCodeQuery = ECommerceHelper.GetAllCouponCodesQuery(SiteContext.CurrentSiteID);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a cache of coupon codes on the current site</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">var</code><code class="plain"> existingCodes = existingCouponCodeQuery.GetListResult&lt;</code><code class="keyword">string</code><code class="plain">&gt;();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Prepares an instance of a class that checks against existing coupon codes to avoid duplicates</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">var</code><code class="plain"> coudeUniquenessChecker = </code><code class="keyword">new</code><code class="plain"> CodeUniquenessChecker(existingCodes);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Initializes a coupon code generator</code></div>
<div class="line"><code class="plain">	RandomCodeGenerator codeGenerator = </code><code class="keyword">new</code><code class="plain"> RandomCodeGenerator(coudeUniquenessChecker, </code><code class="string">"**********"</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Loops to generate 300 coupon codes</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">for</code><code class="plain"> (</code><code class="keyword">int</code><code class="plain"> i = 0; i &lt; 300; i++)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Generates a new unique code text</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">string</code><code class="plain"> code = codeGenerator.GenerateCode();</code></div>
<div class="line"><code class="plain">		</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Creates a coupon code and adds it to the discount</code></div>
<div class="line"><code class="plain">		MultiBuyCouponCodeInfoProvider.CreateCoupon(discount, code, 1);</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-DeletingaBuyXGetYdiscount">
        <h2 class="heading "><span>Deleting a Buy X Get Y discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first Buy X Get Y discount that contains 'MyDiscount' on the current site</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo discount = MultiBuyDiscountInfoProvider.GetMultiBuyDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"MyDiscount"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Deletes the Buy X Get Y discount</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.DeleteMultiBuyDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    </div>
    <div class="section section-1" id="src-70451258_Discounts-Catalogdiscounts">
        <h1 class="heading "><span>Catalog discounts</span></h1>
    <div class="section section-2" id="src-70451258_Discounts-Creatingacatalogdiscount">
        <h2 class="heading "><span>Creating a catalog discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Creates a new catalog discount object and sets its properties</code></div>
<div class="line"><code class="plain">DiscountInfo newDiscount = </code><code class="keyword">new</code><code class="plain"> DiscountInfo()</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	DiscountName = </code><code class="string">"MyDiscount"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountDisplayName = </code><code class="string">"My Discount"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountIsFlat = </code><code class="keyword">false</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountValue = 20,</code></div>
<div class="line"><code class="plain">	DiscountApplyTo = DiscountApplicationEnum.Products,</code></div>
<div class="line"><code class="plain">	DiscountProductCondition = </code><code class="string">@"{% SKU.SKUName.Contains(""new"") %}"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountEnabled = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountOrder = 1,</code></div>
<div class="line"><code class="plain">	DiscountApplyFurtherDiscounts = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountUsesCoupons = </code><code class="keyword">false</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountSiteID = SiteContext.CurrentSiteID</code></div>
<div class="line"><code class="plain">};</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Saves the catalog discount to the database</code></div>
<div class="line"><code class="plain">DiscountInfoProvider.SetDiscountInfo(newDiscount);</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingacatalogdiscount">
        <h2 class="heading "><span>Updating a catalog discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first catalog discount that contains 'MyDiscount' on the current site</code></div>
<div class="line"><code class="plain">DiscountInfo discount = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountName"</code><code class="plain">, </code><code class="string">"MyDiscount"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Products.ToString())</code></div>
<div class="line"><code class="plain">											.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the catalog discount properties</code></div>
<div class="line"><code class="plain">	discount.DiscountEnabled = </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.SetDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingmultiplecatalogdiscounts">
        <h2 class="heading "><span>Updating multiple catalog discounts</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets all enabled catalog discounts on the current site</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> discounts = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID, </code><code class="keyword">true</code><code class="plain">)</code></div>
<div class="line"><code class="plain">									.WhereContains(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Products.ToString());</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the catalog discounts</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (DiscountInfo discount </code><code class="keyword">in</code><code class="plain"> discounts)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the catalog discount properties</code></div>
<div class="line"><code class="plain">	discount.DiscountEnabled = </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.SetDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Deletingacatalogdiscount">
        <h2 class="heading "><span>Deleting a catalog discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first catalog discount that contains 'MyDiscount' on the current site</code></div>
<div class="line"><code class="plain">DiscountInfo discount = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountName"</code><code class="plain">, </code><code class="string">"MyDiscount"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Products.ToString())</code></div>
<div class="line"><code class="plain">											.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Deletes the catalog discount</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.DeleteDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    </div>
    <div class="section section-1" id="src-70451258_Discounts-Orderdiscounts">
        <h1 class="heading "><span>Order discounts</span></h1>
    <div class="section section-2" id="src-70451258_Discounts-Creatinganorderdiscount">
        <h2 class="heading "><span>Creating an order discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Creates a new order discount object and sets its properties</code></div>
<div class="line"><code class="plain">DiscountInfo newDiscount = </code><code class="keyword">new</code><code class="plain"> DiscountInfo()</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	DiscountDisplayName = </code><code class="string">"New order discount"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountName = </code><code class="string">"NewOrderDiscount"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountApplyTo = DiscountApplicationEnum.Order,</code></div>
<div class="line"><code class="plain">	DiscountIsFlat = </code><code class="keyword">false</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountSiteID = SiteContext.CurrentSiteID,</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	DiscountEnabled = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountValue = 10,</code></div>
<div class="line"><code class="plain">	DiscountCartCondition = </code><code class="string">@"{% Currency.CurrencyName==""Dollar"" %}"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountOrder = 1,</code></div>
<div class="line"><code class="plain">	DiscountApplyFurtherDiscounts = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountUsesCoupons = </code><code class="keyword">false</code><code class="plain">,</code></div>
<div class="line"><code class="plain">};</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Saves the order discount to the database</code></div>
<div class="line"><code class="plain">DiscountInfoProvider.SetDiscountInfo(newDiscount);</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatinganorderdiscount">
        <h2 class="heading "><span>Updating an order discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first order discount on the current site whose name contains 'NewOrderDiscount'</code></div>
<div class="line"><code class="plain">DiscountInfo discount = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountName"</code><code class="plain">, </code><code class="string">"NewOrderDiscount"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">											.WhereEquals(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Order.ToString())</code></div>
<div class="line"><code class="plain">											.TopN(1)</code></div>
<div class="line"><code class="plain">											.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the order discount properties</code></div>
<div class="line"><code class="plain">	discount.DiscountEnabled = </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.SetDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingmultipleorderdiscounts">
        <h2 class="heading "><span>Updating multiple order discounts</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets all enabled order discounts on the current site</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> discounts = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID, </code><code class="keyword">true</code><code class="plain">)</code></div>
<div class="line"><code class="plain">									.WhereEquals(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Order.ToString())</code></div>
<div class="line"><code class="plain">									.WhereTrue(</code><code class="string">"DiscountEnabled"</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the order discounts</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (DiscountInfo discount </code><code class="keyword">in</code><code class="plain"> discounts)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the order discount properties</code></div>
<div class="line"><code class="plain">	discount.DiscountItemMinOrderAmount = 100;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.SetDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Deletinganorderdiscount">
        <h2 class="heading "><span>Deleting an order discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first order discount on the current site whose name contains 'NewOrderDiscount'</code></div>
<div class="line"><code class="plain">DiscountInfo discount = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountName"</code><code class="plain">, </code><code class="string">"NewOrderDiscount"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">											.WhereEquals(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Order.ToString())</code></div>
<div class="line"><code class="plain">											.TopN(1)</code></div>
<div class="line"><code class="plain">											.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Deletes the order discount</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.DeleteDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    </div>
    <div class="section section-1" id="src-70451258_Discounts-Freeshippingoffers">
        <h1 class="heading "><span>Free shipping offers</span></h1>
    <div class="section section-2" id="src-70451258_Discounts-Creatingafreeshippingoffer">
        <h2 class="heading "><span>Creating a free shipping offer</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Creates a new free shipping offer object and sets its properties</code></div>
<div class="line"><code class="plain">DiscountInfo newDiscount = </code><code class="keyword">new</code><code class="plain"> DiscountInfo()</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	DiscountName = </code><code class="string">"MyShippingOffer"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountDisplayName = </code><code class="string">"My Shipping Offer"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountIsFlat = </code><code class="keyword">false</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountValue = 20,</code></div>
<div class="line"><code class="plain">	DiscountApplyTo = DiscountApplicationEnum.Shipping,</code></div>
<div class="line"><code class="plain">	DiscountOrderAmount = 100,</code></div>
<div class="line"><code class="plain">	DiscountEnabled = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountOrder = 1,</code></div>
<div class="line"><code class="plain">	DiscountApplyFurtherDiscounts = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountUsesCoupons = </code><code class="keyword">false</code><code class="plain">,</code></div>
<div class="line"><code class="plain">	DiscountSiteID = SiteContext.CurrentSiteID</code></div>
<div class="line"><code class="plain">};</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Saves the free shipping offer to the database</code></div>
<div class="line"><code class="plain">DiscountInfoProvider.SetDiscountInfo(newDiscount);</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingafreeshippingoffer">
        <h2 class="heading "><span>Updating a free shipping offer</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first free shipping offer that contains 'MyShippingOffer' on the current site</code></div>
<div class="line"><code class="plain">DiscountInfo discount = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountName"</code><code class="plain">, </code><code class="string">"MyShippingOffer"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Shipping.ToString())</code></div>
<div class="line"><code class="plain">											.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the free shipping offer properties</code></div>
<div class="line"><code class="plain">	discount.DiscountEnabled = </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.SetDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingmultiplefreeshippingoffer">
        <h2 class="heading "><span>Updating multiple free shipping offer</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets all enabled free shipping offers on the current site</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> discounts = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID, </code><code class="keyword">true</code><code class="plain">)</code></div>
<div class="line"><code class="plain">									.WhereContains(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Shipping.ToString());</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the free shipping offers</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (DiscountInfo discount </code><code class="keyword">in</code><code class="plain"> discounts)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the free shipping offer properties</code></div>
<div class="line"><code class="plain">	discount.DiscountEnabled = </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.SetDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Deletingafreeshippingoffer">
        <h2 class="heading "><span>Deleting a free shipping offer</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first free shipping offer that contains 'MyShippingOffer' on the current site</code></div>
<div class="line"><code class="plain">DiscountInfo discount = DiscountInfoProvider.GetDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountName"</code><code class="plain">, </code><code class="string">"MyShippingOffer"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">											.WhereContains(</code><code class="string">"DiscountApplyTo"</code><code class="plain">, DiscountApplicationEnum.Shipping.ToString())</code></div>
<div class="line"><code class="plain">											.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Deletes the free shipping offer</code></div>
<div class="line"><code class="plain">	DiscountInfoProvider.DeleteDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    </div>
    <div class="section section-1" id="src-70451258_Discounts-Volumediscounts">
        <h1 class="heading "><span>Volume discounts</span></h1>
    <div class="section section-2" id="src-70451258_Discounts-Creatingavolumediscount">
        <h2 class="heading "><span>Creating a volume discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets a product for the volume discount</code></div>
<div class="line"><code class="plain">SKUInfo product = SKUInfoProvider.GetSKUs()</code></div>
<div class="line"><code class="plain">								 .WhereStartsWith(</code><code class="string">"SKUName"</code><code class="plain">, </code><code class="string">"New"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">								 .FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (product != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a new volume discount object</code></div>
<div class="line"><code class="plain">	VolumeDiscountInfo newDiscount = </code><code class="keyword">new</code><code class="plain"> VolumeDiscountInfo();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Sets the volume discount properties</code></div>
<div class="line"><code class="plain">	newDiscount.VolumeDiscountMinCount = 100;</code></div>
<div class="line"><code class="plain">	newDiscount.VolumeDiscountValue = 20;</code></div>
<div class="line"><code class="plain">	newDiscount.VolumeDiscountSKUID = product.SKUID;</code></div>
<div class="line"><code class="plain">	newDiscount.VolumeDiscountIsFlatValue = </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the volume discount to the database</code></div>
<div class="line"><code class="plain">	VolumeDiscountInfoProvider.SetVolumeDiscountInfo(newDiscount);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingavolumediscount">
        <h2 class="heading "><span>Updating a volume discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets a product</code></div>
<div class="line"><code class="plain">SKUInfo product = SKUInfoProvider.GetSKUs()</code></div>
<div class="line"><code class="plain">								.WhereEquals(</code><code class="string">"SKUName"</code><code class="plain">, </code><code class="string">"NewProduct"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">								.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (product != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Gets the first volume discount defined for the product</code></div>
<div class="line"><code class="plain">	VolumeDiscountInfo discount = VolumeDiscountInfoProvider.GetVolumeDiscounts(product.SKUID).FirstObject;</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Updates the volume discount properties</code></div>
<div class="line"><code class="plain">		discount.VolumeDiscountMinCount = 800;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">		VolumeDiscountInfoProvider.SetVolumeDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingmultiplevolumediscounts">
        <h2 class="heading "><span>Updating multiple volume discounts</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets a product</code></div>
<div class="line"><code class="plain">SKUInfo product = SKUInfoProvider.GetSKUs()</code></div>
<div class="line"><code class="plain">							   .WhereStartsWith(</code><code class="string">"SKUName"</code><code class="plain">, </code><code class="string">"New"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">							   .FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (product != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Gets the product's volume discounts</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">var</code><code class="plain"> discounts = VolumeDiscountInfoProvider.GetVolumeDiscounts(product.SKUID);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Loops through the volume discounts</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">foreach</code><code class="plain"> (VolumeDiscountInfo discount </code><code class="keyword">in</code><code class="plain"> discounts)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Updates the volume discount properties</code></div>
<div class="line"><code class="plain">		discount.VolumeDiscountMinCount = 500;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">		VolumeDiscountInfoProvider.SetVolumeDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Deletingavolumediscount">
        <h2 class="heading "><span>Deleting a volume discount</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets a product</code></div>
<div class="line"><code class="plain">SKUInfo product = SKUInfoProvider.GetSKUs()</code></div>
<div class="line"><code class="plain">							   .WhereStartsWith(</code><code class="string">"SKUName"</code><code class="plain">, </code><code class="string">"New"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">							   .FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (product != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Gets the first volume discount defined for the product</code></div>
<div class="line"><code class="plain">	VolumeDiscountInfo discount = VolumeDiscountInfoProvider.GetVolumeDiscounts(product.SKUID).FirstObject;</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">if</code><code class="plain"> (discount != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Deletes the volume discount</code></div>
<div class="line"><code class="plain">		VolumeDiscountInfoProvider.DeleteVolumeDiscountInfo(discount);</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    </div>
    <div class="section section-1" id="src-70451258_Discounts-Productcoupons">
        <h1 class="heading "><span>Product coupons</span></h1>
    <div class="section section-2" id="src-70451258_Discounts-Creatingaproductcoupon">
        <h2 class="heading "><span>Creating a product coupon</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets a product for the product coupon</code></div>
<div class="line"><code class="plain">SKUInfo product = SKUInfoProvider.GetSKUs()</code></div>
<div class="line"><code class="plain">							   .WhereStartsWith(</code><code class="string">"SKUName"</code><code class="plain">, </code><code class="string">"New"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">							   .FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (product != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a new Product coupon object and sets its properties</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfo newProductCoupon = </code><code class="keyword">new</code><code class="plain"> MultiBuyDiscountInfo()</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountName = </code><code class="string">"NewProductCoupon"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountDisplayName = </code><code class="string">"New product coupon"</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountEnabled = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountSiteID = SiteContext.CurrentSiteID,</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Configures the object as a Product coupon (not a Buy X Get Y discount)</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountIsProductCoupon = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountUsesCoupons = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountApplyFurtherDiscounts = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountMinimumBuyCount = 1,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountAutoAddEnabled = </code><code class="keyword">false</code><code class="plain">,</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Sets the coupon's discount value to a fixed amount of 10</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountIsFlat = </code><code class="keyword">true</code><code class="plain">,</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountValue = 10,</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Makes the coupon available for all store visitors</code></div>
<div class="line"><code class="plain">		MultiBuyDiscountCustomerRestriction = DiscountCustomerEnum.All,</code></div>
<div class="line"><code class="plain">	};</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the product coupon to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.SetMultiBuyDiscountInfo(newProductCoupon);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Configures the coupon to apply to the retrieved product</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountSKUInfo couponSkuBinding = </code><code class="keyword">new</code><code class="plain"> MultiBuyDiscountSKUInfo();</code></div>
<div class="line"><code class="plain">	couponSkuBinding.MultiBuyDiscountID = newProductCoupon.MultiBuyDiscountID;</code></div>
<div class="line"><code class="plain">	couponSkuBinding.SKUID = product.SKUID;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the coupon-product relationship to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountSKUInfoProvider.SetMultiBuyDiscountSKUInfo(couponSkuBinding);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Addingcouponcodestoaproductcoupon">
        <h2 class="heading "><span>Adding coupon codes to a product coupon</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first product coupon on the current site whose name contains 'NewProductCoupon'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo productCoupon = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"NewProductCoupon"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (productCoupon != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Prepares a query that gets all existing coupon codes from the current site</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">var</code><code class="plain"> existingCouponCodeQuery = ECommerceHelper.GetAllCouponCodesQuery(SiteContext.CurrentSiteID);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a cache of coupon codes on the current site</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">var</code><code class="plain"> existingCodes = existingCouponCodeQuery.GetListResult&lt;</code><code class="keyword">string</code><code class="plain">&gt;();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Prepares an instance of a class that checks against existing coupon codes to avoid duplicates</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">var</code><code class="plain"> coudeUniquenessChecker = </code><code class="keyword">new</code><code class="plain"> CodeUniquenessChecker(existingCodes);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Initializes a coupon code generator</code></div>
<div class="line"><code class="plain">	RandomCodeGenerator codeGenerator = </code><code class="keyword">new</code><code class="plain"> RandomCodeGenerator(coudeUniquenessChecker, </code><code class="string">"**********"</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Loops to generate 100 coupon codes</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">for</code><code class="plain"> (</code><code class="keyword">int</code><code class="plain"> i = 0; i &lt; 100; i++)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Generates a new unique code text</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">string</code><code class="plain"> code = codeGenerator.GenerateCode();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Creates a coupon code and adds it to the product coupon</code></div>
<div class="line"><code class="plain">		MultiBuyCouponCodeInfoProvider.CreateCoupon(productCoupon, code, 1);</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingaproductcoupon">
        <h2 class="heading "><span>Updating a product coupon</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first product coupon on the current site whose name contains 'NewProductCoupon'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo productCoupon = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"NewProductCoupon"</code><code class="plain">)																			</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (productCoupon != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the product coupon properties</code></div>
<div class="line"><code class="plain">	productCoupon.MultiBuyDiscountValue = 20;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.SetMultiBuyDiscountInfo(productCoupon);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Updatingmultipleproductcoupons">
        <h2 class="heading "><span>Updating multiple product coupons</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets all enabled product coupons on the current site</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> productCoupons = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">											.WhereTrue(</code><code class="string">"MultiBuyDiscountEnabled"</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the product coupons</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (MultiBuyDiscountInfo coupon </code><code class="keyword">in</code><code class="plain"> productCoupons)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Updates the product coupon properties (disables the coupon)</code></div>
<div class="line"><code class="plain">	coupon.MultiBuyDiscountEnabled = </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Saves the changes to the database</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.SetMultiBuyDiscountInfo(coupon);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Removingproductsfromaproductcoupon">
        <h2 class="heading "><span>Removing products from a product coupon</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first product coupon on the current site whose name contains 'NewProductCoupon'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo productCoupon = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"NewProductCoupon"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets all coupon-product relationships for the product coupon</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> couponSkuBindings = MultiBuyDiscountSKUInfoProvider.GetMultiBuyDiscountSKUs()</code></div>
<div class="line"><code class="plain">												.WhereEquals(</code><code class="string">"MultiBuyDiscountID"</code><code class="plain">, productCoupon.MultiBuyDiscountID);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the retrieved coupon-product relationships</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (MultiBuyDiscountSKUInfo couponSkuBinding </code><code class="keyword">in</code><code class="plain"> couponSkuBindings)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Removes the product from the product coupon</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountSKUInfoProvider.DeleteMultiBuyDiscountSKUInfo(couponSkuBinding);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Applyingaproductcoupontoproductsections">
        <h2 class="heading "><span>Applying a product coupon to product sections</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// NOTE: Remove any assigned products, departments, brands or collections from the product coupon before assigning sections</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets the first product coupon on the current site whose name contains 'NewProductCoupon'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo productCoupon = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"NewProductCoupon"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets the starting path of the current site's product section</code></div>
<div class="line"><code class="keyword">string</code><code class="plain"> productStartingPath = ECommerceSettings.ProductsStartingPath(SiteContext.CurrentSiteID);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets a list of all page type names that represent product sections</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> productSectionTypes = CMS.DataEngine.DataClassInfoProvider.GetClasses()</code></div>
<div class="line"><code class="plain">																	.WhereTrue(</code><code class="string">"ClassIsProductSection"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">																	.Column(</code><code class="string">"ClassName"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">																	.GetListResult&lt;</code><code class="keyword">string</code><code class="plain">&gt;();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Prepares an array of the product section page type names</code></div>
<div class="line"><code class="comments">// Requires a 'using System.Linq;' statement				</code></div>
<div class="line"><code class="keyword">string</code><code class="plain">[] sectionTypeNames = productSectionTypes.ToArray();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Creates an instance of the Tree provider</code></div>
<div class="line"><code class="plain">TreeProvider tree = </code><code class="keyword">new</code><code class="plain"> TreeProvider(MembershipContext.AuthenticatedUser);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets all product section pages on the first level under the product section root</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> productSections = tree.SelectNodes()</code></div>
<div class="line"><code class="plain">							.Types(sectionTypeNames)</code></div>
<div class="line"><code class="plain">							.OnCurrentSite()</code></div>
<div class="line"><code class="plain">							.Path(productStartingPath, PathTypeEnum.Children)</code></div>
<div class="line"><code class="plain">							.NestingLevel(1);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (TreeNode section </code><code class="keyword">in</code><code class="plain"> productSections)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a relationship between the product coupon and product section</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Tip: To add excluded sections to the product coupon, set the method's 'included' parameter to false</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountTreeInfoProvider.AddMultiBuyDiscountToTree(productCoupon.MultiBuyDiscountID, section.NodeID, included: </code><code class="keyword">true</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Clears the product coupon's cache record</code></div>
<div class="line"><code class="plain">CMS.Helpers.CacheHelper.TouchKey(MultiBuyDiscountInfo.OBJECT_TYPE_PRODUCT_COUPON + </code><code class="string">"|byid|"</code><code class="plain"> + productCoupon.MultiBuyDiscountID);</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Applyingaproductcoupontodepartments">
        <h2 class="heading "><span>Applying a product coupon to departments</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// NOTE: Remove any assigned products, sections, brands or collections from the product coupon before assigning departments</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets the first product coupon on the current site whose name contains 'NewProductCoupon'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo productCoupon = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"NewProductCoupon"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets all departments on the current site</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> departments = DepartmentInfoProvider.GetDepartments(SiteContext.CurrentSiteID);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the departments</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (DepartmentInfo department </code><code class="keyword">in</code><code class="plain"> departments)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a relationship between the product coupon and department</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountDepartmentInfoProvider.AddMultiBuyDiscountToDepartment(productCoupon.MultiBuyDiscountID, department.DepartmentID);</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Clears the product coupon's cache record</code></div>
<div class="line"><code class="plain">CMS.Helpers.CacheHelper.TouchKey(MultiBuyDiscountInfo.OBJECT_TYPE_PRODUCT_COUPON + </code><code class="string">"|byid|"</code><code class="plain"> + productCoupon.MultiBuyDiscountID);</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Applyingaproductcoupontobrands">
        <h2 class="heading "><span>Applying a product coupon to brands</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// NOTE: Remove any assigned products, sections, departments or collections from the product coupon before assigning brands</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets the first product coupon on the current site whose name contains 'NewProductCoupon'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo productCoupon = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"NewProductCoupon"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets all brands on the current site</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> brands = BrandInfoProvider.GetBrands().OnSite(SiteContext.CurrentSiteID);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the brands</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (BrandInfo brand </code><code class="keyword">in</code><code class="plain"> brands)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a relationship between the product coupon and brand</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Tip: To add excluded brands to the product coupon, set the method's 'included' parameter to false</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountBrandInfoProvider.AddMultiBuyDiscountToBrand(productCoupon.MultiBuyDiscountID, brand.BrandID, included: </code><code class="keyword">true</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Clears the product coupon's cache record</code></div>
<div class="line"><code class="plain">CMS.Helpers.CacheHelper.TouchKey(MultiBuyDiscountInfo.OBJECT_TYPE_PRODUCT_COUPON + </code><code class="string">"|byid|"</code><code class="plain"> + productCoupon.MultiBuyDiscountID);</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Applyingaproductcoupontocollections">
        <h2 class="heading "><span>Applying a product coupon to collections</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// NOTE: Remove any assigned products, sections, departments or brands from the product coupon before assigning collections</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets the first product coupon on the current site whose name contains 'NewProductCoupon'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo productCoupon = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"NewProductCoupon"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets all collections on the current site</code></div>
<div class="line"><code class="keyword">var</code><code class="plain"> collections = CollectionInfoProvider.GetCollections().OnSite(SiteContext.CurrentSiteID);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Loops through the collections</code></div>
<div class="line"><code class="keyword">foreach</code><code class="plain"> (CollectionInfo collection </code><code class="keyword">in</code><code class="plain"> collections)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a relationship between the product coupon and collection</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Tip: To add excluded collections to the product coupon, set the method's 'included' parameter to false</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountCollectionInfoProvider.AddMultiBuyDiscountToCollection(productCoupon.MultiBuyDiscountID, collection.CollectionID, included: </code><code class="keyword">true</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Clears the product coupon's cache record</code></div>
<div class="line"><code class="plain">CMS.Helpers.CacheHelper.TouchKey(MultiBuyDiscountInfo.OBJECT_TYPE_PRODUCT_COUPON + </code><code class="string">"|byid|"</code><code class="plain"> + productCoupon.MultiBuyDiscountID);</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    <div class="section section-2" id="src-70451258_Discounts-Deletingaproductcoupon">
        <h2 class="heading "><span>Deleting a product coupon</span></h2>
<div class="code panel pdl js-codePanel">
    <div class="codeHeader panelHeader pdl">
    <div class="codeHeader-title">
          </div>
    <div class="codeHeader-actions">
      <button class="codeClipboard button js-codeClipboard">
        <span class="codeClipboard-icon codeClipboard-icon--default icon-doc-copy"></span>
        <span class="codeClipboard-icon codeClipboard-icon--success icon-check"></span>
        <span class="codeClipboard-label">Copy the code</span>
      </button>
      </div>
  </div>
  
    <div class="codeContent panelContent pdl">
        
                
            <pre><code class="js-code language-csharp">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Gets the first product coupon on the current site whose name contains 'NewProductCoupon'</code></div>
<div class="line"><code class="plain">MultiBuyDiscountInfo productCoupon = MultiBuyDiscountInfoProvider.GetProductCouponDiscounts(SiteContext.CurrentSiteID)</code></div>
<div class="line"><code class="plain">															.WhereContains(</code><code class="string">"MultiBuyDiscountName"</code><code class="plain">, </code><code class="string">"NewProductCoupon"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">															.FirstObject;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">if</code><code class="plain"> (productCoupon != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Deletes the product coupon</code></div>
<div class="line"><code class="plain">	MultiBuyDiscountInfoProvider.DeleteMultiBuyDiscountInfo(productCoupon);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </code></pre>
  </div>
</div>
<p><a href="#src-70451258_discounts-toc">&gt; Back to list of examples</a></p>
    </div>
    </div>
                    </div>
                </div>
                    <footer class="ht-content-footer">                
                        <div id="feedback-link-container">
                            <a href="#top" id="back-to-top">
                                <span class="icon-chevron-up"></span>
                                <span class="sr-only">Go back to top</span>
                            </a>
                        </div>   
                    </footer>
                </article></div>
            
        </div>
    </div>

               
            
    <footer id="ht-footer">
  <div class="container">
    <div class="row">
      <div class="col-6">
        <ul class="footer-menu">
          <li>
            <a class="js-qa-link" href="https://devnet.kentico.com/questions-answers" target="_blank">Community Questions &amp; Answers</a>
          </li>
          <li>
            <a class="js-support-link" href="https://devnet.kentico.com/support" target="_blank">Contact support</a>
          </li>    
        </ul>
      </div>
    </div>
  </div>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

  <div id="cookie-banner">
    <div class="container">
      <div class="inner">
        <div class="text">
          We use small cookies to improve your browsing experience and to analyze traffic. To process the analytical cookies, we need your consent.
          <br>You may revoke your consent on the <a href="https://xperience.io/policies/cookies-policy" target="_blank">Cookies Policy</a> 
          page or in your browser at any time.
        </div>
        <button type="submit" value="4" name="CookieLevelSelectedAll" class="button button--primary" onclick="setCookieLevel('analytical')">
          ACCEPT ALL
        </button>
        <button type="submit" value="1" name="CookieLevelSelectedNecessary" class="button button--tertiary" onclick="setCookieLevel('necessary')">
          Use only functional
        </button>
      </div>
    </div>
  </div>
<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>
<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/googleTagManager.js"></script>

<script type="text/javascript" src="assets/js/theme.prism.js"></script>
<script type="text/javascript" src="assets/js/clipboard.min.js"></script>

<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

<script type="text/javascript" src="assets/js/theme.custom.config.js"></script>

<script type="text/javascript" src="assets/js/theme.custom.js"></script>
<script type="text/javascript" src="assets/js/snackbar.js"></script>

<script type="text/javascript" async="">
    // Populates the documentation version switcher header
    // loadVersionLinkData is located in theme.custom.js
    $(window).on('load', loadVersionLinkData(CONFIG.CONFLUENCE_PAGE_TINYID));
</script><script type="text/javascript" src="assets/js/theme.lightbox.js"></script>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>