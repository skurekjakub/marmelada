<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hotfix Instructions - Kentico 11 Source Code - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68882765"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Installation.html">Installation</a></li>
                                                                                     <li><a href="Hotfix-Instructions---Kentico-11.html">Hotfix Instructions - Kentico 11</a></li>
                                                            </ul>
</div>            <h1 id="src-68882765"> <span>Hotfix Instructions - Kentico 11 Source Code</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="section-left"></div><p></p>
<p>Hotfixes allow you to fix problems in your installation of Kentico. You can view the list of fixed bugs on the <a class="external-link" href="http://devnet.kentico.com/download/hotfixes">Kentico DevNet portal</a>.</p>
<p>To obtain source code hotfixes, please use the <a class="external-link" href="https://client.kentico.com/">Kentico Client Portal</a>.</p>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>The following instructions apply only to the source code version of Kentico. For standard installations, please see <a href="hotfix-instructions---kentico-11">Hotfix Instructions - Kentico 11</a>.</p>
        </div>
    </div>
<p></p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong></p>
<p>Hotfixes are not tested for all possible scenarios, so you may experience issues after applying the hotfix.</p>
<p>Always <strong class=" ">back up your project files and database</strong> before applying a hotfix.</p>
        </div>
    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-TableofContents">
        <h1 class="heading "><span>Table of Contents</span></h1>
<p></p>
<ul class="toc-indentation "></ul><p></p>
    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-Installingthehotfix">
        <h1 class="heading "><span>Installing the hotfix</span></h1>
<ol class=" "><li class=" "><p>Run the <strong class=" ">Hotfix_&lt;version&gt;_src.exe</strong> file.</p>
</li><li class=" "><p>Go through the hotfix installation procedure.</p>
</li></ol><p>By default, the installer places the hotfix into the <strong class=" ">C:\Program Files\Kentico\&lt;version&gt;\Hotfix&lt;version&gt;</strong> folder.</p>
    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-Applyingthehotfixtoalocalproject">
        <h1 class="heading "><span>Applying the hotfix to a local project</span></h1>
<ol class=" "><li class=" "><p>If your system stores virtual objects on the file system (due to enabled <a href="deployment-mode-for-virtual-objects">Deployment mode</a> or source control options), return the files to the database. After you apply the hotfix, re-enable deployment mode or source control and rebuild the solution.</p>
</li><li class=" "><p>Run <strong class=" ">Kentico Hotfix Utility (Hotfix.exe)</strong> from the location where you installed the hotfix (<i class=" ">C:\Program Files\Kentico\&lt;version&gt;\Hotfix&lt;version&gt;</i> folder by default).</p>
</li><li class=" "><p>Select your project folder using the <strong class=" ">Browse</strong> button or type in the path to the project manually.</p>
</li><li class=" "><p>Use the application to back up your project files and/or database if you have not already done so.</p>
</li><li class=" "><p>Select which components you want to update. Click <strong class=" ">Switch to advanced mode</strong> if you wish to change the settings. We recommend updating all components.<br></p>
<ul class=" "><li class=" "><p><strong class=" ">Source files</strong> – all files in the source code, except for the web project in the <i class=" ">CMS</i> folder</p>
</li><li class=" "><p><strong class=" ">Setup files</strong> – the Kentico installer and external utilities (which are separate from the web project)</p>
</li><li class=" "><p><strong class=" ">SQL script</strong> – the database structure and data</p>
</li><li class=" "><p><strong class=" ">Kentico files</strong> – the web project files in the <i class=" ">CMS</i> folder</p>
</li></ul></li><li class=" "><p>Choose a method of taking the project offline and back online.</p>
</li><li class=" "><p>Click <strong class=" ">Next</strong> to start the update procedure.</p>
</li><li class=" "><p>After the update finishes, click <strong class=" ">Next</strong> to view any problems that may have occurred and the instructions to solve them.</p>
</li><li class=" "><p>Open the project solution in Visual Studio and follow the <a href="#src-68882765_hotfixinstructionskentico11sourcecode-sourcecodecompilationinstructions">compilation instructions</a>.</p>
</li><li class=" "><p>Rebuild the solution.</p>
</li></ol><p>For more information, see <a href="kentico-hotfix-and-upgrade-utility">Kentico Hotfix and Upgrade Utility</a>.</p>
    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-Applyingthehotfixtoaremoteproject">
        <h1 class="heading "><span>Applying the hotfix to a remote project</span></h1>
<p>If you cannot access your web project directly (for example when the project is located on a remote hosting server), you can use the Hotfix Utility to create the updated file structure and then upload them to your web project location.</p>
<ol class=" "><li class=" "><p>Navigate to the location where you installed the hotfix (<i class=" ">C:\Program Files\Kentico\&lt;version&gt;\Hotfix&lt;version&gt;</i> folder by default).</p>
</li><li class=" "><p>Run <strong class=" ">Hotfix.exe</strong> from the command line with the <strong class=" ">/deploy=net46app</strong> parameter.<br></p>
<p><u class=" ">Example</u>: <i class=" ">Hotfix.exe /deploy=net46app</i><br>This launches the Hotfix Utility, which then creates the files and folders necessary for updating the source code project and saves them into the folder chosen in the first step of the Hotfix Utility wizard.<br><br>Additionally, you can provide the <strong class=" ">/path</strong> parameter to specify the location where the application creates the updated files. This way you do not need to set the path in the first step of the Hotfix Wizard. You can supply the <strong class=" ">/path</strong> parameter in two different formats – <strong class=" ">relative</strong>, which represents a folder in the location from which the utility was executed; or <strong class=" ">absolute</strong>, which can be any path to a local disk.</p>
<p><u class=" ">Example</u>: <i class=" ">Hotfix.exe /deploy=net46app /path=Deploy</i><br>This launches the Hotfix Utility, which then creates a folder named <i class=" ">Deploy</i> in the directory from which the utility was executed and copies all files and folders necessary for updating a source code project into that folder.<br><br></p>
</li><li class=" "><p>Once you have the update files ready, take your website offline. You can do this by copying the <strong class=" ">App_Offline.htm</strong> file from the hotfix installation directory into the root of the remote web project.</p>
</li><li class=" "><p>Upload the update files created by the Hotfix Utility into your remote web project (overwrite the original files).</p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Important</strong></p>
<p>If you have previously modified some of the Kentico project files, DO NOT OVERWRITE these files. You could lose your modifications.</p>
<p>You need to compare the modified files with the new versions and make appropriate changes manually.</p>
        </div>
    </div>
</li><li class=" "><p>Manually execute the hotfix SQL scripts on your Kentico database. The script files are located in the <strong class=" ">SQL</strong> folder of your hotfix installation directory.<br></p>
<ul class=" "><li class=" "><p>If you do not use separated databases – run <strong class=" ">Hotfix_separated.sql</strong> first and then <strong class=" ">Hotfix_default.sql</strong>.</p>
</li><li class=" "><p>If you use <a href="separating-the-contact-management-database">separated databases</a> – run <strong class=" ">Hotfix_separated.sql </strong>on the separated database and <strong class=" ">Hotfix_default.sql </strong>on your main database.</p>
</li><li class=" "><p>Note: The script files may be empty if the given hotfix does not require any SQL scripts for the related tables (skip the file in these cases).</p>
</li></ul></li><li class=" "><p>Open the project in Visual Studio, follow the <a href="#src-68882765_hotfixinstructionskentico11sourcecode-sourcecodecompilationinstructions">compilation instructions</a>, and rebuild the solution.</p>
</li><li class=" "><p>Bring your website back online (delete the <strong class=" ">App_Offline.htm</strong> file).</p>
</li></ol>    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-Afterapplyingthehotfix">
        <h1 class="heading "><span>After applying the hotfix</span></h1>
<p>All users who work with the Kentico administration interface should <strong class=" ">clear the cache</strong> in their browsers after applying the hotfix. Otherwise, some features in the administration interface may not be displayed correctly.</p>
<p>After applying the hotfix to a development instance that has <a href="setting-up-continuous-integration">continuous integration</a> enabled, you need to run complete serialization for all objects to recreate the content of the <i class=" ">CIRepository</i> folder (use the <strong class=" ">Continuous integration</strong> application in the Kentico administration interface). Apply the hotfix separately for each instance in your development environment. After one developer commits the hotfixed changes to the source control, other developers CANNOT commit or load changes until they apply the hotfix to their own instance.</p>
    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-Updatingsetupfilesandexternalutilities">
        <h1 class="heading "><span>Updating setup files and external utilities</span></h1>
<p>Hotfixes provide bug fixes for all files related to the Kentico installation, which includes the installer and other external utilities, such as Kentico Installation Manager and Kentico Service Manager.</p>
<p>To update these files and utilities, you need to apply the hotfix to the setup files:</p>
<ol class=" "><li class=" "><p>When running the hotfix utility, click <strong class=" ">Switch to advanced mode</strong> in the <strong class=" ">Change confirmation</strong> step.</p>
</li><li class=" "><p>Select the <strong class=" ">Setup files</strong> checkbox.</p>
</li><li class=" "><p>Click <strong class=" ">Next</strong>.</p>
</li><li class=" "><p>In the <strong class=" ">Running applications</strong> step, stop any applications that are currently running from the setup files.</p>
</li><li class=" "><p>Click <strong class=" ">Next</strong> and continue through the rest of the hotfix procedure.</p>
</li></ol><p>The hotfix makes any required changes to the files in the directory where you installed your Kentico setup files.</p>
    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-Sourcecodecompilationinstructions">
        <h1 class="heading "><span>Source code compilation instructions</span></h1>
<p>After applying the hotfix, please perform the following steps in Visual Studio to ensure that the source code works correctly and can be compiled:</p>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.10">
        <h2 class="heading "><span>11.0.10</span></h2>
<ul class=" "><li class=" "><p>Install the <strong class=" ">Newtonsoft.Json</strong> NuGet package into the <strong class=" ">UIControls</strong> project (right-click the project in the <i class=" ">Solution Explorer</i> and select <strong class=" ">Manage NuGet Packages</strong>). The package version must be <strong class=" ">7.0.1</strong> (or newer).</p>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.47">
        <h2 class="heading "><span>11.0.47</span></h2>
<ul class=" "><li class=" "><p>E-commerce – Applying hotfix 11.0.39 or newer introduced a change in the e-commerce API, which could cause undetected broken functionality for sites with a <a href="customizing-tax-calculation">customized tax calculation process</a>. After applying hotfix 11.0.47, a <strong class=" ">runtime and compilation error</strong> now occurs for projects with custom code that attempts to set the <strong class=" ">TotalTax</strong> property of <strong class=" ">TaxCalculationResult</strong> objects. In these cases, you need to update your code to set the new <strong class=" ">ItemsTax</strong> and <strong class=" ">ShippingTax</strong> properties instead.</p>
</li></ul>    </div>
    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-Additionalnotesandworkarounds">
        <h1 class="heading "><span>Additional notes and workarounds</span></h1>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.3">
        <h2 class="heading "><span>11.0.3</span></h2>
<ul class=" "><li class=" "><p>REST – The <a href="kentico-rest-service">REST service</a> limits the length of request data in JSON format to 2097152 characters (4 MB of Unicode string data) by default, which is not sufficient in certain cases (for example when creating attachment objects with large binary data). If you need to adjust the limit, apply the hotfix and add the <strong class=" ">CMSRestMaxJsonLength</strong> key to the <i class=" ">appSettings</i> section of your project's web.config file.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;</code><code class="keyword">add</code><code class="plain"> </code><code class="color1">key</code><code class="plain">=</code><code class="string">"CMSRestMaxJsonLength"</code><code class="plain"> </code><code class="color1">value</code><code class="plain">=</code><code class="string">"2147483647"</code><code class="plain"> /&gt;</code></div>
</div>
    </div>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.5">
        <h2 class="heading "><span>11.0.5</span></h2>
<ul class=" "><li class=" "><p>Cultures – The <strong class=" ">Related pages</strong> web part did not take the <strong class=" ">Combine with default culture</strong> setting into account and always displayed the default culture version for untranslated related pages. After applying the hotfix, the web part only displays related pages that exist in the visitor's currently selected culture if the <i class=" ">Combine with default culture</i> setting is disabled.</p>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.8">
        <h2 class="heading "><span>11.0.8</span></h2>
<ul class=" "><li class=" "><p>Facebook integration – The hotfix adds support for app secret proof parameters when communicating with integrated Facebook apps. If your website uses the <a href="integrating-social-media">Facebook page integration</a> features or <a href="facebook-authentication">Facebook authentication</a>, we strongly recommend applying the hotfix and then securing your Facebook app:</p>
<ol class=" "><li class=" "><p>Open the Facebook App editing page at <a class="external-link" href="https://developers.facebook.com/apps">https://developers.facebook.com/apps</a>.</p>
</li><li class=" "><p>Select your app and view the <strong class=" ">Settings -&gt; Advanced</strong> tab.</p>
</li><li class=" "><p>Scroll down to the <strong class=" ">Security</strong> section and switch the <strong class=" ">Require App Secret</strong> option to <i class=" ">Yes</i>.</p>
</li><li class=" "><p>Click <strong class=" ">Save Changes</strong>.</p>
</li></ol></li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.9">
        <h2 class="heading "><span>11.0.9</span></h2>
<ul class=" "><li class=" "><p>The <a href="displaying-sharepoint-data-in-kentico">SharePoint data source</a> web part did not correctly handle multiselect fields with complex types. The hotfix ensures that the data source processes such fields into strings consisting of the type's properties separated by semicolon (;) characters, and different entries separated by newline characters (environment specific). To display data from multiselect SharePoint fields, you need to manually parse the values within the <a href="writing-transformations">transformations</a> applied to the data source's output. For example:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;%# String.Join(</code><code class="string">" and "</code><code class="plain">, String.Split(Eval&lt;string&gt;(</code><code class="string">"MultiselectField"</code><code class="plain">), Environment.NewLine).Select(l =&gt; String.Format(</code><code class="string">"{1} ({0})"</code><code class="plain">, String.Split(l, </code><code class="string">";"</code><code class="plain">)))) %&gt;</code></div>
</div>
    </div>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.10.1">
        <h2 class="heading "><span>11.0.10</span></h2>
<ul class=" "><li class=" "><p>The original implementation of the <strong class=" ">reCAPTCHA</strong> form control will stop working after March 31, 2018. The hotfix updates the control to use reCAPTCHA v2. Please register your site again at <a class="external-link" href="https://www.google.com/recaptcha/admin">https://www.google.com/recaptcha/admin</a>, select the <i class=" ">reCAPTCHA v2</i> type, and copy the new API keys into the corresponding Kentico settings. For more information, see <a href="spam-protection-%28captcha%29">Spam protection (CAPTCHA)</a>.</p>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.15">
        <h2 class="heading "><span>11.0.15</span></h2>
<ul class=" "><li class=" "><p>Licensing – After evaluating feedback from partners and clients, Kentico has decided to change the license limitations on the maximum number of enabled <a href="products">products</a> and make them less restricted. Applying the hotfix removes the limit completely for <i class=" ">Kentico CMS Ultimate</i> license editions and increases the limit to 500 products for <i class=" ">Kentico CMS Base</i> editions. For more information about license editions, see the <a class="external-link" href="https://www.kentico.com/purchase/configure-your-license">Configure Your License</a> page on <a class="external-link" href="https://kentico.com">kentico.com</a>.</p>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.19">
        <h2 class="heading "><span>11.0.19</span></h2>
<ul class=" "><li class=" "><p>LinkedIn integration – Effective May 18th, 2018, the LinkedIn API will no longer work with the original OAuth 1.0 implementation in Kentico. The hotfix updates the system to use OAuth 2.0 authentication for <a href="integrating-social-media">LinkedIn company management</a> and <a href="linkedin-authentication">LinkedIn authentication</a> functionality. After applying the hotfix, you need to manually perform the following:</p>
<ul class=" "><li class=" "><p>If you use LinkedIn authentication:</p>
<ol class=" "><li class=" "><p>Sign in to <a class="external-link" href="https://www.linkedin.com/secure/developer">https://www.linkedin.com/secure/developer</a>.</p>
</li><li class=" "><p>Select your app on the My applications page.</p>
</li><li class=" "><p>On the <strong class=" ">Authentication</strong> tab of the Application Settings, add the URLs of all website pages that provide LinkedIn authentication (i.e. pages that display the <a href="web-parts-available-for-linkedin-authentication">LinkedIn logon web part</a>). Enter the full absolute URL into the <strong class=" ">Authorized Redirect URLs</strong> field (under <i class=" ">OAuth 2.0</i>), including the protocol, domain, virtual directory and trailing slash (if necessary). For example: <i class=" ">https://mydomain.com/Special-pages/SignIn</i></p>
</li><li class=" "><p>Click <strong class=" ">Add</strong> for each URL.</p>
</li><li class=" "><p>Click <strong class=" ">Update</strong> after you add all required redirect URLs.</p>
</li></ol></li><li class=" "><p>If you use LinkedIn company profile management:</p>
<ol class=" "><li class=" "><p>Sign in to <a class="external-link" href="https://www.linkedin.com/secure/developer">https://www.linkedin.com/secure/developer</a>.</p>
</li><li class=" "><p>Select your app on the My applications page.</p>
</li><li class=" "><p>On the <strong class=" ">Authentication</strong> tab of the Application Settings, enter the following value into the <strong class=" ">Authorized Redirect URLs</strong> field (under <i class=" ">OAuth 2.0</i>):<br><i class=" "><i class=" ">&lt;your website's domain&gt;/CMSModules/SocialMarketing/Pages/LinkedInCompanyAccessTokenDialog.aspx<br></i></i></p>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>The redirect URL value must be absolute, including the protocol, domain and virtual directory. For example:<br><i class=" ">https://mydomain.com/CMSModules/SocialMarketing/Pages/LinkedInCompanyAccessTokenDialog.aspx</i></p>
<p>If your website's administration interface is available on multiple domains, add all of the possible options.</p>
        </div>
    </div>
</li><li class=" "><p>Click <strong class=" ">Add</strong>.</p>
</li><li class=" "><p>Click<strong class=" "> Update</strong>.</p>
</li><li class=" "><p>Generate new authentication tokens for all LinkedIn company profiles registered in Kentico:</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">LinkedIn</strong> application in Kentico.</p>
</li><li class=" "><p>Select the <strong class=" ">Company profiles</strong> tab.</p>
</li><li class=" "><p>Edit the company profile and switch to the <strong class=" ">General</strong> tab.</p>
</li><li class=" "><p>Click <strong class=" ">Reauthorize</strong> next to <strong class=" ">Company</strong>.</p>
</li><li class=" "><p>In the opened dialog, enter your LinkedIn account credentials and click <strong class=" ">Allow access</strong>.</p>
</li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li></ol></li></ol></li></ul></li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.23">
        <h2 class="heading "><span>11.0.23</span></h2>
<ul class=" "><li class=" "><p>Web farms – The system creates and processes redundant web farm synchronization tasks in environments where multiple web farm instances share a single file system. A common example is when running Kentico as a <a href="enabling-web-farms-on-azure-web-apps">scaled out Azure Web App</a> (i.e., the instance is utilizing multiple web farm servers). If you run Kentico in this type of scenario, apply the hotfix, add the <strong class=" ">CMSSharedFileSystem</strong> configuration key to the <i class=" ">appSettings</i> section of your project's <i class=" ">web.config</i> file, and redeploy the project:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;</code><code class="keyword">add</code><code class="plain"> </code><code class="color1">key</code><code class="plain">=</code><code class="string">"CMSSharedFileSystem"</code><code class="plain"> </code><code class="color1">value</code><code class="plain">=</code><code class="string">"true"</code><code class="plain">/&gt;</code></div>
</div>
    </div>
<p>The key signals Kentico that it is running on shared storage, and configures web farm behavior accordingly.</p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Important</strong>: If you have the <i class=" ">CMSSharedFileSystem</i> key enabled, use <a href="using-locally-stored-search-indexes">local search indexes</a>, and run Kentico as a <a href="enabling-web-farms-on-azure-web-apps">scaled out Azure Web App</a>, you need to apply hotfix<strong class=" "> 11.0.43</strong> or newer. Otherwise search indexing will not work correctly.</p>
        </div>
    </div>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.25">
        <h2 class="heading "><span>11.0.25</span></h2>
<ul class=" "><li class=" "><p>Email marketing – <a href="preparing-email-widgets">Email widgets</a> did not reflect the selected UI culture when storing their properties, which could lead to an error when editing the widget. For example, an error occurred when the preferred UI culture used a different date format than the <i class=" ">en-US</i> culture. After applying the hotfix, you need to manually replace the affected widgets in your marketing emails and re-save their configuration.</p>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.27">
        <h2 class="heading "><span>11.0.27</span></h2>
<ul class=" "><li class=" "><p>Geolocation – By default, the <a href="using-geolocation-for-contacts">geolocation feature</a> in Kentico 11 uses MaxMind's GeoLite or GeoIP Legacy Databases, which will be <a class="external-link" href="https://blog.maxmind.com/2018/01/02/discontinuation-of-the-geolite-legacy-databases/">discontinued</a> in the future. If you wish to integrate MaxMind's newer GeoIP2 Databases, use the following manual process:</p>
<ol class=" "><li class=" "><p>Apply hotfix 11.0.27 or newer to your Kentico instance.</p>
</li><li class=" "><p>Open your Kentico source code solution in Visual Studio.</p>
</li><li class=" "><p>Install the <strong class=" ">Kentico.Geolocation.Update-v11</strong> NuGet package into the <strong class=" ">CMSApp</strong> and <strong class=" ">WebAnalytics</strong> projects (right-click the solution in the <i class=" ">Solution Explorer</i> and select <strong class=" ">Manage NuGet Packages for Solution</strong>).</p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong>: The package also installs several required dependencies, such as the <strong class=" ">MaxMind.GeoIP2</strong> package and version 11.0.2 of the <strong class=" ">Newtonsoft.Json</strong> package. You need to accept all license agreements and ensure that these packages work correctly (including any customizations you may have in your solution). You also need to <strong class=" ">consolidate</strong> the <i class=" ">Newtonsoft.Json</i> package versions for all projects within the solution.</p>
        </div>
    </div>
</li><li class=" "><p>Download the free <a class="external-link" href="https://dev.maxmind.com/geoip/geoip2/geolite2/">GeoLite2 City</a> database or purchase the <a class="external-link" href="https://www.maxmind.com/en/geoip2-city">GeoIP2 City</a> database (provides more accuracy and details).</p>
</li><li class=" "><p>Place the database file into your project's <i class=" ">CMS\App_Data\CMSModules\WebAnalytics\MaxMind</i> folder.</p>
</li><li class=" "><p>Open the <i class=" ">web.config</i> file of your <i class=" ">CMSApp</i> project, and make sure the <strong class=" ">CMSGeoIPLocationFileName</strong> key (in the <i class=" ">appSettings</i> section) is set according to the name of your geolocation database file (<i class=" ">GeoLite2-City.mmdb</i> or <i class=" ">GeoIP2-City.mmdb</i>).</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;add key=</code><code class="string">"CMSGeoIPLocationFileName"</code><code class="plain"> value=</code><code class="string">"GeoIP2-City.mmdb"</code><code class="plain"> /&gt;</code></div>
</div>
    </div>
</li><li class=" "><p>(Optional) If you also wish to use the GeoLite2 ASN database to determine the organization name of visiting contacts, download the <a class="external-link" href="https://dev.maxmind.com/geoip/geoip2/geolite2/">GeoLite2 ASN</a> database file (<i class=" ">GeoLite2-ASN.mmdb</i>) and place it into your project's <i class=" ">CMS\App_Data\CMSModules\WebAnalytics\MaxMind</i> folder.</p>
</li></ol></li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.29">
        <h2 class="heading "><span>11.0.29</span></h2>
<ul class=" "><li class=" "><p>E-commerce – When displaying <a href="working-with-coupon-codes">coupon codes</a> added to a customer's shopping cart, it was not possible to adjust the appearance of codes that are no longer valid (for example after products are removed from the cart and the total price falls under the value required by the coupon code's discount). After applying the hotfix, coupon code transformations provide a new <strong class=" ">IsApplied</strong> data property, which can be used to evaluate whether codes are still valid. You can adjust your site's transformations, and use the new property to add formatting options for invalid coupon codes. For example:<br></p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Text / XML transformation</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Text / XML transformation" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;div </code><code class="keyword">class</code><code class="plain">=</code><code class="string">"label"</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">  &lt;span {% </code><code class="keyword">if</code><code class="plain"> (!IsApplied) {</code><code class="string">"style='text-decoration: line-through'"</code><code class="plain">} %}&gt;</code></div>
<div class="line"><code class="plain">    {% HTMLEncode(Code) %}</code></div>
<div class="line"><code class="plain">  &lt;/span&gt;</code></div>
<div class="line"><code class="plain">&lt;/div&gt;</code></div>
</div>
    </div>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.35">
        <h2 class="heading "><span>11.0.35</span></h2>
<ul class=" "><li class=" "><p>Pages – <a href="setting-page-aliases">Page aliases</a> containing <a href="wildcard-urls">wildcards</a> were processed in an incorrect order in certain cases. For example, if a page had two aliases with paths like <i class=" ">/page/{param}</i> and <i class=" ">/page/{p1}-{p2}</i>, accessing the URL path <i class=" ">/page/value1-value2</i> resulted in the first alias being selected instead of the second (the value of the <i class=" ">param</i> parameter was <i class=" ">value1-value2</i>, and the <i class=" ">p1</i> and <i class=" ">p2</i> parameters were not set). After applying the hotfix, you need to manually resave all page aliases where this problem occurs.</p>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.39">
        <h2 class="heading "><span>11.0.39</span></h2>
<ul class=" "><li class=" "><p>E-commerce – Certain payment gateways (e.g. <a href="configuring-paypal">PayPal</a>) require data with separate tax values for the purchased items and the shipping costs, instead of a single overall tax value. Applying the hotfix ensures that payments using the default PayPal provider no longer fail if the site is configured to include tax in prices. If you have customized your site's <a href="customizing-tax-calculation">tax calculation process</a> by creating a custom <strong class=" ">ITaxCalculationService</strong> implementation, you need to manually update your code after applying the hotfix – when preparing <strong class=" ">TaxCalculationResult</strong> objects, do not use the setter of the <strong class=" ">TotalTax</strong> property. Instead, you need to separately set the new <strong class=" ">ItemsTax</strong> and <strong class=" ">ShippingTax</strong> properties.</p>
</li></ul>    </div>
    <div class="section section-2" id="src-68882765_HotfixInstructionsKentico11SourceCode-11.0.42">
        <h2 class="heading "><span>11.0.42</span></h2>
<ul class=" "><li class="conf-macro output-inline "><p>Facebook integration – Due to changes in the Facebook API and updated security requirements, the initial <a href="integrating-social-media">Facebook page publishing</a> functionality in Kentico 11 no longer works and <a href="facebook-authentication">Facebook authentication</a> requires configuration changes in the related Facebook app. To use the features, you need to apply the hotfix and manually perform the following changes:</p>
<ul class=" "><li class="conf-macro output-inline "><p>If you use Facebook authentication:</p>
<ol class=" "><li class="conf-macro output-inline "><p>Log in to <a class="external-link" href="https://developers.facebook.com/apps">https://developers.facebook.com/apps</a>.</p>
</li><li class="conf-macro output-inline "><p>Click the Facebook app that you use for your website.</p>
</li><li class=" "><p>Open the <strong class=" ">Settings</strong> tab of the app's <strong class=" ">Facebook Login</strong> product.</p>
</li><li class=" "><p>In the <strong class=" ">Valid OAuth redirect URIs</strong> field, enter the URLs of all pages from your website where you wish to allow Facebook authentication (i.e. pages that display the <i class=" ">Facebook Connect logon</i> web part).</p>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>The redirect URI values must be absolute, including the protocol, domain and virtual directory. For example:<i class=" "> https://mydomain.com/Special-pages/SignIn</i><i class=" "></i></p>
<p>If your website is available on multiple domains, add all of the possible options.</p>
<p>See also: <a class="external-link" href="https://developers.facebook.com/blog/post/2017/12/18/strict-uri-matching/">Strict URI Matching</a></p>
        </div>
    </div>
</li><li class=" "><p>Click <strong class=" ">Save Changes</strong>.</p>
</li><li class=" "><p>If you wish to retrieve user birthday and location data from Facebook, you additionally need to submit your app for <strong class=" ">App Review</strong> and request the <strong class=" ">user_birthday</strong> and <strong class=" ">user_location</strong> permissions.</p>
</li></ol></li><li class="conf-macro output-inline "><p>If you use Facebook page publishing:</p>
<ol class=" "><li class="conf-macro output-inline "><p>Log in to <a class="external-link" href="https://developers.facebook.com/apps">https://developers.facebook.com/apps</a>.</p>
</li><li class="conf-macro output-inline "><p>Click the Facebook app that you use for your website.</p>
</li><li class=" "><p>Open the <strong class=" ">Settings</strong> tab of the app's <strong class=" ">Facebook Login</strong> product.</p>
</li><li class="conf-macro output-inline "><p>Enter the following values into the <strong class=" ">Valid OAuth redirect URIs</strong> field:</p>
<ul class=" "><li class=" "><p><i class=" ">&lt;your website's domain&gt;/CMSModules/SocialMarketing/Pages/FacebookPageAccessTokenDialog.aspx</i></p>
</li><li class=" "><p><i class=" ">&lt;your website's domain&gt;/CMSModules/SocialMarketing/Pages/FacebookPageAccessTokenDialog.aspx?redirected=1</i></p>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>The redirect URI values must be absolute, including the protocol, domain and virtual directory. For example:<br><i class=" "> https://mydomain.com/<i class=" ">CMSModules/SocialMarketing/Pages/FacebookPageAccessTokenDialog.aspx</i></i></p>
<p>If your website's administration interface is available on multiple domains, add all of the possible options.</p>
        </div>
    </div>
</li></ul></li><li class="conf-macro output-inline "><p>Click <strong class=" ">Save Changes</strong>.</p>
</li><li class="conf-macro output-inline "><p>Switch to the <strong class=" ">App Review</strong> tab and make sure your app has the following permissions as approved items:<br></p>
<ul class=" "><li class="conf-macro output-inline "><p><strong class=" ">manage_pages</strong> and <strong class=" ">publish_pages</strong> – required to retrieve Page Access Tokens and <a href="posting-to-social-media">post content</a> from Kentico to Facebook pages.<strong class=" "></strong></p>
</li><li class=" "><p><strong class=" ">read_insights</strong> – required to retrieve <a href="viewing-facebook-insights">Facebook Insights statistics</a> about published posts and the related pages.</p>
</li></ul></li><li class="conf-macro output-inline "><p>If your app is missing any of the required permissions, create a submission, add the permission items, and submit your app for review.</p>
</li><li class="conf-macro output-inline "><p>In Kentico, open the <strong class=" ">Facebook</strong> application, select the <strong class=" ">Pages</strong> tab, and check that your pages are valid:</p>
<ul class=" "><li class="conf-macro output-inline "><p>Existing pages with a valid access token should remain functional.</p>
</li><li class="conf-macro output-inline "><p>When adding new pages or renewing the access token, you now need to set the <strong class=" ">Facebook page ID</strong> instead of the originally used page URL. You can find the Page ID value on the <i class=" ">About</i> tab of the given page on Facebook.</p>
</li></ul></li></ol></li></ul></li></ul>    </div>
    </div>
    <div class="section section-1" id="src-68882765_HotfixInstructionsKentico11SourceCode-Fixedbugs">
        <h1 class="heading "><span>Fixed bugs</span></h1>
<p>For a full list of bugs covered by the hotfix, open the <a class="external-link" href="http://devnet.kentico.com/download/hotfixes">Hotfixes page</a> on DevNet and click <strong class=" ">Fixed bugs</strong> for the appropriate Kentico version.</p>
    </div>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>