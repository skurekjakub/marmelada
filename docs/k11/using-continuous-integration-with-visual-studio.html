<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Using continuous integration with Visual Studio - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260" elementpageid="68880573">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68880573"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Developing-websites.html">Developing websites</a></li>
                                                                                                         <li class="shortcut"><a href="Preparing-your-environment-for-team-development.html">Preparing your environment for team development</a></li>
                                                                                     <li><a href="Setting-up-continuous-integration.html">Setting up continuous integration</a></li>
                                                            </ul>
</div>            <h1 id="src-68880573"> <span>Using continuous integration with Visual Studio</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="sp-grid-cell sp-grid-60"><p>This page contains best practices and tips for developing projects in Visual Studio in combination with a <i class=" ">Team Foundation Version Control</i> or <i class=" ">Git</i> source control repository and the Kentico <a href="setting-up-continuous-integration">continuous integration</a> solution. Many of the recommendations also apply generally when using continuous integration with any type of source control system.</p><p>For detailed instructions and additional information, please refer to the following resources:</p><ul class=" "><li class=" "><p><a class="external-link" href="https://www.visualstudio.com/en-us/docs/tfvc/overview">Use Team Foundation Version Control</a></p>
</li><li class=" "><p><a class="external-link" href="https://msdn.microsoft.com/en-us/library/hh850437(v=vs.120).aspx">Use Visual Studio with Git</a></p>
</li></ul><h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Setting up workspaces</span></h3><p>When using a <i class=" ">Team Foundation Version Control</i> repository, developers need to set up their Kentico project and <i class=" ">CIRepository</i> folder within a <strong class=" ">Local</strong> workspace. Server workspaces are not supported.</p><p>See the <a class="external-link" href="https://www.visualstudio.com/en-us/docs/tfvc/decide-between-using-local-server-workspace">Decide between using a local or a server workspace</a> article for more information about the workspace location types.</p><h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Creating and deleting objects</span></h3><p>When you add a new object or delete an existing one in Kentico, the system creates or removes the corresponding XML files. You may need to perform additional actions to correctly track such changes, depending on the type of your source control repository:</p><ul class=" "><li class=" "><p class="auto-cursor-target"><strong class=" ">Team Foundation Version Control</strong> - by default, changes that create new files or delete existing ones appear in the list of <i class=" ">Excluded changes</i> in the <i class=" ">Visual Studio Team Explorer</i>. You need to view the detected <i class=" ">Add</i> or <i class=" ">Delete</i> operations and <i class=" ">Promote</i> the changes before you can check them in to the source control.</p>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Info</strong></p>
<p><i class=" ">Team Foundation Version Control</i> by default excludes the <i class=" ">*.class</i> and <i class=" ">*.user</i> file extensions. These extensions appear as part of certain directory names in the <i class=" ">CIRepository </i><a href="continuous-integration-repository-structure">folder structure</a>, for example, <i class=" ">cms.user</i> or <i class=" ">cms.class.</i> As a result, files contained in these directories will not show under <i class=" ">Pending</i> nor <i class=" ">Detected Changes</i> in the <i class=" ">Visual Studio Team Explorer</i>.</p>
<p>To fix this issue, you need to <a class="external-link" href="https://www.visualstudio.com/en-us/docs/tfvc/add-files-server#customize-which-files-are-ignored-by-version-control">add a .tfignore</a> file with the <strong class=" ">    <span style="color: #000000;">
!*.*    </span>
</strong> rule to the root of the <i class=" ">CIRepository</i> folder, which tells the version control system not to ignore any changes made under the specified location.</p>
        </div>
    </div>
</li><li class=" "><p><strong class=" ">Git</strong> - when viewing <i class=" ">Changes,</i> files representing new objects appear in the <i class=" ">Untracked Files</i> section (delete operations are tracked automatically). You need to <i class=" ">Add</i> the files before you can <i class=" ">Commit</i> and <i class=" ">Push</i> them to a shared repository.</p>
</li></ul><p><br></p></div>

    


    


    <div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-settingupworkspaces">Setting up workspaces</a></p>
</li><li class=" "><p><a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-creatinganddeletingobjects">Creating and deleting objects</a></p>
</li><li class=" "><p><a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-changingobjectidentifiers">Changing object identifiers</a></p>
</li><li class=" "><p><a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-checkinginchanges">Checking in changes</a></p>
</li><li class=" "><p><a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-gettingnewversionsoftherepositorycontent">Getting new versions of the repository content</a></p>
</li><li class=" "><p><a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-resolvingobjectconflicts">Resolving object conflicts</a></p>
</li><li class=" "><p><a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-undoingchanges">Undoing changes</a></p>
</li><li class=" "><p><a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-workingwithwebapplicationprojects">Working with web application projects</a></p>
</li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="setting-up-continuous-integration">Setting up continuous integration</a></p>
</li><li class=" "><p><a href="continuous-integration-repository-structure">Continuous integration repository structure</a></p>
</li><li class=" "><p><a href="object-types-supported-by-continuous-integration">Object types supported by continuous integration</a></p>
</li></ul>        </div>
    </div></div>
    
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Changing object identifiers</span></h3>
<p>Identifiers are values that the continuous integration solution uses to determine the names and locations of files representing objects in the <i class=" ">CIRepository</i> folder:</p>
<ul class=" "><li class=" "><p>In most cases, objects use their <strong class=" ">code name</strong> as the identifier.</p>
</li><li class=" "><p>Object types that do not have a suitable code name use other values (a notable example are pages, which use their <i class=" ">alias path</i> as the primary identifier).</p>
</li><li class=" "><p>Identifiers may also include values of related objects, such as the code name of the parent object, the name of the related site, etc.</p>
</li></ul><p>Avoid making changes to object identifiers if possible, particularly for objects that have a large number of child objects or affect the identity of other objects (such as sites). This also includes operations that change the identifier indirectly, for example moving a child object under a different parent.</p>
<p>When an object's identifier changes, the continuous integration solution <i class=" "><strong class=" ">deletes</strong></i> the file representing the object in the file system and creates a new one based on the new identifier. This causes a <i class=" "><strong class=" ">loss of the file's version history</strong></i> in the source control and makes it difficult to merge changes made to the same object by other developers.</p>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Checking in changes</span></h3>
<p>When checking in (committing) changes to your source control, we strongly recommend including <strong class=" ">all</strong> detected file changes in the <i class=" ">CIRepository</i> folder. It may not be obvious which files correspond to specific changes made in the Kentico administration interface. Certain objects are represented by multiple files and changes may also affect related objects or relationships between objects.</p>
<p>To learn more about how objects are represented in the <i class=" ">CIRepository</i> folder, see the following pages:</p>
<ul class=" "><li class=" "><p><a href="continuous-integration-repository-structure">Continuous integration repository structure</a></p>
</li><li class=" "><p><a href="object-types-supported-by-continuous-integration">Object types supported by continuous integration</a></p>
</li></ul>    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Getting new versions of the repository content</span></h3>
<p>Whenever you load a different version of any files in the <i class=" ">CIRepository</i> folder from your source control, you need to:</p>
<ol class=" "><li class=" "><p>Merge any files that conflict with your instance's local versions. See also: <a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-resolvingobjectconflicts">Resolving object conflicts</a></p>
</li><li class=" "><p><a href="restoring-continuous-integration-files-to-the-database">Restore the objects into your database</a>.</p>
</li></ol><p>The restore operation ensures that your instance's database is consistent with the file system repository. If you continue working on the instance without performing the restore operation, changes to local data may overwrite the new versions of the files that you loaded from the source control.</p>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Resolving object conflicts</span></h3>
<p>You may encounter object conflicts when getting or checking in <i class=" ">CIRepository</i> files. Conflicts happen if your local folder and the opposing folder contain a file with the same name, but different content. File names are based on unique identifiers of objects (in most cases the object's code name).</p>
<p>For more information about the identifiers of <i class=" ">CIRepository</i> files, see the <a href="#src-68880573_usingcontinuousintegrationwithvisualstudio-changingobjectidentifiers">Changing object identifiers</a> section and <a href="continuous-integration-repository-structure">Continuous integration repository structure</a> page.</p>
<p><strong class=" ">Planned conflicts</strong> can occur if you need to create <i class=" "><strong class=" ">the same object</strong></i> across your entire development environment. For example, multiple developers may create a web part category with the same name when starting development of custom web parts. Even if the objects have completely identical values for all configurable properties, a conflict will occur during synchronization, because the object's GUID (globally unique identifier) value is different for each developer.</p>
<p>The best solution is to have one developer create the object and check in the resulting XML files to the central source control. Other developers then load the XML files from the source control and <a href="restoring-continuous-integration-files-to-the-database">restore the object</a> to their local database. This approach completely avoids object conflicts and file merging.</p>
<p>If you cannot avoid an object conflict and need to merge XML files, always use the GUID value that is already checked in to the source control and replace your local GUID. Do NOT push your local GUID values to the source control â€“ this could cause conflicts for all other developers in your environment.</p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong>:</p>
<ul class=" "><li class=" "><p>The XML elements and attributes used in the content of <i class=" ">CIRepository</i> files are <i class=" "><strong class=" ">case sensitive</strong></i>. Make sure you preserve the letter case if you edit the XML content when merging files.<br><br></p>
</li><li class=" "><p>If you change an object's GUID during conflict resolution and then <a href="restoring-continuous-integration-files-to-the-database">restore the object</a> to your database, you may need to manually fix broken references on your local development instance. For example, object and page fields that allow uploading of files store the GUID of the selected metafile or attachment object.</p>
</li></ul>        </div>
    </div>
<p><strong class=" ">Unplanned conflicts</strong> occur if developers unintentionally create <i class=" "><strong class=" ">different objects</strong></i> of the same type with matching identifiers (typically code names) and then synchronize through the source control. In such cases, you need to contact the developer who checked in the conflicting XML file and one of you must delete and recreate the object with a different identifier (or rename the identifier values). We strongly recommend changing the local object that is not checked in to the source control yet, which prevents potential conflicts for other developers.</p>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Undoing changes</span></h3>
<p>We do not recommend using the Visual Studio <strong class=" ">Undo</strong> action for changes that create new files. Undoing changes may lead to inconsistencies between the state of the file system repository and the database. You can instead delete the given object in the Kentico interface, which also makes the corresponding changes in the file system.</p>
<p>If you undo a delete or modify operation and revert an XML file to its previous state, you then need to <a href="restoring-continuous-integration-files-to-the-database">restore the objects into the database</a> to reverse the object changes in Kentico.</p>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Working with web application projects</span></h3>
<p>For Kentico projects installed as a web application, the <i class=" ">App_Data/CIRepository</i> folder and its file content does not need to be included in the <strong class=" ">CMSApp</strong> project. Note that the folder still must be mapped to your source control (we strongly recommend having the entire Kentico project folder mapped).</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>