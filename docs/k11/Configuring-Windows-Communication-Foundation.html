<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Configuring Windows Communication Foundation - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68881901"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                     <li><a href="Configuring-Kentico.html">Configuring Kentico</a></li>
                                                            </ul>
</div>            <h1 id="src-68881901"> <span>Configuring Windows Communication Foundation</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<p   
>This page describes the installation and configuration process of <strong class=" ">Windows Communication Foundation (WCF)</strong>. You need to configure WCF to use the following Kentico features:</p>
<ul class=" "><li class=" "><p   
>  <a   href="Designing-advanced-workflows">Advanced workflow designer</a></p>
</li><li class=" "><p   
>  <a   href="Working-with-the-automation-process-designer">Marketing automation process designer</a></p>
</li><li class=" "><p   
>  <a   href="Chat">Chat</a> application</p>
</li><li class=" "><p   
>  <a   href="Kentico-REST-service">REST service</a></p>
</li></ul>    <h3 id="src-68881901_ConfiguringWindowsCommunicationFoundation-WCFoverview" class="heading "><span>WCF overview</span></h3>
<p   
>WCF is a component of the .NET Framework that provides a programming model for building service-oriented multi-platform applications that communicate across the web. For more information about the technology, visit the <a  class="external-link" href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/whats-wcf">What Is Windows Communication Foundation</a> page in the Microsoft documentation.</p>
    <div  class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
>  <a   href="#src-68881901_ConfiguringWindowsCommunicationFoundation-WCFoverview">WCF overview</a></p>
</li><li class=" "><p   
>  <a   href="#src-68881901_ConfiguringWindowsCommunicationFoundation-InstallingWCF">Installing WCF</a></p>
<ul class="toc-indentation "><li class=" "><p   
>  <a   href="#src-68881901_safe-id-Q29uZmlndXJpbmdXaW5kb3dzQ29tbXVuaWNhdGlvbkZvdW5kYXRpb24tV2luZG93czcvV2luZG93c1NlcnZlcjIwMDg">Windows 7 / Windows Server 2008</a></p>
</li><li class=" "><p   
>  <a   href="#src-68881901_safe-id-Q29uZmlndXJpbmdXaW5kb3dzQ29tbXVuaWNhdGlvbkZvdW5kYXRpb24tV2luZG93czgvV2luZG93c1NlcnZlcjIwMTI">Windows 8 / Windows Server 2012</a></p>
</li><li class=" "><p   
>  <a   href="#src-68881901_safe-id-Q29uZmlndXJpbmdXaW5kb3dzQ29tbXVuaWNhdGlvbkZvdW5kYXRpb24tV2luZG93czEwL1dpbmRvd3NTZXJ2ZXIyMDE2">Windows 10 / Windows Server 2016</a></p>
</li><li class=" "><p   
>  <a   href="#src-68881901_ConfiguringWindowsCommunicationFoundation-ConfiguringWCFservicestouseSSLssl">Configuring WCF services to use SSL</a></p>
</li></ul></li><li class=" "><p   
>  <a   href="#src-68881901_ConfiguringWindowsCommunicationFoundation-DevelopingcustomWCFservices">Developing custom WCF services</a></p>
</li></ul><p   
></p>
        </div>
    </div>
    <h3 id="src-68881901_ConfiguringWindowsCommunicationFoundation-InstallingWCF" class="heading "><span>Installing WCF</span></h3>
<p   
>WCF is automatically installed with .NET 3.0 and any higher version. However, you still need to install the WCF HTTP Activation feature yourself.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>When hosting Kentico on Microsoft Azure   <a   href="Setting-up-Kentico-in-Azure-Web-Apps">Web Apps</a> or   <a   href="Running-Kentico-in-Azure-Cloud-Services">Cloud Services</a>, WCF and the HTTP Activation feature are installed and enabled by default.</p>
        </div>
    </div>
<p   
>Go to <strong class=" ">Control Panel -&gt; Programs and Features</strong> in Windows and click <strong class=" ">Turn Windows features on or off</strong> in the left menu.</p>
    <h4 id="src-68881901_safe-id-Q29uZmlndXJpbmdXaW5kb3dzQ29tbXVuaWNhdGlvbkZvdW5kYXRpb24tV2luZG93czcvV2luZG93c1NlcnZlcjIwMDg" class="heading "><span>Windows 7 / Windows Server 2008</span></h4>
<ol class=" "><li class=" "><p   
>Under the <strong class=" ">Microsoft .NET Framework 3.5</strong> item, select the <strong class=" ">Windows Communication Foundation HTTP Activation</strong> check box.<br/></p>
<p   
><img  class="confluence-embedded-image"  src="images/download/attachments/68881901/image2013-3-26-10_57_17.png" alt="images/download/attachments/68881901/image2013-3-26-10_57_17.png"   />
    <br/><br/></p>
</li><li class=" "><p   
>Click <strong class=" ">OK</strong> to start the installation.</p>
</li></ol>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Error: <i class=" ">&quot;Could not load type &#39;System.ServiceModel.Activation.HttpModule&#39; from assembly &#39;System.ServiceModel&quot;</i></strong></p>
<p   
>If your application returns the above error after enabling HTTP Activation, you need to manually register the correct version of ASP.NET.</p>
<p   
>See <a  class="external-link" href="https://msdn.microsoft.com/en-us/library/hh169179%28v=nav.70%29.aspx">https://msdn.microsoft.com/en-us/library/hh169179%28v=nav.70%29.aspx</a> for detailed information.</p>
        </div>
    </div>
    <h4 id="src-68881901_safe-id-Q29uZmlndXJpbmdXaW5kb3dzQ29tbXVuaWNhdGlvbkZvdW5kYXRpb24tV2luZG93czgvV2luZG93c1NlcnZlcjIwMTI" class="heading "><span>Windows 8 / Windows Server 2012</span></h4>
<ol class=" "><li class=" "><p   
>Expand the <strong class=" ">.NET Framework 4.5 Advanced Services</strong> item.</p>
</li><li class=" "><p   
>Make sure that the <strong class=" ">WCF Services -&gt; HTTP Activation</strong> feature is installed.</p>
</li></ol>    <h4 id="src-68881901_safe-id-Q29uZmlndXJpbmdXaW5kb3dzQ29tbXVuaWNhdGlvbkZvdW5kYXRpb24tV2luZG93czEwL1dpbmRvd3NTZXJ2ZXIyMDE2" class="heading "><span>Windows 10 / Windows Server 2016</span></h4>
<ol class=" "><li class=" "><p   
>Expand the <strong class=" ">.NET Framework 4.6 Advanced Services</strong> item.</p>
</li><li class=" "><p   
>Make sure that the <strong class=" ">WCF Services -&gt; HTTP Activation</strong> feature is installed.</p>
</li></ol><p   
>The system installs WCF on your computer.</p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>After installing WCF on a machine that already had ASP.NET installed, you may need to <a  class="external-link" href="https://support.microsoft.com/en-us/kb/2736284">re-register ASP.NET into IIS</a>.</p>
        </div>
    </div>
    <h4 id="src-68881901_ConfiguringWindowsCommunicationFoundation-ConfiguringWCFservicestouseSSLssl" class="heading "><span>Configuring WCF services to use SSL </span></h4>
<p   
>WCF services in Kentico applications are defined as service endpoints. By default, the service endpoints point to HTTP bindings. To use the services with SSL enabled, you must point the service endpoints to secure HTTPS bindings. Service endpoints and bindings are defined in local, application-specific, web.config files. You configure each service separately.</p>
<ol class=" "><li class=" "><p   
>Locate the application-specific web.config file according to the following table:</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Application</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Web.config location</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Chat</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>/CMSModules/Chat</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Marketing automation</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>/CMSModules/Automation</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Workflow</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>/CMSModules/Workflows</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p   
><br/><br/></p>
</li><li class=" "><p   
>Open the web.config file and uncomment the secure endpoint code. The endpoint is defined in the <i class=" ">configuration/system.serviceModel/services</i> section.</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example - commented HTTPS (secure) endpoint for Workflow</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example - commented HTTPS (secure) endpoint for Workflow" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain"> &lt;!--&lt;</code><code class="keyword">endpoint</code><code class="plain"> </code><code class="color1">name</code><code class="plain">=</code><code class="string">"Secure"</code><code class="plain"> </code><code class="color1">address</code><code class="plain">=</code><code class="string">""</code><code class="plain"> </code><code class="color1">behaviorConfiguration</code><code class="plain">=</code><code class="string">"WorkflowDesignerEndpointBehavior"</code><code class="plain"> </code><code class="color1">binding</code><code class="plain">=</code><code class="string">"webHttpBinding"</code><code class="plain"> </code><code class="color1">bindingConfiguration</code><code class="plain">=</code><code class="string">"WorkflowDesignerSecureBinding"</code><code class="plain"> </code><code class="color1">contract</code><code class="plain">=</code><code class="string">"CMS.WebServices.IWorkflowDesignerService"</code><code class="plain"> /&gt;--&gt;</code></div>
</div>
    </div>
</li><li class=" "><p   
>(Optional) If you don&#39;t want the service to use the non-secure HTTP, comment out (or delete) the non-secure endpoint code.</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example - HTTP (non-secure) endpoint for Workflow</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example - HTTP (non-secure) endpoint for Workflow" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;</code><code class="keyword">endpoint</code><code class="plain"> </code><code class="color1">name</code><code class="plain">=</code><code class="string">"Public"</code><code class="plain"> </code><code class="color1">address</code><code class="plain">=</code><code class="string">""</code><code class="plain"> </code><code class="color1">behaviorConfiguration</code><code class="plain">=</code><code class="string">"AutomationDesignerEndpointBehavior"</code><code class="plain"> </code><code class="color1">binding</code><code class="plain">=</code><code class="string">"webHttpBinding"</code><code class="plain"> </code><code class="color1">contract</code><code class="plain">=</code><code class="string">"CMS.WebServices.IWorkflowDesignerService"</code><code class="plain"> /&gt;</code></div>
</div>
    </div>
</li></ol><p   
>The system now communicates with the services defined in the <strong class=" ">services</strong> section using the specified endpoints.</p>
    <h3 id="src-68881901_ConfiguringWindowsCommunicationFoundation-DevelopingcustomWCFservices" class="heading "><span>Developing custom WCF services</span></h3>
<p   
>If implementing custom WCF services within the Kentico web project, you need to manually initialize the Kentico application before calling the Kentico API within the service code.</p>
<p   
>Otherwise you may encounter errors if the first request that starts the application is destined for the WCF service. The standard initialization does not occur, because WCF requests are not processed by the ASP.NET HTTP runtime. For more information, see the <a  class="external-link" href="https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/wcf-services-and-aspnet">WCF Services and ASP.NET</a> article.</p>
<p   
>You can initialize the Kentico application by calling the <strong class=" ">CMS.DataEngine.CMSApplication.Init</strong> method, for example within the constructor of your WCF service class. See   <a   href="Using-the-Kentico-API-externally">Using the Kentico API externally</a> to learn more.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
