<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Working with the system event log - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68880581"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Developing-websites.html">Developing websites</a></li>
                                                                                     <li><a href="Troubleshooting-websites.html">Troubleshooting websites</a></li>
                                                            </ul>
</div>            <h1 id="src-68880581"> <span>Working with the system event log</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="section-left"><p>The event log stores information about all events that occur in the system. It is useful to view logged information if unwanted behavior occurs in the system and you want to find out where the problem originates or get additional details.</p><h3 id="src-68880581_Workingwiththesystemeventlog-Viewingtheeventlog" class="heading "><span>Viewing the event log</span></h3><p>To view the event log, open the <strong class=" ">Event log</strong> application.</p><p><strong class=" "><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68880581/Event_Log.png" alt="images/download/attachments/68880581/Event_Log.png" width="500">
</strong></p><p>If you click <strong class=" ">Display event</strong> (<img class="confluence-embedded-image" src="images/download/attachments/68879208/open_live_site.png" alt="images/download/attachments/68879208/open_live_site.png">
) next to an event, the system displays a dialog with full details about the event.</p></div>
    



    <div class="section-right"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-viewingtheeventlog">Viewing the event log</a></p>
</li><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-configuringtheeventlog">Configuring the event log</a></p>
</li><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-eventlogapi">Event log API</a></p>
</li><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-disablingloggingforspecifictypesofevents">Disabling logging for specific types of events</a></p>
</li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="customizing-event-logging">Customizing event logging</a></p>
</li></ul>        </div>
    </div></div>
    
    <h3 id="src-68880581_Workingwiththesystemeventlog-Configuringtheeventlog" class="heading "><span>Configuring the event log</span></h3>
<p>You can configure the following event log settings:</p>
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-generaleventlogsettings">General event log settings</a></p>
</li><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-loggingpagenotfoundexceptions">Logging page not found exceptions</a></p>
</li><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-configuringpermissionsfortheeventlog">Configuring permissions for the event log</a></p>
</li><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-loggingsystemeventstotrace">Logging system events to trace</a></p>
</li><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-loggingsystemeventsinthewindowseventviewer">Logging system events in the Windows Event Viewer</a></p>
</li><li class=" "><p><a href="#src-68880581_workingwiththesystemeventlog-settingupe-mailnotificationsforerrors">Setting up e-mail notifications for errors</a></p>
</li></ul><p></p>
    <h4 id="src-68880581_Workingwiththesystemeventlog-Generaleventlogsettings" class="heading "><span>General event log settings</span></h4>
<p>You can configure the following settings for the event log in <strong class=" ">Settings -&gt; System</strong>:</p>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Setting location</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Event log size</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Limits the maximum number of events stored in the Event log.</p>
<ul class=" "><li class=" "><p>When exceeded by 10% (or a different percentage set by means of the <strong class=" ">CMSLogKeepPercent</strong> web.config key), the percentage of the oldest events is deleted from the log in a batch.</p>
</li><li class=" "><p>Old events that exceed the limit are not deleted immediately, but only after a new event is logged.</p>
</li><li class=" "><p>Applies separately to site-specific events for each site and global events. For example, if you set the limit to 100, the log may contain 110 site-specific events for each site in the system, and 110 global events.</p>
</li><li class=" "><p>Set to 0 if you do not want the system to log any events.</p>
</li></ul>            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Log metadata changes</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If enabled, changes of object and page metadata (i.e. when an object or a page is created, edited or deleted) are logged in the Event log.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Log to database</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Indicates if events are logged to database. Doesn't override Event log size set to 0.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Log to filesystem</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If enabled, the system writes the event log into the <i class=" "><strong class=" ">CMS\App_Data\logEvents.log</strong></i> file on the server's file system. Doesn't override Event log size set to 0.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Log to trace</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Indicates if events are logged to trace. Doesn't overwrite Event log size set to 0.</p>
<p>See: <a href="#src-68880581_workingwiththesystemeventlog-loggingsystemeventstotrace">Logging system events to trace</a></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Use EventLog trace listener</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Indicates if the system logs events in your Windows Event Viewer.</p>
<p>Use the Modify feature of the Kentico installer, if you haven't turned on the Registration of Kentico in Windows Event Log option when installing Kentico.</p>
<p>See: <a href="#src-68880581_workingwiththesystemeventlog-loggingsystemeventsinthewindowseventviewer">Logging system events in the Windows Event Viewer</a></p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>You can also configure the event log by adding keys to the <i class=" ">appSettings</i> section of your application's <i class=" ">web.config</i> file. The keys work in combination with the settings listed above. For more information, see <a href="reference---web.config-application-keys#src-68882662_referenceweb.configapplicationkeys-eventlogsettings">Reference - Web.config application keys</a>.</p>
        </div>
    </div>
    <h4 id="src-68880581_Workingwiththesystemeventlog-Loggingpagenotfoundexceptions" class="heading "><span>Logging page not found exceptions</span></h4>
<p>You can enable logging of <strong class=" ">Page not found </strong>exceptions in the event log. To do so:</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Settings</strong> application.</p>
</li><li class=" "><p>Select the <strong class=" ">Content</strong> category.</p>
</li><li class=" "><p>In the <strong class=" ">Page not found</strong> group, enable <strong class=" ">Log page not found exception</strong>.</p>
</li><li class=" "><p><strong class=" ">Save </strong>the changes.</p>
</li></ol>    <h4 id="src-68880581_Workingwiththesystemeventlog-Configuringpermissionsfortheeventlog" class="heading "><span>Configuring permissions for the event log</span></h4>
<p>    <span style="color: #000000;">
To allow users to work with the event log, <a href="configuring-permissions">configure permissions</a> for your website's <a href="role-management">roles</a>:    </span>
</p>
<ol class=" "><li class=" "><p>    <span style="color: #000000;">
Open the <strong class=" ">Permissions</strong> application.    </span>
</p>
</li><li class=" "><p>    <span style="color: #000000;">
Select permissions for <strong class=" ">Modules</strong> and the <strong class=" ">Event log</strong>.    </span>
</p>
</li><li class=" "><p>    <span style="color: #000000;">
Assign the following permissions to roles:    </span>
<br>    <span style="color: #000000;">
    </span>
<br></p>
<ul class=" "><li class=" "><p><strong class=" ">Read</strong> - allows members of the roles to access the event log. Only users with the Global administrator <a href="user-management">privilege level</a> can view events logged on a global application level.</p>
</li><li class=" "><p><strong class=" ">Clear log</strong> - allows members of the roles to delete the records in the event log.    <span style="color: #000000;">
<br>    </span>
</p>
</li></ul></li></ol>    <h4 id="src-68880581_Workingwiththesystemeventlog-Loggingsystemeventstotrace" class="heading "><span>Logging system events to trace</span></h4>
<p>    <span style="color: #000000;">
You can set up Kentico to log application events in trace. You can then implement your own listener, such as the <a class="external-link" href="http://msdn.microsoft.com/en-us/library/system.diagnostics.textwritertracelistener.aspx">TextWriterTraceListener</a> or use the out-of-the-box Kentico functionality to log events into the <a href="#src-68880581_workingwiththesystemeventlog-loggingsystemeventsinthewindowseventviewer">Windows Event Viewer</a>.    </span>
</p>
<p>    <span style="color: #000000;">
To enable logging of system events to trace:    </span>
</p>
<ol class=" "><li class=" "><p>In Kentico, open the <strong class=" ">Settings</strong> application.</p>
</li><li class=" "><p>Select the <strong class=" ">System</strong> category.</p>
</li><li class=" "><p>In the <strong class=" ">Event log </strong>settings group, enable <strong class=" ">Log to trace</strong>.</p>
</li><li class=" "><p><strong class=" ">Save </strong>the changes.</p>
</li></ol><p>Kentico now logs system events to trace. You can now implement your own listener, such as the <a class="external-link" href="http://msdn.microsoft.com/en-us/library/system.diagnostics.textwritertracelistener.aspx">TextWriterTraceListener</a>.</p>
    <h4 id="src-68880581_Workingwiththesystemeventlog-LoggingsystemeventsintheWindowsEventViewer" class="heading "><span>Logging system events in the Windows Event Viewer</span></h4>
<p>You can set up Kentico to log application events in the Windows Event Viewer. Note that to do that, Kentico uses the <a class="external-link" href="http://msdn.microsoft.com/en-us/library/system.diagnostics.eventlogtracelistener(v=vs.110).aspx">EventLogTraceListener</a>.</p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Requirements for IIS 8.5 and newer</strong></p>
<p>If your website is hosted on IIS 8.5 or newer, you need to enable sending of logging information to Event Tracing for Windows (ETW). For more information, see the <a class="external-link" href="https://docs.microsoft.com/en-us/iis/get-started/whats-new-in-iis-85/logging-to-etw-in-iis-85">Logging to Event Tracing for Windows in IIS 8.5</a> article (select the <strong class=" ">ETW event only</strong> or <strong class=" ">Both log file and ETW event</strong> option for the <strong class=" ">Log Event Destination</strong> in IIS).</p>
        </div>
    </div>
    <h5 id="src-68880581_Workingwiththesystemeventlog-RegisteringKenticoinWindowsEventLog" class="heading "><span>Registering Kentico in Windows Event Log</span></h5>
<ol class=" "><li class=" "><p>Run the Kentico installer.</p>
</li><li class=" "><p>Select your country, accept the license agreement, and click <strong class=" ">Next</strong>.</p>
</li><li class=" "><p><strong class=" ">Modify </strong>the installation that you want to register in <strong class=" ">Windows Event Log</strong>.</p>
</li><li class=" "><p>Select the <strong class=" ">Registration of Kentico in Windows Event Log </strong>check box.</p>
</li><li class=" "><p><strong class=" ">Apply Changes</strong>.</p>
</li></ol><p>The installer registers Kentico in the Windows Event Log.</p>
    <h5 id="src-68880581_Workingwiththesystemeventlog-EnablingloggingofKenticoeventsintoWindowsEventLog" class="heading "><span>Enabling logging of Kentico events into Windows Event Log</span></h5>
<ol class=" "><li class=" "><p>In Kentico, open the <strong class=" ">Settings</strong> application.</p>
</li><li class=" "><p>Select the <strong class=" ">System</strong> category.</p>
</li><li class=" "><p>In the <strong class=" ">Event log </strong>settings group, enable <strong class=" ">Log to trace </strong>and <strong class=" ">Use EventLog trace listener</strong>.</p>
</li><li class=" "><p><strong class=" ">Save </strong>the changes.</p>
</li></ol><p>Kentico now logs system events to both the Kentico event log and Windows Event Viewer.</p>
    <h4 id="src-68880581_Workingwiththesystemeventlog-Settingupe-mailnotificationsforerrors" class="heading "><span>Setting up e-mail notifications for errors</span></h4>
<p>You can configure the system to automatically send e-mail notifications whenever errors occur in the application.</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Settings</strong> application.</p>
</li><li class=" "><p>Select the <strong class=" ">System</strong> category.</p>
</li><li class=" "><p>Enter the target e-mail addresses for the notifications into the <strong class=" ">Error notification e-mail address</strong> setting.</p>
<ul class=" "><li class=" "><p>Use semicolons to separate multiple addresses.</p>
</li></ul></li><li class=" "><p>Type a sender address into the <strong class=" ">No-reply e-mail address</strong> settings.</p>
<ul class=" "><li class=" "><p>The notification e-mails use the sender address in their <i class=" ">From</i> field.</p>
</li></ul></li><li class=" "><p><strong class=" ">Save</strong> the settings.</p>
</li></ol>    <h3 id="src-68880581_Workingwiththesystemeventlog-EventlogAPI" class="heading "><span>Event log API</span></h3>
<p>You can find an API example of logging events into the event log in <a href="designing-secure-error-messages#src-68881108_designingsecureerrormessages-storingthedebugandtraceinformationintheeventlog">Designing secure error messages</a>. More examples are provided in the <a href="http://localhost:8090/display/API11">API examples documentation</a>.</p>
    <h3 id="src-68880581_Workingwiththesystemeventlog-Disablingloggingforspecifictypesofevents" class="heading "><span>Disabling logging for specific types of events</span></h3>
<p>If you wish to disable logging for events of a specific type, you need to use custom code. See <a href="customizing-event-logging">Customizing event logging</a> for more information.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>