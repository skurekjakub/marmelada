<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Storing files - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260" elementpageid="68881801">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68881801"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Configuring-Kentico.html">Configuring Kentico</a></li>
                                                                                     <li><a href="Managing-files.html">Managing files</a></li>
                                                            </ul>
</div>            <h1 id="src-68881801"> <span>Storing files</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="sp-grid-cell sp-grid-60"><p><a href="page-attachments">Page attachments</a> (and their history), CMS.File <a href="inserting-files-into-the-content-tree">pages</a>, metafiles, <a href="avatars">avatars</a>, and <a href="attaching-files-to-forum-posts">forum attachments</a> can be physically stored in the file system, in the database, or both. You can define this in the <strong class=" ">Settings</strong> application in the <strong class=" ">System -&gt; Files -&gt; Storage</strong> category using the <strong class=" ">Store files in</strong> setting.</p><p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881801/configuring_file_storage_settings.png" alt="images/download/attachments/68881801/configuring_file_storage_settings.png" width="350">
        <br><span class="caption">Configuring file storage settings</span>
    </p><p>You can choose one of the following options:</p><ul class=" "><li class=" "><p><strong class=" ">Database</strong> – the files are stored in the database. This option is worse in performance, but does not require the <strong class=" ">Modify</strong> permission for the file system and allows you to easily backup the uploaded files as part of your database.</p>
</li><li class=" "><p><strong class=" ">File system</strong> – the files are stored in the configured folder on your disk. This option provides the best performance. However, the <strong class=" ">Modify</strong> permissions on the disk must be granted to the ASP.NET account on your machine, which is not always possible. See <a href="disk-permission-problems">Disk permissions problems</a> for the process of granting the <strong class=" ">Modify</strong> permission.</p>
</li><li class=" "><p><strong class=" ">Database and file system</strong> – this option combines the advantages of both options. It provides the same performance as the file system-only option since the files are stored in the file system.</p>
</li></ul></div>


    <div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68881801_storingfiles-pageattachmentsandmetafileslocation">Page attachments and metafiles location</a></p>
</li><li class=" "><p><a href="#src-68881801_storingfiles-formfileslocation">Form files location</a></p>
</li><li class=" "><p><a href="#src-68881801_storingfiles-medialibraryfileslocation">Media library files location</a></p>
</li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="optimizing-website-performance">Optimizing website performance</a></p>
</li></ul>        </div>
    </div></div>
    
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Page attachments and metafiles location</span></h3>
<p>When storing files in the file system, attachments of pages without workflow are saved in the <i class=" ">~/&lt;site code name&gt;/files</i> folder. Metafiles are saved in the <i class=" ">~/&lt;site code name&gt;/metafiles</i> folder. You can configure the location of these folders by using the <strong class=" ">Settings -&gt; System -&gt; Files -&gt; Files folder </strong>settings option. Attachments of pages under workflow (i.e., attachment histories) are saved in the <i class=" ">~/App_Data/VersionHistory/Attachments</i> folder regardless of the <i class=" ">Files folder</i> setting. Learn more in <a href="settings---files">Settings - Files</a><a class="external-link" href="http://preview/Documentation/devguide/files_related_settings.htm">.</a></p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong>: When you change the location of the file folder, the system does NOT automatically move any existing files to the new location. To ensure that the system can access the files, you need to manually move them from the old location to the new one in the file system.</p>
        </div>
    </div>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Form files location</span></h3>
<p>Files uploaded by website users into <a href="forms">forms</a> are always stored in the file system. The default location is <i class=" ">~/&lt;site code name&gt;/BizFormFiles</i>. You can customize the location in <strong class=" ">Settings -&gt; System -&gt; Files -&gt; Custom form files folder</strong>.</p>
<p>Files may be submitted as part of form records, typically when a form contains an uploader type field (specifically the <i class=" ">Upload file</i> field type/form control). You can adjust the following settings related to files submitted through forms and their storage in the file system:</p>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Storage</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Custom form files folder</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Folder where files uploaded via <a href="forms">forms</a> are stored. You can use:</p>
<ul class=" "><li class=" "><p><strong class=" ">physical disk path</strong>: e.g. <i class=" ">c:\myfiles\mysite</i></p>
</li><li class=" "><p><strong class=" ">virtual path</strong>: <i class=" ">~/UploadedFiles</i></p>
</li><li class=" "><p><strong class=" ">UNC path</strong>: <i class=" ">\\server\folder</i></p>
</li></ul><p>If no value is entered, the files are stored in the <i class=" ">~/&lt;site code name&gt;/BizFormFiles/ </i>folder.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Use site-specific subfolders for custom form files folder</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>This setting is only applied when a <strong class=" ">Custom form files folder</strong> is configured. If enabled, attachment files will be stored in a sub-folder named as the site code name under the custom files folder, i.e. <i class=" ">&lt;custom BizForm files folder&gt;/&lt;site code name&gt;</i>. It is useful for better orientation in files when multiple sites are running in the system.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Security</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Upload extensions</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Specifies which extensions are allowed for uploaded files. You can restrict the types of uploaded files by entering a limited list of extensions separated by semicolons, for example: <i class=" ">gif;jpg;doc;pdf</i></p>
<p>This allows you to block users from uploading potentially dangerous files, such as ASPX scripts. If no value is specified, uploading is allowed for all file types.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Media library files location</span></h3>
<p>Files stored in <a href="media-library-files">media libraries</a> are always stored in the file system. The default location is <i class=" ">~/&lt;site code name&gt;/media</i>, while the location of the folder can be customized in <strong class=" ">Settings -&gt; Content -&gt; Media -&gt; Media libraries folder</strong>, as described in <a href="configuring-media-libraries">Configuring media libraries</a><a class="external-link" href="http://preview/Documentation/devguide/media_library_settings_overview.htm#general_settings">.</a></p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>