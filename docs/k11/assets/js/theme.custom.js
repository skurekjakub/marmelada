var longToByteArray=function(e){for(var o=[0,0,0,0],t=0;t<o.length;t++){var n=255&e;o[t]=n,e=(e-n)/256}return o},pageIdToB64=function(e){return btoa(longToByteArray(e).map(String.fromCharCode).map((function(e){return e[0]})).join("")).replace(/=/g,"")},generateTinyId=function(e){for(var o=!0,t="",n=e.length-1;n>=0;n--){var i=e.charAt(n);"="!==i&&"\n"!=i&&(o&&"A"===i||(o=!1,t="/"===i?"-"+t:"+"===i?"_"+t:i+t))}if(t.length>0){var r=t.charAt(t.length-1);"-"!==r&&"_"!==r||(t+="/")}return t};CONFIG.CONFLUENCE_PAGE_TINYID=generateTinyId(pageIdToB64(CONFIG.CONFLUENCE_PAGE_ID));var displayPageUrlId=function(e){var o=CONFIG.CONFLUENCE_PAGE_TINYID;o?$.ajax({url:CONFIG.HELPSERVICE_URLID_ENDPOINT+o,success:function(e){var t=JSON.parse(e);t.hasOwnProperty("Identifier")?$("#pageUrlId").text(" Help Service ID: "+t.Identifier+" (TinyID: "+o+")"):$("#pageUrlId").text(" Help Service ID: "+t.Error)},timeout:800}):$("#pageUrlId").text("Error when generating the page tiny ID. See the console for details.")};Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"remove-initial-line-feed":!1,"tabs-to-spaces":4});var setExportPdf=function(){var e=$("body").attr("data-pagetitle");$("#export-pdf").attr("href","../pdf/".concat(CONFIG.CONFLUENCE_SPACE_KEY.toLowerCase(),"/").concat(e.toLowerCase().replace(/ /g,"-"),".pdf"))};$(document).ready(setExportPdf);var versionSwitcherData,openPageLink=function(e){CONFIG.CONFLUENCE_PAGE_TINYID?togglePageLinkPanel(CONFIG.BASE_URL+"/x/"+CONFIG.CONFLUENCE_PAGE_TINYID):togglePageLinkPanel(window.location.href)},togglePageLinkPanel=function(e){$("#page-link-textbox").attr("value",e),$("#page-link-panel").hasClass("show")?$("#page-link-panel").removeClass("show"):$("#page-link-panel").addClass("show")},copyPageLinkToClip=function(){void 0===navigator.clipboard?Snackbar.show({text:"An error occurred while copying the page link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"}):navigator.clipboard.writeText($("#page-link-textbox").attr("value")).then((function(){Snackbar.show({text:"Page link copied",pos:"top-right",showAction:!1,customClass:"box-general box-info",duration:"2500",backgroundColor:"#EEF3FC",textColor:"#151515"})})).catch((function(){Snackbar.show({text:"An error occurred while copying the page link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"})}))},closePageLink=function(){return $("#page-link-panel").removeClass("show")},getVersionTextFromVersionId=function(e){return DOCUMENTATION_VERSIONS.find((function(o){return o.versionId==e})).versionText},getVersionTextFromHelpServiceId=function(e){return DOCUMENTATION_VERSIONS.find((function(o){return o.helpServiceVersion==e})).versionText},loadVersionLinkData=function(e){$.ajax({dataType:"json",url:CONFIG.HELPSERVICE_LISTALTVERSIONLINKS_ENDPOINT+e,timeout:2e3,tryCount:0,retryLimit:3,success:function(e){versionSwitcherData=e},error:function(e,o,t){if("timeout"==o)return this.tryCount++,this.tryCount<=this.retryLimit?void $.ajax(this):void 0}})},versionLinkUpdateDone=!1,insertVersionLinks=function(e){void 0!==e?(versionLinkUpdateDone||(e.forEach((function(e){var o=$(".js-menuDdl-version a:contains("+getVersionTextFromHelpServiceId(e.VersionUrlId)+")");o&&(o.attr("href",e.Url),o.addClass(" populated"))})),$(".js-menuDdl-version a").toArray().forEach((function(e){e.classList.contains("populated")||(e.classList.add("empty"),"Xperience 13"===e.textContent?(e.setAttribute("href",CONFIG.XPERIENCE13_MISSING_PAGES_URL+"?ref="+$(location).attr("href").split("/").pop()),e.setAttribute("title","The current page is not available in the Xperience 13 documentation. \r\nYou will be redirected to a general guidance page.")):"Xperience by Kentico"===e.textContent?(e.setAttribute("href",CONFIG.XP_MISSING_PAGES_URL+"?ref="+$(location).attr("href").split("/").pop()),e.setAttribute("title","The current page is not available in the Xperience by Kentico documentation. \r\nYou will be redirected to a general guidance page.")):e.setAttribute("title","The current page is not available for this documentation version. \r\nYou will be redirected to the home page for this version."))})),versionLinkUpdateDone=!0),openCloseVersionDdl()):openCloseVersionDdl()},insertSearchVersionLinks=function(){versionLinkUpdateDone||($(".js-menuDdl-version a").each((function(){var e=this.href.split("/"),o=getDocVersion(e[e.length-1]),t="/"!==this.href.slice(-1)?"/":"";if(CONFIG.CONFLUENCE_DEVMODEL_VERSIONSWITCHER_WHITELIST.indexOf(o)>=0)this.href=this.href+t+"search"+window.location.search;else{for(var n=window.location.search.split("&"),i=n.length;i-- >0;)0==n[i].indexOf("l=")&&n.splice(i,1);this.href=this.href+t+"search"+n.join("&")}})),versionLinkUpdateDone=!0);openCloseVersionDdl()},openCloseDocTypeDdl=function(){$(".js-menuDdl-docType").toggleClass("show"),$(".js-menuDdlBtn-docType").toggleClass("opened")},openCloseVersionDdl=function(){$(".js-menuDdl-version").toggleClass("show"),$(".js-menuDdlBtn-version").toggleClass("opened")},getDocType=function(e){return/api/i.test(e)?"API Examples":/tutorial/i.test(e)?"Tutorial":"Documentation"},getDocVersion=function(e){switch(e){case"K12SP":case"API12SP":case"K12SPTutorial":return"12sp";case"XP":case"Tutorial":case"Api":return"xp";default:return e.replace(/[^0-9]/g,"")}},getVersionLinkTitle=function(e){return"12sp"===e?"Kentico 12 Service Pack":getVersionTextFromVersionId(e)},buildDocLink=function(e,o,t,n){var i,r="/";if(-1===CONFIG.OBSOLETE_SPACE_KEY_FORMAT_VERSIONS.indexOf(e)){var a="xp"===e?"":e;switch(o){case"Tutorial":i=a+"tutorial";break;case"API Examples":i=a+"api";break;default:i=e}i===CONFIG.DOC_ROOT_URL_SPACE_KEY&&(i="",r="")}else switch(o){case"Tutorial":i="k"+e+"tutorial";break;case"API Examples":i="api"+e;break;default:i="k"+e}var s=t?o:getVersionTextFromVersionId(e);return'<li><a href="'+r+i+'"'+('class="'+(n?" current":"")+'"')+(' title="'+(t?o:getVersionLinkTitle(e))+'"')+">"+s+"</a></li>"},loadDocVersionHeaderList=function(e,o){var t=$('[name="confluence-user-logged-in"]').attr("content"),n=DOCUMENTATION_VERSIONS.filter((function(o){return("API Examples"!==e||"8"!==o.versionId&&"81"!==o.versionId&&"82"!==o.versionId)&&("true"===t||o.versionId!==CONFIG.DEV_DOCUMENTATION_VERSION_ID)&&"12"!==o.versionId})),i="";n.forEach((function(t){t.versionId==CONFIG.NEWEST_UNSUPPORTED_VERSION_ID&&(i+='<li class="js-unsupported-versions"><button class="header-ddl-button-nested js-unsupported-versions-button">All versions</button><ul class="menu-ddl-content nested-list docVersion js-unsupported-versions-list">'),i+=buildDocLink(t.versionId,e,!1,t.versionId==o)})),i+="</ul></li>",$(".js-menuDdlBtn-version").html(getVersionTextFromVersionId(o)),$(".js-menuDdl-version").html(i)};$(document).on("click",".js-unsupported-versions-button",(function(){$(".js-unsupported-versions-list").toggleClass("show"),$(".js-unsupported-versions-list").toggleClass("opened")}));var loadDocTypeHeaderList=function(e,o){var t=["Documentation","Tutorial","API Examples"];t=t.filter((function(o){return"8"!==e&&"81"!==e&&"82"!==e||"API Examples"!==o}));var n="";t.forEach((function(t){n+=buildDocLink(e,t,!0,t==o)})),$(".js-menuDdlBtn-docType").html(o),$(".js-menuDdl-docType").html(n)},loadHeaderLists=function(){var e=getDocVersion(CONFIG.CONFLUENCE_SPACE_KEY),o=getDocType(CONFIG.CONFLUENCE_SPACE_KEY);loadDocTypeHeaderList(e,o),loadDocVersionHeaderList(o,e)},registerPageTreeEventHandler=function(){$("ul.ht-pages-nav-top").on("click",".sp-toggle",(function(){var e=$(this).parent("li");e.is(".collapsed")?e.removeClass("collapsed").addClass("open"):e.is(".open")&&e.removeClass("open").addClass("collapsed")}))};$(document).ready(registerPageTreeEventHandler);var closeHeaderDropDowns=function(e){var o=$(".js-menuDdlBtn-docType"),t=$(".js-menuDdlBtn-version"),n=$(".js-unsupported-versions-button"),i=$(".js-unsupported-versions-list"),r=$(".js-menuDdlBtn-devModel"),a=$(".js-menuDdl-devModel");n.is(e.target)||(o.is(e.target)||0!==o.has(e.target).length||($(".js-menuDdl-docType").removeClass("show"),o.removeClass("opened")),t.is(e.target)||0!==t.has(e.target).length||($(".js-menuDdl-version").removeClass("show"),t.removeClass("opened"),i.removeClass("opened"),i.removeClass("show")),r.is(e.target)||0!==a.has(e.target).length||(a.removeClass("show"),r.removeClass("opened")))};$(document).ready(loadHeaderLists),$(document).click(closeHeaderDropDowns);var isDevModelSwitcherSupported=function(){var e=CONFIG.CONFLUENCE_SPACE_KEY;return!e.toLowerCase().includes("api")&&CONFIG.CONFLUENCE_DEVMODEL_VERSIONSWITCHER_WHITELIST.indexOf(getDocVersion(e))>=0},getPageLabels=function(){var e=$('[name="confluence-page-labels"]').attr("content");return e=(e=e.slice(1,-1)).split(", ")},setDevModelWebStorage=function(){if(isDevModelSwitcherSupported()&&"undefined"!=typeof Storage){var e=getPageLabels();if(e.indexOf("mvc")>=0)return void(localStorage.kenticoDocumentationMode="mvc");if(e.indexOf("pe")>=0)return void(localStorage.kenticoDocumentationMode="pe");var o=window.location.search;if(o.indexOf("devModel=mvc")>=0)return void(localStorage.kenticoDocumentationMode="mvc");if(o.indexOf("devModel=pe")>=0)return void(localStorage.kenticoDocumentationMode="pe");localStorage.kenticoDocumentationMode&&null!==localStorage.getItem("kenticoDocumentationMode")||(localStorage.kenticoDocumentationMode="mvc")}},getCurrentDevModel=function(){var e=getPageLabels();if(e.indexOf("mvc")>=0)return"mvc";if(e.indexOf("pe")>=0)return"pe";var o=window.location.search;return o.indexOf("devModel=mvc")>=0?"all|mvc":o.indexOf("devModel=pe")>=0?"all|pe":"undefined"!=typeof Storage&&localStorage.kenticoDocumentationMode?"all|"+localStorage.kenticoDocumentationMode:"all|mvc"},translateToHelpServiceVersion=function(e){return DOCUMENTATION_VERSIONS.find((function(o){return o.versionId==e})).helpServiceVersion},switchDevModelStorage=function(e){"undefined"!=typeof Storage&&(localStorage.kenticoDocumentationMode=e)},openCloseDevModelDdl=function(){$(".js-menuDdl-devModel").toggleClass("show"),$(".js-menuDdlBtn-devModel").toggleClass("opened")},devModelMap={mvc:"MVC",pe:"Portal Engine"},initAltDevModelLink=function(){if(isDevModelSwitcherSupported()){var e=getCurrentDevModel(),o=!1;0===e.indexOf("all|")&&(o=!0,e=e.split("|")[1]);var t="mvc"==e?"pe":"mvc";$(".js-"+e+"-model-link").addClass("active");var n=$(".js-"+t+"-model-link");if(n){if($(".js-menuDdlBtn-devModel").html(devModelMap[e]),o)return n.on("click",(function(){switchDevModelStorage(t);var e=window.location.pathname.split("/");if("search"==e[e.length-1])kenticoThemeOpenSearchResultsPage();else{var o=window.location.href.replace(window.location.hash,"");o=(o=o.replace("#","")).split("?devModel")[0],window.location.href=o}})),void currentModelElement.on("click",(function(e){e.preventDefault(),openCloseDevModelDdl()}));var i=$("#dev-model-alt").attr("data-devmodel-alt");if(i){var r=getDocVersion(CONFIG.CONFLUENCE_SPACE_KEY),a=translateToHelpServiceVersion(r),s=CONFIG.HELPSERVICE_LINKMAPPER_ENDPOINT+a+"&link="+i;n.on("click",(function(){switchDevModelStorage(t),window.location.href=s}))}else{$(".js-menuDdlBtn-devModel").prop("disabled",!0).prop("title","");var c="mvc"==e?"MVC":"Portal Engine",l="mvc"==t?"MVC":"Portal Engine",d='<a id="alt-model-home-link" href="'+($("#ajs-context-path").attr("content")+"/"+CONFIG.CONFLUENCE_SPACE_KEY.toLowerCase()+"?devModel="+t)+'">'+l+" Home page</a>";$(".js-dev-model-unavailable-text").html("<p>This page is only available for the "+c+" development model.<br />You can switch to the "+d+".</p>")}}}};$(document).ready(setDevModelWebStorage),$(document).ready(initAltDevModelLink);var setDevFrameworkButtons=function(){$(".js-dev-model-switch-core").click((function(){coreFrameworkOnClick()})),$(".js-dev-model-switch-mvc").click((function(){mvcFrameworkOnClick()})),$(".js-dev-model-switch-indicator").click((function(e){"core"===localStorage.kenticoDocumentationFramework?mvcFrameworkOnClick():coreFrameworkOnClick()})),$(".js-dev-model-switch-mvc, .js-dev-model-switch-core ").on("keyup",(function(e){e.preventDefault(),e.stopPropagation(),32===e.keyCode&&("core"===localStorage.kenticoDocumentationFramework?mvcFrameworkOnClick():coreFrameworkOnClick())}))},setDevFrameworkCheckbox=function(){"mvc"===localStorage.kenticoDocumentationFramework?($(".js-dev-model-switch-mvc").attr("checked",!0),$(".js-dev-model-switch").addClass("is-dev-model-mvc").removeClass("is-dev-model-core")):"core"===localStorage.kenticoDocumentationFramework&&($(".js-dev-model-switch-core").attr("checked",!0),$(".js-dev-model-switch").addClass("is-dev-model-core").removeClass("is-dev-model-mvc"))},setCorrectFramework=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(localStorage.kenticoDocumentationFramework&&null!==localStorage.getItem("kenticoDocumentationFramework")||(localStorage.kenticoDocumentationFramework="mvc"),e){var o=new URLSearchParams(window.location.search).get("devmodel");"mvc"!==o&&"core"!==o||(localStorage.kenticoDocumentationFramework=o)}"mvc"===localStorage.kenticoDocumentationFramework&&($(".dev-model-core").css("display","none"),$(".dev-model-mvc").css("display","block")),"core"===localStorage.kenticoDocumentationFramework&&($(".dev-model-mvc").css("display","none"),$(".dev-model-core").css("display","block")),setDevFrameworkCheckbox()},setHoverTitles=function(){var e="Switch the displayed development model in the switcher under the page heading";$(".dev-model-core .codeContent").attr("title",e),$(".dev-model-mvc .codeContent").attr("title",e)},coreFrameworkOnClick=function(){localStorage.kenticoDocumentationFramework="core",setCorrectFramework()},mvcFrameworkOnClick=function(){localStorage.kenticoDocumentationFramework="mvc",setCorrectFramework()},showDevFrameworkSwitcher=function(){$(".js-dev-model-switch").removeClass("is-hidden")},setDevFrameworkSwitcher=function(){$(".dev-model-core").length+$(".dev-model-mvc").length>0&&(setCorrectFramework(!0),setDevFrameworkButtons(),setDevFrameworkCheckbox(),showDevFrameworkSwitcher(),setHoverTitles())};$(document).ready(setDevFrameworkSwitcher);var initSidebar=function e(){if(null!==$(".ht-nav-page-link").first())if($(".ht-nav-page-link.current").length){var o=$("div.ht-sidebar-content"),t=$("#ht-headerbar").outerHeight(!0),n=$(".ht-nav-page-link.current")[0].getBoundingClientRect().top;0===$("div.ht-sidebar-content")[0].scrollTop&&o.animate({scrollTop:Math.round(n-t-o.outerHeight()/2.5)},0),$("#ht-sidebar").addClass("animate")}else window.requestAnimationFrame(e)};window.requestAnimationFrame(initSidebar);var kenticoThemeOpenSearchResultsPage=function(){var e=$(".search-input").val();e=encodeURIComponent(e),e+="&max=10";var o=document.querySelector("#check-show-all-search-results"),t=!(o&&o.checked);window.SCROLL_WEBHELP&&window.SCROLL_WEBHELP.search&&(window.SCROLL_WEBHELP.search.navigateToSearchPage(e,t),$("#ht-search").find(".ht-search-dropdown").removeClass("open"),$(".ht-search-dropdown a.hover").removeClass("hover"),$(document).unbind("keydown"))},toggleSearchSuggestions=function(e){var o=$("input.search-input"),t=$(".ht-search-dropdown"),n=$("#searchButton"),i=$(".ht-search-dropdown a.hover");o.is(e.target)||0!==o.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length?$(".ht-search-dropdown li.search-key").length&&t.addClass("open"):(t.removeClass("open"),i.removeClass("hover"),!n.is(e.target)&&0===n.has(e.target).length&&window.innerWidth<=800&&window.innerWidth>499&&o.removeClass("show"))};$(document).click(toggleSearchSuggestions);var setContentTopPadding=function(){var e=$(".searchbox-area-behind").first();e.length&&$(".ht-content").first().css("padding-top",e.outerHeight(!0)+"px")};$(document).ready(setContentTopPadding),$(window).resize(setContentTopPadding);var setFooterWidth=function(){var e=document.documentElement.clientWidth,o=$("#ht-wrap-container").width(),t=$("#ht-wrap-container").offset().left,n=e-o-t;$("#ht-footer").css({right:-n,"padding-right":n,left:-t,"padding-left":t})};function onElementHeightChange(e,o){var t,n=e.clientHeight;!function i(){t=e.clientHeight,n!=t&&o(),n=t,e.onElementHeightChangeTimer&&clearTimeout(e.onElementHeightChangeTimer),e.onElementHeightChangeTimer=setTimeout(i,200)}()}$(document).ready(setFooterWidth),$(window).resize(setFooterWidth),onElementHeightChange(document.body,setFooterWidth),$("span.expand-control").click((function(){var e=$(this).parent().next(),o=$(this).find("span.expand-control-text");e.hasClass("collapse")?(e.removeClass("collapse"),o.text("Collapse source")):(e.addClass("collapse"),o.text("Expand source"))}));var getPageIdIfEditingAllowed=function(){var e=$("#sp-viewport-control-opener").length,o=$(".search-input").is(":focus");if(0!=e&&!o){var t=$("body").attr("pageid");return t||0}return 0};function openLink(e,o){o?window.open(e,"_blank").focus():window.open(e,"_self")}$("p").each((function(){""==$(this).text().trim()&&0==$(this).children().length&&$(this).hide()}));var showHideSearchTips=function(){$("#search-tips").hasClass("show")?hideFrontLayer():showFrontLayer()},showFrontLayer=function(){$("#search-tips").addClass("show"),document.getElementById("search-tips-mask").style.visibility="visible",document.getElementById("search-tips").style.visibility="visible"},hideFrontLayer=function(){document.getElementById("search-tips-mask").style.visibility="hidden",document.getElementById("search-tips").style.visibility="hidden",$("#search-tips").removeClass("show")},createCookie=function(e,o,t,n){var i;n="; domain="+n;if(t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3),i="; expires="+r.toUTCString()}else i="";document.cookie=e+"="+o+i+"; path=/"+n},eraseCookie=function(e){createCookie(e,"",-1,"")},consentWithCookieUsage=function(){$("#cookie-banner").addClass("hidden"),createCookie("xperience.cookielevelselection",!0,365,".xperience.io")},hideCookieConsentBanner=function(){!document.cookie.replace(/(?:(?:^|.*;\s*)xperience.cookielevelselection\s*\=\s*([^;]*).*$)|^.*$/,"$1")&&navigator.cookieEnabled||$("#cookie-banner").addClass("hidden")},setCookieLevel=function(e){e="marketing"===(e=e)?4:"analytical"===e?3:"preference"===e?2:1,consentWithCookieUsage(),createCookie("xperience.cookieconsentlevel",e,365,".xperience.io"),1===e?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.update",consent:{functionality_storage:"granted",personalization_storage:"denied",analytics_storage:"denied",ad_storage:"denied",security_storage:"denied"}})):3===e&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.update",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"granted",ad_storage:"denied",security_storage:"denied"}}))};$(document).ready((function(){hideCookieConsentBanner()}));var copyHeadingLink=function(e){var o=$(e.target),t=window.location.origin+window.location.pathname+"#"+o.parent().attr("id");void 0===navigator.clipboard?Snackbar.show({text:"An error occurred while copying the heading link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"}):navigator.clipboard.writeText(t).then((function(){Snackbar.show({text:"Heading link copied",pos:"top-right",showAction:!1,customClass:"box-general box-info",duration:"2500",backgroundColor:"#EEF3FC",textColor:"#151515"}),o.addClass("copied")})).catch((function(){Snackbar.show({text:"An error occurred while copying the heading link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"})}))},copyIconMouseOut=function(e){var o=$(e.target);o.hasClass("copied")&&o.removeClass("copied")};$("#main-content .sp-grid-60 h2, #main-content .sp-grid-100 h2, #main-content .sp-grid-60 h3, #main-content .sp-grid-100 h3").not("div.box-general h2, div.box-general h3, h2:has(a), h3:has(a)").append('<span title="Copy link to heading" class="heading-link-icon icon-chain" onclick="copyHeadingLink(event)" onmouseout="copyIconMouseOut(event)"></span>');var initFooterLinks=function(){$(".js-qa-link").attr("href",THEME_CONFIG.KENTICO_QA_LINK),$(".js-support-link").attr("href",THEME_CONFIG.KENTICO_QA_LINK)};$(document).ready(initFooterLinks);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZW1lLmN1c3RvbS5qcyJdLCJuYW1lcyI6WyJsb25nVG9CeXRlQXJyYXkiLCJsb25nIiwiYnl0ZUFycmF5IiwiaW5kZXgiLCJsZW5ndGgiLCJieXRlIiwicGFnZUlkVG9CNjQiLCJtYXAiLCJzIiwiam9pbiIsInBhZ2VJZCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhZGRpbmciLCJnZW5lcmF0ZVRpbnlJZCIsImJ0b2FkSWQiLCJ0aW55U3RyaW5nIiwiY2hhcmFjdGVyIiwiaSIsImNoYXJBdCIsIkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQiLCJkaXNwbGF5UGFnZVVybElkIiwiYWpheCIsImxhc3RDaGFyIiwiSlNPTiIsInJlc3BvbnNlIiwicGFyc2UiLCJoYXNPd25Qcm9wZXJ0eSIsIkNPTkZJRyIsIkNPTkZMVUVOQ0VfUEFHRV9JRCIsIlByaXNtIiwiTm9ybWFsaXplV2hpdGVzcGFjZSIsInRpbnlTdWZmaXgiLCIkIiwidXJsIiwiSEVMUFNFUlZJQ0VfVVJMSURfRU5EUE9JTlQiLCJzdWNjZXNzIiwicmVzdWx0IiwidGV4dCIsIklkZW50aWZpZXIiLCJFcnJvciIsInJlYWR5Iiwic2V0RXhwb3J0UGRmIiwicGx1Z2lucyIsInNldERlZmF1bHRzIiwidG9nZ2xlUGFnZUxpbmtQYW5lbCIsImFkZENsYXNzIiwiY29weVBhZ2VMaW5rVG9DbGlwIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwidW5kZWZpbmVkIiwiU25hY2tiYXIiLCJhdHRyIiwiY29uY2F0IiwiQ09ORkxVRU5DRV9TUEFDRV9LRVkiLCJ0b0xvd2VyQ2FzZSIsInBhZ2VUaXRsZSIsInJlcGxhY2UiLCJkb2N1bWVudCIsInNob3dBY3Rpb24iLCJ2ZXJzaW9uU3dpdGNoZXJEYXRhIiwib3BlblBhZ2VMaW5rIiwicGFnZUlEIiwid3JpdGVUZXh0IiwiQkFTRV9VUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJ0aW55VXJsIiwidGV4dENvbG9yIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInNob3ciLCJwb3MiLCJjdXN0b21DbGFzcyIsImR1cmF0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwidGhlbiIsImNsb3NlUGFnZUxpbmsiLCJnZXRWZXJzaW9uVGV4dEZyb21WZXJzaW9uSWQiLCJkb2N1bWVudGF0aW9uVmVyc2lvbiIsImdldFZlcnNpb25UZXh0RnJvbUhlbHBTZXJ2aWNlSWQiLCJpdGVtIiwiaGVscFNlcnZpY2VWZXJzaW9uIiwiZmluZCIsInZlcnNpb25UZXh0IiwiSEVMUFNFUlZJQ0VfTElTVEFMVFZFUlNJT05MSU5LU19FTkRQT0lOVCIsInRpbWVvdXQiLCJ0cnlDb3VudCIsInJldHJ5TGltaXQiLCJ0aW55SUQiLCJkYXRhIiwiZXJyb3IiLCJ4aHIiLCJ0ZXh0U3RhdHVzIiwidGhpcyIsInZlcnNpb25MaW5rVXBkYXRlRG9uZSIsIm9wZW5DbG9zZVZlcnNpb25EZGwiLCJpbnNlcnRWZXJzaW9uTGlua3MiLCJ2ZXJzaW9uRGF0YSIsImxpbmtFbGVtIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YUl0ZW0iLCJWZXJzaW9uVXJsSWQiLCJVcmwiLCJlbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidG9BcnJheSIsImZvckVhY2giLCJ0ZXh0Q29udGVudCIsIlhQRVJJRU5DRTEzX01JU1NJTkdfUEFHRVNfVVJMIiwic3BsaXQiLCJwb3AiLCJpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MiLCJzZWFyY2hRdWVyeVN0cmluZ1BhcnRzIiwic2VhcmNoU2xhc2giLCJzcGFjZUtleSIsImdldERvY1ZlcnNpb24iLCJsaW5rRWxlbUhyZWZBcnJheSIsInNsaWNlIiwiQ09ORkxVRU5DRV9ERVZNT0RFTF9WRVJTSU9OU1dJVENIRVJfV0hJVEVMSVNUIiwiaW5kZXhPZiIsInNlYXJjaCIsInNwbGljZSIsImdldERvY1R5cGUiLCJhcGlFeGFtcGxlcyIsInR1dG9yaWFsIiwib3BlbkNsb3NlRG9jVHlwZURkbCIsInRvZ2dsZUNsYXNzIiwidGVzdCIsInZlcnNpb24iLCJidWlsZERvY0xpbmsiLCJzcGFjZUtleVNsYXNoIiwiZ2V0VmVyc2lvbkxpbmtUaXRsZSIsImRvY1R5cGUiLCJ1c2VEb2NUeXBlSW5MaW5rVGV4dCIsImlzQ3VycmVudCIsIk9CU09MRVRFX1NQQUNFX0tFWV9GT1JNQVRfVkVSU0lPTlMiLCJ2ZXJzaW9uUHJlZml4IiwibGlua1RleHQiLCJjbGFzc0F0dHJpYnV0ZSIsImxvYWREb2NWZXJzaW9uSGVhZGVyTGlzdCIsInVzZXJMb2dnZWRJbiIsIkRPQ19ST09UX1VSTF9TUEFDRV9LRVkiLCJjdXJyZW50RG9jVHlwZSIsImRvY1ZlcnNpb25MaW5rcyIsImF2YWlsYWJsZURvY1ZlcnNpb25zIiwidmVyc2lvbklkIiwiY3VycmVudERvY1ZlcnNpb24iLCJhdmFpbGFibGVEb2NUeXBlcyIsImRvY1R5cGVMaW5rcyIsIkRPQ1VNRU5UQVRJT05fVkVSU0lPTlMiLCJmaWx0ZXIiLCJERVZfRE9DVU1FTlRBVElPTl9WRVJTSU9OX0lEIiwibG9hZEhlYWRlckxpc3RzIiwiaHRtbCIsInJlZ2lzdGVyUGFnZVRyZWVFdmVudEhhbmRsZXIiLCJidXR0b25WZXJzaW9uIiwib2xkZXJWZXJzaW9uc0J1dHRvbiIsIm9sZGVyVmVyc2lvbnNMaXN0IiwibG9hZERvY1R5cGVIZWFkZXJMaXN0IiwiYnV0dG9uRG9jVHlwZSIsInRhcmdldCIsImRldk1vZGVsTGlzdCIsImNsb3NlSGVhZGVyRHJvcERvd25zIiwib24iLCJnZXRQYWdlTGFiZWxzIiwicGFyZW50IiwibGkiLCJsYWJlbHMiLCJpcyIsInNldERldk1vZGVsV2ViU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsImV2ZW50Iiwia2VudGljb0RvY3VtZW50YXRpb25Nb2RlIiwiZGV2TW9kZWxCdXR0b24iLCJxdWVyeVN0cmluZ1BhcmFtcyIsImhhcyIsImN1cnJlbnRsYWJlbHMiLCJjbGljayIsImlzRGV2TW9kZWxTd2l0Y2hlclN1cHBvcnRlZCIsImN1cnJlbnRTcGFjZUtleSIsImluY2x1ZGVzIiwidHJhbnNsYXRlVG9IZWxwU2VydmljZVZlcnNpb24iLCJTdG9yYWdlIiwic3dpdGNoRGV2TW9kZWxTdG9yYWdlIiwiY3VycmVudExhYmVscyIsImluaXRBbHREZXZNb2RlbExpbmsiLCJjdXJyZW50TW9kZWwiLCJnZXRDdXJyZW50RGV2TW9kZWwiLCJhbGxEZXZNb2RlbFBhZ2UiLCJnZXRJdGVtIiwiYWx0RGV2TW9kZWxFbGVtZW50IiwiZGV2TW9kZWxNYXAiLCJhbHREZXZNb2RlbCIsInBhdGhOYW1lQXJyYXkiLCJrZW50aWNvVGhlbWVPcGVuU2VhcmNoUmVzdWx0c1BhZ2UiLCJvcGVuQ2xvc2VEZXZNb2RlbERkbCIsInRhcmdldE1vZGVsIiwibXZjIiwicGUiLCJhbHRNb2RlbFRleHQiLCJjb3JlRnJhbWV3b3JrT25DbGljayIsIm12Y0ZyYW1ld29ya09uQ2xpY2siLCJrZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInVybFBhcmFtcyIsInBhdGhuYW1lIiwiaGFzaCIsImRldk1vZGVsUmVsb2FkVXJsIiwic2V0Q29ycmVjdEZyYW1ld29yayIsImNoZWNrVXJsUGFyYW1ldGVycyIsImFsdFBhZ2VJZGVudGlmaWVyIiwiYWx0UGFnZVVybCIsIkhFTFBTRVJWSUNFX0xJTktNQVBQRVJfRU5EUE9JTlQiLCJjc3MiLCJzZXREZXZGcmFtZXdvcmtDaGVja2JveCIsInNldEhvdmVyVGl0bGVzIiwicHJvcCIsImN1cnJlbnRNb2RlbFRleHQiLCJhbHRNb2RlbEhvbWVMaW5rIiwic2V0RGV2RnJhbWV3b3JrU3dpdGNoZXIiLCJzZXREZXZGcmFtZXdvcmtCdXR0b25zIiwic2hvd0RldkZyYW1ld29ya1N3aXRjaGVyIiwic3RvcFByb3BhZ2F0aW9uIiwiJHNjcm9sbGFibGVDb250ZW50IiwiaGVhZGVySGVpZ2h0IiwiY3VycmVudEl0ZW1Ub3AiLCJpbml0U2lkZWJhciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFyZ3VtZW50cyIsInNlYXJjaFF1ZXJ5IiwiZGV2TW9kZWxQYXJhbWV0ZXIiLCJVUkxTZWFyY2hQYXJhbXMiLCJnZXQiLCJTQ1JPTExfV0VCSEVMUCIsIm5hdmlnYXRlVG9TZWFyY2hQYWdlIiwic2VhcmNoSW5wdXRFbGVtZW50aW5wdXQiLCJzZWFyY2hCdXR0b24iLCJzZWFyY2hEcm9wZG93biIsImZpcnN0Iiwib3V0ZXJIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJjbGllbnRXaWR0aCIsImFuaW1hdGUiLCJNYXRoIiwicm91bmQiLCJyaWdodFBhZGRpbmciLCJjYWxsYmFjayIsImxhc3RIZWlnaHQiLCJuZXdIZWlnaHQiLCJ2YWwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb2RlQ29udGVudCIsIm5leHQiLCJxdWVyeVNlbGVjdG9yIiwiZXhwYW5kQ29udHJvbFRleHQiLCJzaG93QWxsUmVzdWx0c0NoZWNrYm94RWxlbSIsImNoZWNrZWQiLCJ1c2VEZXZNb2RlbEZpbHRlcmluZyIsInVuYmluZCIsInRvZ2dsZVNlYXJjaFN1Z2dlc3Rpb25zIiwic2VhcmNoSW5wdXQiLCJzZWxlY3RlZFNlYXJjaExpbmtFbGVtZW50IiwibmV3VGFiIiwiaW5uZXJXaWR0aCIsInNldENvbnRlbnRUb3BQYWRkaW5nIiwic2VhcmNoYm94RWxlbWVudCIsInNob3dGcm9udExheWVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXNpemUiLCJjcmVhdGVDb29raWUiLCJleHBpcmVzIiwiZG9jdW1lbnRFbGVtZW50IiwiZGF0ZSIsIkRhdGUiLCJ3aWR0aCIsImxlZnRQb3NpdGlvbiIsImdldFRpbWUiLCJvZmZzZXQiLCJsZWZ0Iiwidmlld1dpZHRoIiwidG9VVENTdHJpbmciLCJuYW1lIiwicmlnaHQiLCJlcmFzZUNvb2tpZSIsImNvb2tpZVZhbHVlIiwiY29va2llIiwiY29va2llRW5hYmxlZCIsImVsbSIsInJ1biIsImNsaWVudEhlaWdodCIsImxldmVsIiwiY2xlYXJUaW1lb3V0Iiwib25FbGVtZW50SGVpZ2h0Q2hhbmdlVGltZXIiLCJzZXRUaW1lb3V0Iiwic2V0Rm9vdGVyV2lkdGgiLCJvbkVsZW1lbnRIZWlnaHRDaGFuZ2UiLCJib2R5IiwiY29uc2VudFdpdGhDb29raWVVc2FnZSIsInNlYXJjaGJveEZvY3VzZWQiLCJvcGVuTGluayIsImFuY2hvckxpbmsiLCJvcGVuIiwiZm9jdXMiLCJ0cmltIiwiY2hpbGRyZW4iLCJoaWRlIiwic2hvd0hpZGVTZWFyY2hUaXBzIiwiY2xpY2tlZEljb24iLCJzdHlsZSIsInZpc2liaWxpdHkiLCJoaWRlRnJvbnRMYXllciIsImNvcHlJY29uTW91c2VPdXQiLCJjb3B5SGVhZGluZ0xpbmtJY29uIiwidmFsdWUiLCJkYXlzIiwiZG9tYWluIiwic2V0VGltZSIsImhlYWRpbmdFbGVtZW50cyIsImluaXRGb290ZXJMaW5rcyIsIlRIRU1FX0NPTkZJRyIsIktFTlRJQ09fUUFfTElOSyIsImhpZGVDb29raWVDb25zZW50QmFubmVyIiwic2V0Q29va2llTGV2ZWwiLCJkYXRhTGF5ZXIiLCJwdXNoIiwiY29uc2VudCIsImZ1bmN0aW9uYWxpdHlfc3RvcmFnZSIsInBlcnNvbmFsaXphdGlvbl9zdG9yYWdlIiwiYW5hbHl0aWNzX3N0b3JhZ2UiLCJhZF9zdG9yYWdlIiwic2VjdXJpdHlfc3RvcmFnZSIsImNvcHlIZWFkaW5nTGluayIsIm9yaWdpbiIsImNhdGNoIiwibm90IiwiYXBwZW5kIl0sIm1hcHBpbmdzIjoiQUFTQSxJQUFJQSxnQkFBa0IsU0FBeUJDLEdBRTNDLElBREEsSUFBSUMsRUFBYyxDQUFBLEVBQUcsRUFBRyxFQUFJLEdBQ2xCQyxFQUFXQSxFQUFBQSxFQUFRRCxFQUFVRSxPQUFRRCxJQUFXLENBQ3hELElBQUlFLEVBQWMsSUFBUEosRUFDWEMsRUFBWUMsR0FBY0UsRUFDMUJKLEdBQVFBLEVBQU9JLEdBQVEsR0FDekIsQ0FDQSxPQUFPSCxDQUNYLEVBS0lJLFlBQ0lOLFNBQ0tPLEdBRUcsT0FBT0MsS0FFVkMsZ0JBRUVDLEdBQ2RILElBQUFJLE9BQUFDLGNBTllMLEtBQUksU0FBVUMsR0FTM0IsT0FBQUEsRUFBQSxFQUNBLElBQ0FDLEtBQUEsS0FFUUksUUFBTyxL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L1IsU0FBU3FCLEtBQUssQ0FBQ2xDLEtBQU0sb0VBQXFFbUMsSUFBSyxZQUFhZCxZQUFZLEVBQU9lLFlBQWEsMEJBQTJCQyxTQUFVLE9BQVFDLGdCQUFpQixVQUFXUCxVQUFVLFdBQ25PLEdBRVosRUFHSXVQLGlCQUFtQixTQUEwQjlHLEdBQ2hELElBQUkwRyxFQUFjdlIsRUFBRTZLLEVBQUUzQyxRQUNsQnFKLEVBQVlsUCxTQUFTLFdBQ2xCa1AsRUFBWWpQLFlBQVksU0FFaEMsRUFVQ3RDLEVBSnNCLDRIQUlIa1QsSUFBSSxnRUFBZ0VDLE9BUDdELHlKQVUzQixJQUFJakIsZ0JBQWtCLFdBRW5CbFMsRUFBRSxlQUFlbUIsS0FBSyxPQUFRZ1IsYUFBYUMsaUJBQzNDcFMsRUFBRSxvQkFBb0JtQixLQUFLLE9BQVFnUixhQUFhQyxnQkFDbkQsRUFFQXBTLEVBQUV5QixVQUFVakIsTUFBTTBSIiwiZmlsZSI6InRoZW1lLmN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PUVYUEVSSU1FTlRBTD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBhZ2UgVGlueUlEIEdlbmVyYXRvciAtIHByb2dyYW1tYXRpY2FsbHkgZ2VuZXJhdGVzIHBhZ2UgaWRlbnRpZmllcnNcclxuLy8gQ3VycmVudGx5IG9ubHkgdXNlZCB3aGVuIHJldHJpZXZpbmcgcGFnZSBIZWxwU2VydmljZSBpZGVudGlmaWVycyB2aWEgJ0dldCBIZWxwU2VydmljZSBJRCdcclxuLy8gQWNjZXNzaWJsZSBmcm9tIENPTkZJRy5DT05GTFVFTkNFX1BBR0VfVElOWUlEXHJcbi8vIGh0dHBzOi8vY29uZmx1ZW5jZS5hdGxhc3NpYW4uY29tL2NvbmZrYi9ob3ctdG8tcHJvZ3JhbW1hdGljYWxseS1nZW5lcmF0ZS10aGUtdGlueS1saW5rLW9mLWEtY29uZmx1ZW5jZS1wYWdlLTk1NjcxMzQzMi5odG1sXHJcbi8vIFRoZSBsb25nIHRvIGJ5dGUgYXJyYXkgY29udmVyc2lvbiBpcyB0YWtlbiBmcm9tIHRoaXMgc291cmNlOlxyXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NDgyMzA5L2NvbnZlcnRpbmctamF2YXNjcmlwdC1pbnRlZ2VyLXRvLWJ5dGUtYXJyYXktYW5kLWJhY2tcclxuXHJcbi8vIENvbnZlcnRzIHRoZSBwYWdlIGlkIHRvIGEgYnl0ZSBhcnJheSBmb3IgZnVydGhlciBlbmNvZGluZ1xyXG52YXIgbG9uZ1RvQnl0ZUFycmF5ID0gZnVuY3Rpb24gbG9uZ1RvQnl0ZUFycmF5KGxvbmcpIHtcclxuICAgIHZhciBieXRlQXJyYXkgPSBbMCwgMCwgMCwgMF07XHJcbiAgICBmb3IgKCB2YXIgaW5kZXggPSAwOyBpbmRleCA8IGJ5dGVBcnJheS5sZW5ndGg7IGluZGV4ICsrICkge1xyXG4gICAgICB2YXIgYnl0ZSA9IGxvbmcgJiAweGZmO1xyXG4gICAgICBieXRlQXJyYXkgWyBpbmRleCBdID0gYnl0ZTtcclxuICAgICAgbG9uZyA9IChsb25nIC0gYnl0ZSkgLyAyNTYgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJ5dGVBcnJheTtcclxufTtcclxuXHJcblxyXG4vLyBFbmNvZGVzIHByb3ZpZGVkIHBhZ2UgaWQgaW4gQmFzZS02NFxyXG52YXIgcGFnZUlkVG9CNjQgPSBmdW5jdGlvbiBwYWdlSWRUb0I2NChwYWdlSWQpIHtcclxuICAgIHJldHVybiBidG9hKFxyXG4gICAgICAgIGxvbmdUb0J5dGVBcnJheShwYWdlSWQpXHJcbiAgICAgICAgICAgIC5tYXAoU3RyaW5nLmZyb21DaGFyQ29kZSlcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNbMF07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5qb2luKFwiXCIpXHJcbiAgICAgIClcclxuICAgICAgLnJlcGxhY2UoLz0vZyxcIlwiKTtcclxufTtcclxuXHJcblxyXG4vLyBHZW5lcmF0ZXMgYSBDb25mbHVlbmNlIHBhZ2UgaWRlbnRpZmllciBmcm9tIHRoZSBwcm92aWRlZCBCLTY0IGVuY29kZWQgcGFnZSBpZFxyXG4vLyBUYWtlbiBkaXJlY3RseSBmcm9tIENvbmZsdWVuY2UgU2VydmVyIDcuMiBzb3VyY2UgY29kZVxyXG4vLyBjb20uYXRsYXNzaWFuLmNvbmZsdWVuY2UucGFnZXMuVGlueUlkXHJcbnZhciBnZW5lcmF0ZVRpbnlJZCA9IGZ1bmN0aW9uIGdlbmVyYXRlVGlueUlkKGJ0b2FkSWQpIHtcclxuICAgIHZhciBwYWRkaW5nID0gdHJ1ZTtcclxuICAgIHZhciB0aW55U3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gYnRvYWRJZC5sZW5ndGggLSAxOyBpID49IDAgOyBpLS0pIHtcclxuXHJcbiAgICAgICAgdmFyIGNoYXJhY3RlciA9IGJ0b2FkSWQuY2hhckF0KGkpO1xyXG5cclxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSAnPScgfHwgY2hhcmFjdGVyID09ICdcXG4nKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgaWYgKHBhZGRpbmcgJiYgY2hhcmFjdGVyID09PSAnQScpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBwYWRkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgPT09ICcvJykge1xyXG4gICAgICAgICAgICB0aW55U3RyaW5nID0gJy0nICsgdGlueVN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2hhcmFjdGVyID09PSAnKycpIHtcclxuICAgICAgICAgICAgdGlueVN0cmluZyA9ICdfJyArIHRpbnlTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aW55U3RyaW5nID0gY2hhcmFjdGVyICsgdGlueVN0cmluZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRpbnlTdHJpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBsYXN0Q2hhciA9IHRpbnlTdHJpbmcuY2hhckF0KHRpbnlTdHJpbmcubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgIC8vIENPTkYtOTI5OSBzb21lIGVtYWlsIGNsaWVudHMgZG9uJ3QgbGlrZSBVUkxzIHRoYXQgZW5kIHdpdGggYSBwdW5jdGF0aW9uXHJcbiAgICAgICAgaWYgKGxhc3RDaGFyID09PSAnLScgfHwgbGFzdENoYXIgPT09ICdfJylcclxuICAgICAgICAgICAgdGlueVN0cmluZyArPSAnLyc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRpbnlTdHJpbmc7XHJcbn07XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1FTkQgRVhQRVJJTUVOVEFMPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cclxuLy8gRHluYW1pY2FsbHkgY29tcHV0ZWQgcHJvcGVydGllc1xyXG4vKiogVGhlIENvbmZsdWVuY2UgJ1RpbnlJZCcgb2YgdGhlIGN1cnJlbnQgcGFnZSAqL1xyXG5DT05GSUcuQ09ORkxVRU5DRV9QQUdFX1RJTllJRCA9IGdlbmVyYXRlVGlueUlkKHBhZ2VJZFRvQjY0KENPTkZJRy5DT05GTFVFTkNFX1BBR0VfSUQpKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IHBhZ2UgVXJsIElEIHJldHJpZXZlciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBkaXNwbGF5UGFnZVVybElkID0gZnVuY3Rpb24gZGlzcGxheVBhZ2VVcmxJZChwYWdlSWQpIHtcclxuICAgIC8vIFVzZSBjb21wdXRlZCBUaW55SURcclxuICAgIHZhciB0aW55U3VmZml4ID0gQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQ7XHJcbiAgICBpZiAodGlueVN1ZmZpeCkge1xyXG4gICAgICAgIC8vIHZhciBhcnJheSA9IHRpbnlTdWZmaXguc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogQ09ORklHLkhFTFBTRVJWSUNFX1VSTElEX0VORFBPSU5UICsgdGlueVN1ZmZpeCxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc093blByb3BlcnR5KFwiSWRlbnRpZmllclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcGFnZVVybElkXCIpLnRleHQoXCIgSGVscCBTZXJ2aWNlIElEOiBcIiArIHJlc3BvbnNlLklkZW50aWZpZXIgKyBcIiAoVGlueUlEOiBcIiArIHRpbnlTdWZmaXggKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2VVcmxJZFwiKS50ZXh0KFwiIEhlbHAgU2VydmljZSBJRDogXCIgKyByZXNwb25zZS5FcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDgwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgJChcIiNwYWdlVXJsSWRcIikudGV4dChcIkVycm9yIHdoZW4gZ2VuZXJhdGluZyB0aGUgcGFnZSB0aW55IElELiBTZWUgdGhlIGNvbnNvbGUgZm9yIGRldGFpbHMuXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUFJJU00gV0hJVEVTUEFDRSBOT1JNQUxJWkFUSU9OIENPTkZJRyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblByaXNtLnBsdWdpbnMuTm9ybWFsaXplV2hpdGVzcGFjZS5zZXREZWZhdWx0cyh7XHJcbiAgICAncmVtb3ZlLXRyYWlsaW5nJzogdHJ1ZSxcclxuICAgICdyZW1vdmUtaW5kZW50JzogdHJ1ZSxcclxuICAgICdsZWZ0LXRyaW0nOiB0cnVlLFxyXG4gICAgJ3JpZ2h0LXRyaW0nOiB0cnVlLFxyXG4gICAgLy8gRG9lcyBub3QgcHJlc2VydmUgY29tbWVudCBoaWdobGlnaHQgb24gbmV4dCBsaW5lXHJcbiAgICAvLyAnYnJlYWstbGluZXMnOiA4MCxcclxuICAgICdyZW1vdmUtaW5pdGlhbC1saW5lLWZlZWQnOiBmYWxzZSxcclxuICAgICd0YWJzLXRvLXNwYWNlcyc6IDRcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBERiBFWFBPUlQgID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIHNldEV4cG9ydFBkZiA9IGZ1bmN0aW9uIGV4cG9ydFBkZigpIHtcclxuICAgIHZhciBwYWdlVGl0bGUgPSAkKCdib2R5JykuYXR0cignZGF0YS1wYWdldGl0bGUnKTtcclxuICAgICQoXCIjZXhwb3J0LXBkZlwiKS5hdHRyKCdocmVmJywgYC4uL3BkZi8ke0NPTkZJRy5DT05GTFVFTkNFX1NQQUNFX0tFWS50b0xvd2VyQ2FzZSgpfS8ke3BhZ2VUaXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZyxcIi1cIil9LnBkZmApO1xyXG59O1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoc2V0RXhwb3J0UGRmKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUEFHRSBUSU5ZIExJTktTID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIEdldHMgdGhlIHBhZ2UgdGlueSBsaW5rIFVSTCB1c2luZyBSRVNUIGFuZCBzaG93cyB0aGUgcGFnZSBsaW5rIHBhbmVsXHJcbnZhciBvcGVuUGFnZUxpbmsgPSBmdW5jdGlvbiBvcGVuUGFnZUxpbmsocGFnZUlEKSB7XHJcbiAgICBpZiAoQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQpIHtcclxuICAgICAgICB0b2dnbGVQYWdlTGlua1BhbmVsKENPTkZJRy5CQVNFX1VSTCArICcveC8nICsgQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0b2dnbGVQYWdlTGlua1BhbmVsKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgIH1cclxufTtcclxuXHJcbnZhciB0b2dnbGVQYWdlTGlua1BhbmVsID0gZnVuY3Rpb24gdG9nZ2xlUGFnZUxpbmtQYW5lbCh0aW55VXJsKSB7XHJcbiAgICAkKFwiI3BhZ2UtbGluay10ZXh0Ym94XCIpLmF0dHIoXCJ2YWx1ZVwiLCB0aW55VXJsKTtcclxuICAgIGlmICgkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5oYXNDbGFzcyhcInNob3dcIikpIHtcclxuICAgICAgICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBBdHRlbXB0cyB0byBjb3B5IHRoZSBwYWdlIGxpbmsgdmFsdWUgdG8gdGhlIGNsaXBib2FyZFxyXG52YXIgY29weVBhZ2VMaW5rVG9DbGlwID0gZnVuY3Rpb24gY29weVBhZ2VMaW5rVG9DbGlwKCkge1xyXG5cdGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFNuYWNrYmFyLnNob3coe3RleHQ6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgcGFnZSBsaW5rIHRvIHRoZSBjbGlwYm9hcmRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LXdhcm5pbmcnLCBkdXJhdGlvbjogJzM1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZFQkVCJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoJChcIiNwYWdlLWxpbmstdGV4dGJveFwiKS5hdHRyKFwidmFsdWVcIikpXHJcblx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRTbmFja2Jhci5zaG93KHt0ZXh0OiBcIlBhZ2UgbGluayBjb3BpZWRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LWluZm8nLCBkdXJhdGlvbjogJzI1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRUVGM0ZDJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIFNuYWNrYmFyLnNob3coe3RleHQ6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgcGFnZSBsaW5rIHRvIHRoZSBjbGlwYm9hcmRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LXdhcm5pbmcnLCBkdXJhdGlvbjogJzM1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZFQkVCJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gQ2xvc2VzIHRoZSBwYWdlIGxpbmsgcGFuZWxcclxuY29uc3QgY2xvc2VQYWdlTGluayA9ICgpID0+ICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBIRUFERVIgU1BBQ0UgU1dJVENIRVIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gQ29udmVydHMgdGhlIHZlcnNpb24gbnVtYmVyIHRvIHRoZSBhcHByb3ByaWF0ZSB2ZXJzaW9uIHRleHRcclxuY29uc3QgZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkID0gKGRvY3VtZW50YXRpb25WZXJzaW9uKSA9PlxyXG4gICAgRE9DVU1FTlRBVElPTl9WRVJTSU9OUy5maW5kKChpdGVtKSA9PiBpdGVtLnZlcnNpb25JZCA9PSBkb2N1bWVudGF0aW9uVmVyc2lvbikudmVyc2lvblRleHQ7XHJcblxyXG5cclxuLy8gVHJhbnNsYXRlcyB0aGUgSUQgdXNlZCBieSB0aGUgZG9jdW1lbnRhdGlvbiBoZWxwIHNlcnZpY2UgdG8gS2VudGljbyB2ZXJzaW9uIHRleHRcclxuY29uc3QgZ2V0VmVyc2lvblRleHRGcm9tSGVscFNlcnZpY2VJZCA9IChoZWxwU2VydmljZVZlcnNpb24pID0+XHJcbiAgICBET0NVTUVOVEFUSU9OX1ZFUlNJT05TLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaGVscFNlcnZpY2VWZXJzaW9uID09IGhlbHBTZXJ2aWNlVmVyc2lvbikudmVyc2lvblRleHQ7XHJcblxyXG5cclxudmFyIHZlcnNpb25Td2l0Y2hlckRhdGE7XHJcbi8qKiBBdHRlbXB0cyB0byBsb2FkIHZlcnNpb24gbGluayBkYXRhIGZyb20gdGhlIGtlbnRpY28uY29tIGhlbHAgc2VydmljZVxyXG4gICAgVGhlIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCBvbiBkb2N1bWVudCBsb2FkIGluIGluY2x1ZGUtYm9keWVuZHNjcmlwdHMudm0gLVxyXG4gICAgd2hlcmUgd2UgY2FuIGNvbmRpdGlvbmFsbHkgaW5jbHVkZSBpdCBkdWUgdG8gc2Nyb2xsIHZpZXdwb3J0IGNvbnRleHR1YWwgdmFyaWFibGVzXHJcbiAgICBAcGFyYW0ge3N0cmluZ30gdGlueUlEIC0gdGhlIHNob3J0IGlkZW50aWZpZXIgb2YgdGhlIHRhcmdldCBDb25mbHVlbmNlIHBhZ2UgKi9cclxudmFyIGxvYWRWZXJzaW9uTGlua0RhdGEgPSBmdW5jdGlvbiBsb2FkVmVyc2lvbkxpbmtEYXRhKHRpbnlJRCkge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgdXJsOiBDT05GSUcuSEVMUFNFUlZJQ0VfTElTVEFMVFZFUlNJT05MSU5LU19FTkRQT0lOVCArIHRpbnlJRCxcclxuICAgICAgICB0aW1lb3V0OiAyMDAwLFxyXG4gICAgICAgIHRyeUNvdW50IDogMCxcclxuICAgICAgICByZXRyeUxpbWl0IDogMyxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyBTYXZlIHRoZSB2ZXJzaW9uIHN3aXRjaGVyIGRhdGEgdG8gYSB2YXJpYWJsZS4gVXNlZCBpbiAnaW5zZXJ0VmVyc2lvbkxpbmtzKCknIGNhbGxlZCBmcm9tICdpbmNsdWRlLXNwYWNlLXN3aXRjaGVyLnZtJy5cclxuICAgICAgICAgICAgdmVyc2lvblN3aXRjaGVyRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBBZGRlZCByZXRyeSBsb2dpYyBpbiBjYXNlIHRoZSByZXRyaWV2YWwgZmFpbHMuIEluc3BpcmF0aW9uOlxyXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDI0NDY5L3doYXRzLXRoZS1iZXN0LXdheS10by1yZXRyeS1hbi1hamF4LXJlcXVlc3Qtb24tZmFpbHVyZS11c2luZy1qcXVlcnlcclxuICAgICAgICBlcnJvciA6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICkge1xyXG4gICAgICAgICAgICBpZiAodGV4dFN0YXR1cyA9PSBcInRpbWVvdXRcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cnlDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJ5Q291bnQgPD0gdGhpcy5yZXRyeUxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90cnkgYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxudmFyIHZlcnNpb25MaW5rVXBkYXRlRG9uZSA9IGZhbHNlO1xyXG5cclxuLy8gUmVwbGFjZXMgdGhlIGRlZmF1bHQgc3BhY2Ugcm9vdCB2ZXJzaW9uIGxpbmtzIHdpdGggc3BlY2lmaWMgcGFnZSBsaW5rc1xyXG52YXIgaW5zZXJ0VmVyc2lvbkxpbmtzID0gZnVuY3Rpb24gaW5zZXJ0VmVyc2lvbkxpbmtzKHZlcnNpb25EYXRhKSB7XHJcbiAgICBpZiAodmVyc2lvbkRhdGEgPT09IHVuZGVmaW5lZClcclxuICAgIHtcclxuICAgICAgICBvcGVuQ2xvc2VWZXJzaW9uRGRsKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2ZXJzaW9uTGlua1VwZGF0ZURvbmUpXHJcbiAgICB7XHJcbiAgICAgICAgb3BlbkNsb3NlVmVyc2lvbkRkbCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2ZXJzaW9uRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhSXRlbSkge1xyXG4gICAgdmFyIGxpbmtFbGVtID0gJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYTpjb250YWlucyhcIiArIGdldFZlcnNpb25UZXh0RnJvbUhlbHBTZXJ2aWNlSWQoZGF0YUl0ZW0uVmVyc2lvblVybElkKSArIFwiKVwiKTtcclxuICAgICAgICBpZiAobGlua0VsZW0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsaW5rRWxlbS5hdHRyKFwiaHJlZlwiLCBkYXRhSXRlbS5VcmwpO1xyXG4gICAgICAgICAgICBsaW5rRWxlbS5hZGRDbGFzcyhcIiBwb3B1bGF0ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYVwiKS50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCl7XHJcblx0XHRpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdWxhdGVkXCIpKVxyXG5cdFx0e1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJlbXB0eVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSAxIC0gdGhlIFhwZXJpZW5jZSAxMyBkb2NzIGxpbmsgdG8gYSBzcGVjaWFsIHBhZ2UgaW5zdGVhZCBvZiB0aGUgSG9tZSByb290IGZvciBwYWdlcyB0aGF0IGRvIG5vdCBoYXZlIGEgZGlyZWN0IGVxdWl2YWxlbnRcclxuXHRcdFx0aWYgKGVsZW1lbnQudGV4dENvbnRlbnQgPT09IFwiWHBlcmllbmNlIDEzXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyIGNvbnRhaW5zIHRoZSBsYXN0IFVSTCBzZWdtZW50IChwYWdlIHRpdGxlKS4gUHJvY2Vzc2VkIGJ5IGphdmFzY3JpcHQgaW5jbHVkZWQgZGlyZWN0bHkgb24gdGhlIFwiTWlzc2luZyBkb2N1bWVudGF0aW9uIHBhZ2VzXCIgcGFnZS5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBDT05GSUcuWFBFUklFTkNFMTNfTUlTU0lOR19QQUdFU19VUkwgKyBcIj9yZWY9XCIgKyAkKGxvY2F0aW9uKS5hdHRyKFwiaHJlZlwiKS5zcGxpdCgnLycpLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgXCJUaGUgY3VycmVudCBwYWdlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIFhwZXJpZW5jZSAxMyBkb2N1bWVudGF0aW9uLiBcXHJcXG5Zb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvIGEgZ2VuZXJhbCBndWlkYW5jZSBwYWdlLlwiKTtcdFx0XHRcdFxyXG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgMiAtIHRoZSBYUCBkb2NzIGxpbmsgdG8gYSBzcGVjaWFsIHBhZ2UgaW5zdGVhZCBvZiB0aGUgSG9tZSByb290IGZvciBwYWdlcyB0aGF0IGRvIG5vdCBoYXZlIGEgZGlyZWN0IGVxdWl2YWxlbnRcclxuXHRcdFx0fSBlbHNlIGlmIChlbGVtZW50LnRleHRDb250ZW50ID09PSBcIlhwZXJpZW5jZSBieSBLZW50aWNvXCIpIHtcclxuXHRcdFx0XHQvLyBUaGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciBjb250YWlucyB0aGUgbGFzdCBVUkwgc2VnbWVudCAocGFnZSB0aXRsZSkuIFByb2Nlc3NlZCBieSBqYXZhc2NyaXB0IGluY2x1ZGVkIGRpcmVjdGx5IG9uIHRoZSBcIk1pc3NpbmcgZG9jdW1lbnRhdGlvbiBwYWdlc1wiIHBhZ2UuXHJcblx0XHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIENPTkZJRy5YUF9NSVNTSU5HX1BBR0VTX1VSTCArIFwiP3JlZj1cIiArICQobG9jYXRpb24pLmF0dHIoXCJocmVmXCIpLnNwbGl0KCcvJykucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBcIlRoZSBjdXJyZW50IHBhZ2UgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgWHBlcmllbmNlIGJ5IEtlbnRpY28gZG9jdW1lbnRhdGlvbi4gXFxyXFxuWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byBhIGdlbmVyYWwgZ3VpZGFuY2UgcGFnZS5cIik7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIFwiVGhlIGN1cnJlbnQgcGFnZSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGlzIGRvY3VtZW50YXRpb24gdmVyc2lvbi4gXFxyXFxuWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgaG9tZSBwYWdlIGZvciB0aGlzIHZlcnNpb24uXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2ZXJzaW9uTGlua1VwZGF0ZURvbmUgPSB0cnVlO1xyXG5cclxuICAgIG9wZW5DbG9zZVZlcnNpb25EZGwoKTtcclxufTtcclxuXHJcblxyXG5cclxuLy8gUmVwbGFjZXMgdGhlIGRlZmF1bHQgc3BhY2Ugcm9vdCB2ZXJzaW9uIGxpbmtzIHdpdGggc2VhcmNoIHBhZ2UgbGlua3MsIGluY2x1ZGluZyB0aGUgY3VycmVudCBwYXJhbWV0ZXJzXHJcbnZhciBpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MgPSBmdW5jdGlvbiBpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MoKSB7XHJcbiAgICBpZiAoIXZlcnNpb25MaW5rVXBkYXRlRG9uZSkge1xyXG4gICAgICAgIHZhciB2ZXJzaW9uTGlua0VsZW1zID0gJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYVwiKTtcclxuICAgICAgICB2ZXJzaW9uTGlua0VsZW1zLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBDaGVja3Mgd2hldGhlciB0aGUgbGlua2VkIHZlcnNpb24gc3VwcG9ydHMgdGhlIGRldiBtb2RlbCBzd2l0Y2hlclxyXG4gICAgICAgICAgICAvLyBJZiBpdCBkb2VzIG5vdCwgcmVtb3ZlcyBsYWJlbCBmaWx0ZXJpbmcgb2Ygc2VhcmNoIHJlc3VsdHNcclxuICAgICAgICAgICAgdmFyIGxpbmtFbGVtSHJlZkFycmF5ID0gdGhpcy5ocmVmLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgdmFyIHNwYWNlS2V5ID0gZ2V0RG9jVmVyc2lvbihsaW5rRWxlbUhyZWZBcnJheVtsaW5rRWxlbUhyZWZBcnJheS5sZW5ndGggLSAxXSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGRzIGEgc2xhc2ggc2VwYXJhdG9yIGlmIHRoZSBsaW5rIGRvZXMgbm90IGFscmVhZHkgZW5kIGluIGEgc2xhc2hcclxuICAgICAgICAgICAgdmFyIHNlYXJjaFNsYXNoID0gKCh0aGlzLmhyZWYuc2xpY2UoLTEpICE9PSBcIi9cIikgPyBcIi9cIiA6IFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKENPTkZJRy5DT05GTFVFTkNFX0RFVk1PREVMX1ZFUlNJT05TV0lUQ0hFUl9XSElURUxJU1QuaW5kZXhPZihzcGFjZUtleSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gS2VlcHMgdGhlIGZ1bGwgcXVlcnkgc3RyaW5nIGlmIHRoZSBsaW5rZWQgdmVyc2lvbiBzdXBwb3J0cyB0aGUgZGV2IG1vZGVsIHN3aXRjaGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhyZWYgPSB0aGlzLmhyZWYgKyBzZWFyY2hTbGFzaCArIFwic2VhcmNoXCIgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0cyB0aGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlcnMgdXNlZCBieSB0aGUgY3VycmVudCBzZWFyY2ggcmVzdWx0cyBwYWdlXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoUXVlcnlTdHJpbmdQYXJ0cyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoXCImXCIpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHNlYXJjaFF1ZXJ5U3RyaW5nUGFydHMubGVuZ3RoOyBpLS0gPiAwOykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZXMgdGhlIGxhYmVsIGZpbHRlcmluZyBwYXJhbWV0ZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUXVlcnlTdHJpbmdQYXJ0c1tpXS5pbmRleE9mKFwibD1cIikgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hRdWVyeVN0cmluZ1BhcnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5ocmVmID0gdGhpcy5ocmVmICsgc2VhcmNoU2xhc2ggKyBcInNlYXJjaFwiICsgc2VhcmNoUXVlcnlTdHJpbmdQYXJ0cy5qb2luKFwiJlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZlcnNpb25MaW5rVXBkYXRlRG9uZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkNsb3NlVmVyc2lvbkRkbCgpO1xyXG59O1xyXG5cclxuXHJcbi8vIERpc3BsYXlzL2hpZGVzIHRoZSBkb2N1bWVudGF0aW9uIHR5cGUgc2VsZWN0b3IgZHJvcC1kb3duIGxpc3RcclxudmFyIG9wZW5DbG9zZURvY1R5cGVEZGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGwtZG9jVHlwZVwiKS50b2dnbGVDbGFzcyhcInNob3dcIik7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGxCdG4tZG9jVHlwZVwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxufTtcclxuXHJcbi8vIERpc3BsYXlzL2hpZGVzIHRoZSBkb2N1bWVudGF0aW9uIHZlcnNpb24gc2VsZWN0b3IgZHJvcC1kb3duIGxpc3RcclxudmFyIG9wZW5DbG9zZVZlcnNpb25EZGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGwtdmVyc2lvblwiKS50b2dnbGVDbGFzcyhcInNob3dcIik7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGxCdG4tdmVyc2lvblwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxufTtcclxuXHJcblxyXG4vLyBSZXR1cm5zIHRoZSBkb2N1bWVudGF0aW9uIHR5cGUgZm9yIGEgc3BlY2lmaWVkIHNwYWNlIGtleVxyXG52YXIgZ2V0RG9jVHlwZSA9IGZ1bmN0aW9uIChzcGFjZUtleSkge1xyXG4gICAgdmFyIGFwaUV4YW1wbGVzID0gL2FwaS9pO1xyXG4gICAgdmFyIHR1dG9yaWFsID0gL3R1dG9yaWFsL2k7XHJcbiAgICBpZiAoYXBpRXhhbXBsZXMudGVzdChzcGFjZUtleSkpIHtcclxuICAgICAgICByZXR1cm4gXCJBUEkgRXhhbXBsZXNcIjtcclxuICAgIH1cclxuICAgIGlmICh0dXRvcmlhbC50ZXN0KHNwYWNlS2V5KSkge1xyXG4gICAgICAgIHJldHVybiBcIlR1dG9yaWFsXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJEb2N1bWVudGF0aW9uXCI7XHJcbn07XHJcblxyXG5cclxuLy8gUmV0dXJucyB0aGUgZG9jdW1lbnRhdGlvbiB2ZXJzaW9uIGZvciBhIHNwZWNpZmllZCBzcGFjZSBrZXlcclxudmFyIGdldERvY1ZlcnNpb24gPSBmdW5jdGlvbiAoc3BhY2VLZXkpIHtcclxuXHRzd2l0Y2ggKHNwYWNlS2V5KSB7XHJcblx0XHQvLyBFeGNlcHRpb25zIGZvciBzcGFjZXMgd2l0aG91dCBhIG51bWJlciBpbiB0aGUgc3BhY2Uga2V5IGFuZCBmb3IgXCIxMnNwXCJcclxuXHRcdGNhc2UgXCJLMTJTUFwiOlxyXG5cdFx0Y2FzZSBcIkFQSTEyU1BcIjpcclxuXHRcdGNhc2UgXCJLMTJTUFR1dG9yaWFsXCI6XHJcblx0XHRcdHJldHVybiBcIjEyc3BcIjtcclxuXHRcdGNhc2UgXCJYUFwiOlxyXG5cdFx0Y2FzZSBcIlR1dG9yaWFsXCI6XHJcblx0XHRjYXNlIFwiQXBpXCI6XHJcblx0XHRcdHJldHVybiBcInhwXCI7XHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHQvLyBSZXR1cm5zIHRoZSBudW1iZXIgZnJvbSB0aGUgc3BhY2Uga2V5IGZvciBcInN0YW5kYXJkXCIgY2FzZXNcclxuXHRcdFx0cmV0dXJuIHNwYWNlS2V5LnJlcGxhY2UoL1teMC05XS9nLCAnJyk7XHJcblx0fVx0XHJcbn07XHJcblxyXG5cclxuLy8gQ29udmVydHMgdGhlIHZlcnNpb24gbnVtYmVyIHRvIHRoZSBhcHByb3ByaWF0ZSB0b29sdGlwICh0aXRsZSkgZm9yIHRoZSB2ZXJzaW9uIGxpbmtcclxudmFyIGdldFZlcnNpb25MaW5rVGl0bGUgPSBmdW5jdGlvbiAodmVyc2lvbikge1xyXG4gICAgc3dpdGNoICh2ZXJzaW9uKSB7XHJcbiAgICAgICAgY2FzZSBcIjEyc3BcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiS2VudGljbyAxMiBTZXJ2aWNlIFBhY2tcIjtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkKHZlcnNpb24pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vIEJ1aWxkcyBsaW5rcyB0byB0aGUgZG9jdW1lbnRhdGlvbiBzcGFjZSByb290IGZvciBhIHNwZWNpZmllZCBkb2N1bWVudGF0aW9uIHR5cGUgYW5kIHZlcnNpb25cclxudmFyIGJ1aWxkRG9jTGluayA9IGZ1bmN0aW9uIGJ1aWxkRG9jTGluayh2ZXJzaW9uLCBkb2NUeXBlLCB1c2VEb2NUeXBlSW5MaW5rVGV4dCwgaXNDdXJyZW50KSB7XHJcbiAgICB2YXIgc3BhY2VLZXk7XHJcbiAgICB2YXIgc3BhY2VLZXlTbGFzaCA9IFwiL1wiO1xyXG5cdFxyXG5cdC8vIFBhdHRlcm4gZm9yIFhwZXJpZW5jZSAxMyBvciBuZXdlciBkb2NzXHJcbiAgICBpZiAoQ09ORklHLk9CU09MRVRFX1NQQUNFX0tFWV9GT1JNQVRfVkVSU0lPTlMuaW5kZXhPZih2ZXJzaW9uKSA9PT0gLTEpIHtcclxuXHRcdC8vIFRoZSBYUCBkb2NzIGRvIG5vdCBoYXZlIGEgbnVtYmVyIHByZWZpeCBpbiB0aGVpciBzcGFjZSBrZXlzXHJcblx0XHR2YXIgdmVyc2lvblByZWZpeCA9ICh2ZXJzaW9uID09PSBcInhwXCIpID8gXCJcIiA6IHZlcnNpb247XHJcblx0XHRcclxuICAgICAgICBzd2l0Y2ggKGRvY1R5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcIlR1dG9yaWFsXCI6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IHZlcnNpb25QcmVmaXggKyBcInR1dG9yaWFsXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFQSSBFeGFtcGxlc1wiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uUHJlZml4ICsgXCJhcGlcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uO1xyXG4gICAgICAgIH1cdFx0XHJcblx0XHQvLyBSZW1vdmVzIHRoZSBzcGFjZSBrZXkgZnJvbSB0aGUgbGluayBmb3IgdGhlIHZlcnNpb24gKHVzZXMgdGhlIGJhc2UgVVJMIHdpdGhvdXQgYSBrZXkgaW4gdGhlIHBhdGgpXHJcblx0XHRpZiAoc3BhY2VLZXkgPT09IENPTkZJRy5ET0NfUk9PVF9VUkxfU1BBQ0VfS0VZKSB7XHJcblx0XHRcdHNwYWNlS2V5ID0gXCJcIjtcclxuXHRcdFx0c3BhY2VLZXlTbGFzaCA9IFwiXCI7XHJcblx0XHR9XHJcblx0Ly8gUGF0dGVybiBmb3Igb2xkZXIgc3BhY2VzIHdpdGggYSB2ZXJzaW9uIG51bWJlciBzdWZmaXggaW4gdGhlIHNwYWNlIGtleVx0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN3aXRjaCAoZG9jVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiVHV0b3JpYWxcIjpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJrXCIgKyB2ZXJzaW9uICsgXCJ0dXRvcmlhbFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJBUEkgRXhhbXBsZXNcIjpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJhcGlcIiArIHZlcnNpb247XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJrXCIgKyB2ZXJzaW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdmFyIGxpbmtUZXh0ID0gdXNlRG9jVHlwZUluTGlua1RleHQgPyBkb2NUeXBlIDogZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkKHZlcnNpb24pO1xyXG4gICAgdmFyIGxpbmtUaXRsZSA9ICcgdGl0bGU9XCInICsgKHVzZURvY1R5cGVJbkxpbmtUZXh0ID8gZG9jVHlwZSA6IGdldFZlcnNpb25MaW5rVGl0bGUodmVyc2lvbikpICsgJ1wiJztcclxuXHJcbiAgICB2YXIgY2xhc3NBdHRyaWJ1dGUgPSAnY2xhc3M9XCInICsgKGlzQ3VycmVudCA/ICcgY3VycmVudCcgOiAnJykgKyAnXCInO1xyXG5cclxuICAgIHJldHVybiAnPGxpPjxhIGhyZWY9XCInICsgc3BhY2VLZXlTbGFzaCArIHNwYWNlS2V5ICsgJ1wiJyArIGNsYXNzQXR0cmlidXRlICsgbGlua1RpdGxlICsgJz4nICsgbGlua1RleHQgKyAnPC9hPjwvbGk+JztcclxufTtcclxuXHJcblxyXG52YXIgbG9hZERvY1ZlcnNpb25IZWFkZXJMaXN0ID0gZnVuY3Rpb24gbG9hZERvY1ZlcnNpb25IZWFkZXJMaXN0KGN1cnJlbnREb2NUeXBlLCBjdXJyZW50RG9jVmVyc2lvbikge1xyXG4gICAgdmFyIHVzZXJMb2dnZWRJbiA9ICQoJ1tuYW1lPVwiY29uZmx1ZW5jZS11c2VyLWxvZ2dlZC1pblwiXScpLmF0dHIoJ2NvbnRlbnQnKTtcclxuXHJcbiAgICAvLyBGaWx0ZXJzIG91dCB1bmF2YWlsYWJsZSBhbmQgdW5wdWJsaXNoZWQgdmVyc2lvbnNcclxuICAgIHZhciBhdmFpbGFibGVEb2NWZXJzaW9ucyA9IERPQ1VNRU5UQVRJT05fVkVSU0lPTlMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBObyBBUEkgZXhhbXBsZXMgZm9yIDguMiBvciBvbGRlclxyXG4gICAgICAgIHJldHVybiAoKGN1cnJlbnREb2NUeXBlICE9PSBcIkFQSSBFeGFtcGxlc1wiKSB8fCAoaXRlbS52ZXJzaW9uSWQgIT09IFwiOFwiICYmIGl0ZW0udmVyc2lvbklkICE9PSBcIjgxXCIgJiYgaXRlbS52ZXJzaW9uSWQgIT09IFwiODJcIikpICYmXHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlcyB0aGUgZGV2ZWxvcG1lbnQgdmVyc2lvbiBmb3IgcHVibGljIHVzZXJzXHJcbiAgICAgICAgICAgICAgICgodXNlckxvZ2dlZEluID09PSBcInRydWVcIikgfHwgKGl0ZW0udmVyc2lvbklkICE9PSBDT05GSUcuREVWX0RPQ1VNRU5UQVRJT05fVkVSU0lPTl9JRCkpICYmXHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlcyB2ZXJzaW9uIDEyLCB3aGljaCBpcyByZWRpcmVjdGVkIHRvIDEyU1BcclxuICAgICAgICAgICAgICAgKGl0ZW0udmVyc2lvbklkICE9PSBcIjEyXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGRvY1ZlcnNpb25MaW5rcyA9IFwiXCI7XHJcblxyXG4gICAgYXZhaWxhYmxlRG9jVmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIC8vIEhpZGVzIG9sZGVyIGRvY3VtZW50YXRpb24gdmVyc2lvbnMgYmVoaW5kIHRoZSAnQWxsIHZlcnNpb25zJyBleHBhbmRhYmxlXHJcbiAgICAgICAgaWYgKGl0ZW0udmVyc2lvbklkID09IENPTkZJRy5ORVdFU1RfVU5TVVBQT1JURURfVkVSU0lPTl9JRCkge1xyXG4gICAgICAgICAgICBkb2NWZXJzaW9uTGlua3MgKz0gJzxsaSBjbGFzcz1cImpzLXVuc3VwcG9ydGVkLXZlcnNpb25zXCI+JyArXHJcbiAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cImhlYWRlci1kZGwtYnV0dG9uLW5lc3RlZCBqcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1idXR0b25cIj4nICtcclxuICAgICAgICAgICAgICAgICdBbGwgdmVyc2lvbnMnICtcclxuICAgICAgICAgICAgICAgICc8L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgICAgICc8dWwgY2xhc3M9XCJtZW51LWRkbC1jb250ZW50IG5lc3RlZC1saXN0IGRvY1ZlcnNpb24ganMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtbGlzdFwiPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2NWZXJzaW9uTGlua3MgKz0gYnVpbGREb2NMaW5rKGl0ZW0udmVyc2lvbklkLCBjdXJyZW50RG9jVHlwZSwgZmFsc2UsIGl0ZW0udmVyc2lvbklkID09IGN1cnJlbnREb2NWZXJzaW9uKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRvY1ZlcnNpb25MaW5rcyArPSAnPC91bD48L2xpPic7XHJcblxyXG4gICAgJCgnLmpzLW1lbnVEZGxCdG4tdmVyc2lvbicpLmh0bWwoZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkKGN1cnJlbnREb2NWZXJzaW9uKSk7XHJcbiAgICAkKCcuanMtbWVudURkbC12ZXJzaW9uJykuaHRtbChkb2NWZXJzaW9uTGlua3MpO1xyXG59O1xyXG5cclxuXHJcbi8vIFJlZ2lzdGVycyBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSB1bnN1cHBvcnRlZCB2ZXJzaW9ucyBsaXN0XHJcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsIFwiLmpzLXVuc3VwcG9ydGVkLXZlcnNpb25zLWJ1dHRvblwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuanMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtbGlzdCcpLnRvZ2dsZUNsYXNzKCdzaG93Jyk7XHJcbiAgICAkKCcuanMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtbGlzdCcpLnRvZ2dsZUNsYXNzKCdvcGVuZWQnKTtcclxufSk7XHJcblxyXG5cclxudmFyIGxvYWREb2NUeXBlSGVhZGVyTGlzdCA9IGZ1bmN0aW9uIGxvYWREb2NUeXBlSGVhZGVyTGlzdChjdXJyZW50RG9jVmVyc2lvbiwgY3VycmVudERvY1R5cGUpIHtcclxuICAgIHZhciBhdmFpbGFibGVEb2NUeXBlcyA9IFtcIkRvY3VtZW50YXRpb25cIiwgXCJUdXRvcmlhbFwiLCBcIkFQSSBFeGFtcGxlc1wiXTtcclxuICAgIC8vIEZpbHRlcnMgb3V0IHRoZSBBUEkgRXhhbXBsZXMgZG9jdW1lbnRhdGlvbiB0eXBlIGlmIHRoZSBjdXJyZW50IHZlcnNpb24gaXMgOC4yIG9yIG9sZGVyXHJcbiAgICBhdmFpbGFibGVEb2NUeXBlcyA9IGF2YWlsYWJsZURvY1R5cGVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIHJldHVybiAoY3VycmVudERvY1ZlcnNpb24gIT09IFwiOFwiICYmIGN1cnJlbnREb2NWZXJzaW9uICE9PSBcIjgxXCIgJiYgY3VycmVudERvY1ZlcnNpb24gIT09IFwiODJcIikgfHwgKGl0ZW0gIT09IFwiQVBJIEV4YW1wbGVzXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGRvY1R5cGVMaW5rcyA9IFwiXCI7XHJcbiAgICBhdmFpbGFibGVEb2NUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgZG9jVHlwZUxpbmtzICs9IGJ1aWxkRG9jTGluayhjdXJyZW50RG9jVmVyc2lvbiwgaXRlbSwgdHJ1ZSwgaXRlbSA9PSBjdXJyZW50RG9jVHlwZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanMtbWVudURkbEJ0bi1kb2NUeXBlJykuaHRtbChjdXJyZW50RG9jVHlwZSk7XHJcbiAgICAkKCcuanMtbWVudURkbC1kb2NUeXBlJykuaHRtbChkb2NUeXBlTGlua3MpO1xyXG59O1xyXG5cclxuXHJcbi8vIEFkZHMgdGhlIG9wdGlvbnMgdG8gdGhlIGRvY3VtZW50YXRpb24gdHlwZSBhbmQgdmVyc2lvbiBkcm9wLWRvd24gbGlzdHNcclxudmFyIGxvYWRIZWFkZXJMaXN0cyA9IGZ1bmN0aW9uIGxvYWRIZWFkZXJMaXN0cygpIHtcclxuICAgIHZhciBjdXJyZW50RG9jVmVyc2lvbiA9IGdldERvY1ZlcnNpb24oQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZKTtcclxuICAgIHZhciBjdXJyZW50RG9jVHlwZSA9IGdldERvY1R5cGUoQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZKTtcclxuXHJcbiAgICBsb2FkRG9jVHlwZUhlYWRlckxpc3QoY3VycmVudERvY1ZlcnNpb24sIGN1cnJlbnREb2NUeXBlKTtcclxuICAgIGxvYWREb2NWZXJzaW9uSGVhZGVyTGlzdChjdXJyZW50RG9jVHlwZSwgY3VycmVudERvY1ZlcnNpb24pO1xyXG59O1xyXG5cclxudmFyIHJlZ2lzdGVyUGFnZVRyZWVFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKVxyXG57XHJcbiAgICBcclxuICAgICQoJ3VsLmh0LXBhZ2VzLW5hdi10b3AnKS5vbignY2xpY2snLCAnLnNwLXRvZ2dsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBsaSA9ICQodGhpcykucGFyZW50KCdsaScpO1xyXG4gICAgICAgIGlmIChsaS5pcygnLmNvbGxhcHNlZCcpKSB7XHJcbiAgICAgICAgICAgIGxpLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChsaS5pcygnLm9wZW4nKSkge1xyXG4gICAgICAgICAgICBsaS5yZW1vdmVDbGFzcygnb3BlbicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGhhdmUgY2hpbGRyZW4gLT4gbm8tb3BcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4kKGRvY3VtZW50KS5yZWFkeShyZWdpc3RlclBhZ2VUcmVlRXZlbnRIYW5kbGVyKTtcclxuXHJcblxyXG4vLyBDbG9zZXMgdGhlIGRvY3VtZW50YXRpb24gdHlwZSBhbmQgdmVyc2lvbiBkcm9wLWRvd24gbGlzdHMgaWYgdGhlIGNsaWVudCBjbGlja3MgZWxzZXdoZXJlXHJcbnZhciBjbG9zZUhlYWRlckRyb3BEb3ducyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIGJ1dHRvbkRvY1R5cGUgPSAkKFwiLmpzLW1lbnVEZGxCdG4tZG9jVHlwZVwiKTtcclxuICAgIHZhciBidXR0b25WZXJzaW9uID0gJChcIi5qcy1tZW51RGRsQnRuLXZlcnNpb25cIik7XHJcbiAgICB2YXIgb2xkZXJWZXJzaW9uc0J1dHRvbiA9ICQoXCIuanMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtYnV0dG9uXCIpO1xyXG4gICAgdmFyIG9sZGVyVmVyc2lvbnNMaXN0ID0gJChcIi5qcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1saXN0XCIpO1xyXG4gICAgdmFyIGRldk1vZGVsQnV0dG9uID0gJChcIi5qcy1tZW51RGRsQnRuLWRldk1vZGVsXCIpO1xyXG4gICAgdmFyIGRldk1vZGVsTGlzdCA9ICQoXCIuanMtbWVudURkbC1kZXZNb2RlbFwiKTtcclxuXHJcbiAgICBpZiAob2xkZXJWZXJzaW9uc0J1dHRvbi5pcyhldmVudC50YXJnZXQpKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWJ1dHRvbkRvY1R5cGUuaXMoZXZlbnQudGFyZ2V0KSAmJiAoYnV0dG9uRG9jVHlwZS5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgJChcIi5qcy1tZW51RGRsLWRvY1R5cGVcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgIGJ1dHRvbkRvY1R5cGUucmVtb3ZlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFidXR0b25WZXJzaW9uLmlzKGV2ZW50LnRhcmdldCkgJiYgKGJ1dHRvblZlcnNpb24uaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgICQoXCIuanMtbWVudURkbC12ZXJzaW9uXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICBidXR0b25WZXJzaW9uLnJlbW92ZUNsYXNzKFwib3BlbmVkXCIpO1xyXG4gICAgICAgIG9sZGVyVmVyc2lvbnNMaXN0LnJlbW92ZUNsYXNzKFwib3BlbmVkXCIpO1xyXG4gICAgICAgIG9sZGVyVmVyc2lvbnNMaXN0LnJlbW92ZUNsYXNzKFwic2hvd1wiKTsgICAgXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFkZXZNb2RlbEJ1dHRvbi5pcyhldmVudC50YXJnZXQpICYmIChkZXZNb2RlbExpc3QuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgIGRldk1vZGVsTGlzdC5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgZGV2TW9kZWxCdXR0b24ucmVtb3ZlQ2xhc3MoXCJvcGVuZWRcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkobG9hZEhlYWRlckxpc3RzKTtcclxuJChkb2N1bWVudCkuY2xpY2soY2xvc2VIZWFkZXJEcm9wRG93bnMpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PSBIRUFERVIgRGV2TW9kZWwgU3dpdGNoZXIgPT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQgPSBmdW5jdGlvbiBpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQoKSB7XHJcbiAgICB2YXIgY3VycmVudFNwYWNlS2V5ID0gQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZO1xyXG5cclxuICAgIC8vIE9ubHkgc3VwcG9ydGVkIGJ5IHdoaXRlbGlzdGVkIGRvY3VtZW50YXRpb24gdmVyc2lvbnMgLSBDT05GSUcuQ09ORkxVRU5DRV9ERVZNT0RFTF9WRVJTSU9OU1dJVENIRVJfV0hJVEVMSVNUXHJcbiAgICBpZiAoIWN1cnJlbnRTcGFjZUtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYXBpXCIpICYmIENPTkZJRy5DT05GTFVFTkNFX0RFVk1PREVMX1ZFUlNJT05TV0lUQ0hFUl9XSElURUxJU1QuaW5kZXhPZihnZXREb2NWZXJzaW9uKGN1cnJlbnRTcGFjZUtleSkpID49IDApIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5cclxudmFyIGdldFBhZ2VMYWJlbHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbGFiZWxzID0gJCgnW25hbWU9XCJjb25mbHVlbmNlLXBhZ2UtbGFiZWxzXCJdJykuYXR0cignY29udGVudCcpO1xyXG4gICAgbGFiZWxzID0gbGFiZWxzLnNsaWNlKDEsIC0xKTtcclxuICAgIGxhYmVscyA9IGxhYmVscy5zcGxpdChcIiwgXCIpO1xyXG5cclxuICAgIHJldHVybiBsYWJlbHM7XHJcbn07XHJcblxyXG5cclxudmFyIHNldERldk1vZGVsV2ViU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQoKSAmJiB0eXBlb2YgKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRMYWJlbHMgPSBnZXRQYWdlTGFiZWxzKCk7XHJcblxyXG4gICAgICAgIC8vIFNldHMgTVZDIG1vZGUgZm9yIHBhZ2VzIGNvbnRhaW5pbmcgdGhlICdtdmMnIGxhYmVsXHJcbiAgICAgICAgaWYgKGN1cnJlbnRMYWJlbHMuaW5kZXhPZihcIm12Y1wiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgPSBcIm12Y1wiO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNldHMgUEUgbW9kZSBmb3IgcGFnZXMgY29udGFpbmluZyB0aGUgJ3BlJyBsYWJlbFxyXG4gICAgICAgIGlmIChjdXJyZW50TGFiZWxzLmluZGV4T2YoXCJwZVwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgPSBcInBlXCI7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrcyBmb3IgdGhlICdkZXZNb2RlbCcgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciwgd2hpY2ggY2FuIGZvcmNlIHRoZSBkZXYgbW9kZWwgZm9yIGh5YnJpZCBwYWdlc1xyXG4gICAgICAgIHZhciBxdWVyeVN0cmluZ1BhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICAgICAgaWYgKHF1ZXJ5U3RyaW5nUGFyYW1zLmluZGV4T2YoXCJkZXZNb2RlbD1tdmNcIikgPj0gMCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlID0gXCJtdmNcIjtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocXVlcnlTdHJpbmdQYXJhbXMuaW5kZXhPZihcImRldk1vZGVsPXBlXCIpID49IDApIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSA9IFwicGVcIjtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGVmYXVsdHMgdG8gTVZDIGlmIG5vIHdlYiBzdG9yYWdlIHZhbHVlIGlzIHNldFxyXG4gICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZVwiKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlID0gXCJtdmNcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBEb2VzIG5vdGhpbmcgaWYgd2ViIHN0b3JhZ2UgaXMgZGlzYWJsZWQsIGVuZHBvaW50cyBhdXRvbWF0aWNhbGx5IGRlZmF1bHQgdG8gTVZDXHJcbn07XHJcblxyXG5cclxudmFyIGdldEN1cnJlbnREZXZNb2RlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjdXJyZW50bGFiZWxzID0gZ2V0UGFnZUxhYmVscygpO1xyXG5cclxuICAgIGlmIChjdXJyZW50bGFiZWxzLmluZGV4T2YoXCJtdmNcIikgPj0gMCkge1xyXG4gICAgICAgIHJldHVybiBcIm12Y1wiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50bGFiZWxzLmluZGV4T2YoXCJwZVwiKSA+PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwicGVcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVja3MgZm9yIHRoZSAnZGV2TW9kZWwnIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIsIHdoaWNoIGNhbiBmb3JjZSB0aGUgZGV2IG1vZGVsIGZvciBoeWJyaWQgcGFnZXNcclxuICAgIHZhciBxdWVyeVN0cmluZ1BhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcblxyXG4gICAgaWYgKHF1ZXJ5U3RyaW5nUGFyYW1zLmluZGV4T2YoXCJkZXZNb2RlbD1tdmNcIikgPj0gMCkge1xyXG4gICAgICAgIHJldHVybiBcImFsbHxtdmNcIjtcclxuICAgIH1cclxuICAgIGlmIChxdWVyeVN0cmluZ1BhcmFtcy5pbmRleE9mKFwiZGV2TW9kZWw9cGVcIikgPj0gMCkge1xyXG4gICAgICAgIHJldHVybiBcImFsbHxwZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrcyB0aGUgcGVyc2lzdGluZyBsb2NhbCBzdG9yYWdlIGZvciBoeWJyaWQgcGFnZXMgKE1WQyArIFBFKVxyXG4gICAgaWYgKHR5cGVvZiAoU3RvcmFnZSkgIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSkge1xyXG4gICAgICAgIHJldHVybiBcImFsbHxcIiArIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVmYXVsdHMgdG8gTVZDIGlmIGxvY2FsIHN0b3JhZ2UgaXMgZW1wdHkgb3IgZGlzYWJsZWRcclxuICAgIHJldHVybiBcImFsbHxtdmNcIjtcclxufTtcclxuXHJcblxyXG4vLyBUcmFuc2xhdGVzIHRoZSB0cmltbWVkIHNwYWNlIGtleSB2ZXJzaW9uIHRvIHRoZSBJRCB1c2VkIGJ5IHRoZSBkb2N1bWVudGF0aW9uIGhlbHAgc2VydmljZVxyXG52YXIgdHJhbnNsYXRlVG9IZWxwU2VydmljZVZlcnNpb24gPSBmdW5jdGlvbiAodmVyc2lvbikge1xyXG4gICAgcmV0dXJuIERPQ1VNRU5UQVRJT05fVkVSU0lPTlMuZmluZCgoaXRlbSkgPT4gaXRlbS52ZXJzaW9uSWQgPT0gdmVyc2lvbikuaGVscFNlcnZpY2VWZXJzaW9uO1xyXG59O1xyXG5cclxuXHJcbi8vIFN3aXRjaGVzIHRoZSBkZXYgbW9kZWwgaW4gdGhlIHdlYiBzdG9yYWdlXHJcbi8vIERvZXMgTk9UIHJlZGlyZWN0ICh0aGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBiZWZvcmUgYSByZWRpcmVjdC9yZWZyZXNoL2xpbmspXHJcbnZhciBzd2l0Y2hEZXZNb2RlbFN0b3JhZ2UgPSBmdW5jdGlvbiAodGFyZ2V0TW9kZWwpIHtcclxuICAgIGlmICh0eXBlb2YgKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSA9IHRhcmdldE1vZGVsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gRGlzcGxheXMvaGlkZXMgdGhlIGRvY3VtZW50YXRpb24gdHlwZSBzZWxlY3RvciBkcm9wLWRvd24gbGlzdFxyXG52YXIgb3BlbkNsb3NlRGV2TW9kZWxEZGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGwtZGV2TW9kZWxcIikudG9nZ2xlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgJChcIi5qcy1tZW51RGRsQnRuLWRldk1vZGVsXCIpLnRvZ2dsZUNsYXNzKFwib3BlbmVkXCIpO1xyXG59O1xyXG5cclxudmFyIGRldk1vZGVsTWFwID0ge1xyXG4gICAgbXZjOiAnTVZDJyxcclxuICAgIHBlOiAnUG9ydGFsIEVuZ2luZScsXHJcbn07XHJcblxyXG5cclxudmFyIGluaXRBbHREZXZNb2RlbExpbmsgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBFbmRzIHRoZSBmdW5jdGlvbiBmb3IgQ29uZmx1ZW5jZSBzcGFjZXMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgZGV2IG1vZGVsIHN3aXRjaGVyXHJcbiAgICBpZiAoIWlzRGV2TW9kZWxTd2l0Y2hlclN1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjdXJyZW50TW9kZWwgPSBnZXRDdXJyZW50RGV2TW9kZWwoKTtcclxuXHJcbiAgICAvLyBDaGVja3Mgd2hldGhlciB0aGUgcGFnZSBpcyBhdmFpbGFibGUgZm9yIGFsbCBkZXYgbW9kZWxzIGFuZCBhZGp1c3RzIHRoZSBjdXJyZW50TW9kZWwgdmFsdWUgaWYgdGhhdCBpcyB0aGUgY2FzZVxyXG4gICAgdmFyIGFsbERldk1vZGVsUGFnZSA9IGZhbHNlO1xyXG4gICAgaWYgKGN1cnJlbnRNb2RlbC5pbmRleE9mKFwiYWxsfFwiKSA9PT0gMCkge1xyXG4gICAgICAgIGFsbERldk1vZGVsUGFnZSA9IHRydWU7XHJcbiAgICAgICAgY3VycmVudE1vZGVsID0gY3VycmVudE1vZGVsLnNwbGl0KFwifFwiKVsxXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWx0RGV2TW9kZWwgPSAoY3VycmVudE1vZGVsID09IFwibXZjXCIpID8gXCJwZVwiIDogXCJtdmNcIjtcclxuXHJcbiAgICAvLyBHZXRzIHRoZSBhY3RpdmUgZGV2IG1vZGVsIGVsZW1lbnQgYW5kIGFkZHMgdGhlICdhY3RpdmUnIENTUyBjbGFzc1xyXG4gICAgJChcIi5qcy1cIiArIGN1cnJlbnRNb2RlbCArIFwiLW1vZGVsLWxpbmtcIikuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgLy8gR2V0cyB0aGUgbm9uLWFjdGl2ZSBkZXYgbW9kZWwgZWxlbWVudFxyXG4gICAgdmFyIGFsdERldk1vZGVsRWxlbWVudCA9ICQoXCIuanMtXCIgKyBhbHREZXZNb2RlbCArIFwiLW1vZGVsLWxpbmtcIik7XHJcblxyXG4gICAgLy8gRW5kcyB0aGUgZnVuY3Rpb24gaWYgdGhlIGVsZW1lbnQgaXMgbm90IHByZXNlbnQgb24gdGhlIHBhZ2UgXl5cclxuICAgIGlmICghYWx0RGV2TW9kZWxFbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5qcy1tZW51RGRsQnRuLWRldk1vZGVsJykuaHRtbChkZXZNb2RlbE1hcFtjdXJyZW50TW9kZWxdKTtcclxuXHJcbiAgICAvLyBGb3IgXCJhbGwgZGV2IG1vZGVsXCIgcGFnZXMsIGFkanVzdHMgdGhlIGFsdGVybmF0aXZlIGxpbmsgdG8gcmVmcmVzaCB0aGUgc2FtZSBwYWdlIGFuZCBzd2l0Y2hlcyB0aGUgZGV2IG1vZGVsXHJcbiAgICBpZiAoYWxsRGV2TW9kZWxQYWdlKSB7XHJcbiAgICAgICAgYWx0RGV2TW9kZWxFbGVtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzd2l0Y2hEZXZNb2RlbFN0b3JhZ2UoYWx0RGV2TW9kZWwpO1xyXG4gICAgICAgICAgICAvLyBTcGVjaWFsIHBhZ2UgcmVsb2FkIGlmIHN3aXRjaGluZyBvbiB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZVxyXG4gICAgICAgICAgICB2YXIgcGF0aE5hbWVBcnJheSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgICAgIGlmIChwYXRoTmFtZUFycmF5W3BhdGhOYW1lQXJyYXkubGVuZ3RoIC0gMV0gPT0gXCJzZWFyY2hcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVvcGVucyB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZSB3aXRoIHRoZSBzd2l0Y2hlZCBkZXYgbW9kZWxcclxuICAgICAgICAgICAgICAgIGtlbnRpY29UaGVtZU9wZW5TZWFyY2hSZXN1bHRzUGFnZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlcyB0aGUgZnJhZ21lbnQgZnJvbSB0aGUgcGFnZSBVUkwgKGl0IGNhbiBvdGhlcndpc2UgcHJldmVudCBhIGZ1bGwgcGFnZSByZWxvYWQgaWYgcHJlc2VudClcclxuICAgICAgICAgICAgICAgIHZhciBkZXZNb2RlbFJlbG9hZFVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLmhhc2gsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgZGV2TW9kZWxSZWxvYWRVcmwgPSBkZXZNb2RlbFJlbG9hZFVybC5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmVzIHRoZSA/ZGV2TW9kZWwgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciB3aGljaCB3b3VsZCBpbnRlcmZlcmUgd2l0aCB0aGUgc3dpdGNoIG9uIGFsbF9tb2RlbCBwYWdlc1xyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogVGhlIGN1cnJlbnQgYmFzaWMgaW1wbGVtZW50YXRpb24gYWxzbyByZW1vdmVzIGFsbCBwYXJhbWV0ZXJzIGFmdGVyICdkZXZNb2RlbCdcclxuICAgICAgICAgICAgICAgIGRldk1vZGVsUmVsb2FkVXJsID0gZGV2TW9kZWxSZWxvYWRVcmwuc3BsaXQoXCI/ZGV2TW9kZWxcIilbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVsb2FkcyB0aGUgcGFnZVxyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkZXZNb2RlbFJlbG9hZFVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjdXJyZW50TW9kZWxFbGVtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIG9wZW5DbG9zZURldk1vZGVsRGRsKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3IgcGFnZXMgYXZhaWxhYmxlIGluIGEgc3BlY2lmaWMgZGV2IG1vZGVsLCBhdHRlbXB0cyB0byBnZXQgdGhlIGlkZW50aWZpZXIgb2YgdGhlIGFsdGVybmF0aXZlIHBhZ2VcclxuICAgIHZhciBhbHRQYWdlSWRlbnRpZmllciA9ICQoXCIjZGV2LW1vZGVsLWFsdFwiKS5hdHRyKFwiZGF0YS1kZXZtb2RlbC1hbHRcIik7XHJcblxyXG4gICAgLy8gQnJhbmNoZXMgYmVoYXZpb3IgZGVwZW5kaW5nIG9uIHRoZSBleGlzdGVuY2Ugb2YgYSBwYWdlIGluIHRoZSBhbHRlcm5hdGl2ZSBkZXYgbW9kZWxcclxuICAgIGlmIChhbHRQYWdlSWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBjdXJyZW50RG9jVmVyc2lvbiA9IGdldERvY1ZlcnNpb24oQ09ORklHLkNPTkZMVUVOQ0VfU1BBQ0VfS0VZKTtcclxuICAgICAgICB2YXIgaGVscFNlcnZpY2VWZXJzaW9uID0gdHJhbnNsYXRlVG9IZWxwU2VydmljZVZlcnNpb24oY3VycmVudERvY1ZlcnNpb24pO1xyXG5cclxuICAgICAgICB2YXIgYWx0UGFnZVVybCA9IENPTkZJRy5IRUxQU0VSVklDRV9MSU5LTUFQUEVSX0VORFBPSU5UICsgaGVscFNlcnZpY2VWZXJzaW9uICsgXCImbGluaz1cIiArIGFsdFBhZ2VJZGVudGlmaWVyO1xyXG5cclxuICAgICAgICAvLyBBZGRzIFwibGlua1wiIGZ1bmN0aW9uYWxpdHkgd2hlbiB0aGUgYWx0ZXJuYXRpdmUgZGV2IG1vZGVsIGVsZW1lbnQgaXMgY2xpY2tlZFxyXG4gICAgICAgIGFsdERldk1vZGVsRWxlbWVudC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU3dpdGNoZXMgdGhlIGRldiBtb2RlbCAoZm9yIGNhc2VzIHdoZXJlIHRoZSBhbHRlcm5hdGl2ZSB0YXJnZXQgaXMgYW4gXCJhbGwgZGV2IG1vZGVsXCIgcGFnZSlcclxuICAgICAgICAgICAgc3dpdGNoRGV2TW9kZWxTdG9yYWdlKGFsdERldk1vZGVsKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhbHRQYWdlVXJsO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBWaXN1YWxseSBkaXNhYmxlcyB0aGUgZGV2IG1vZGVsIHN3aXRjaGVyXHJcbiAgICAgICAgJChcIi5qcy1tZW51RGRsQnRuLWRldk1vZGVsXCIpLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKS5wcm9wKFwidGl0bGVcIiwgXCJcIik7XHJcblxyXG4gICAgICAgIC8vIERpc3BsYXlzIGEgbWVzc2FnZSBpbmZvcm1pbmcgdGhhdCB0aGUgcGFnZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBvdGhlciBkZXYgbW9kZWxcclxuICAgICAgICB2YXIgY3VycmVudE1vZGVsVGV4dCA9IChjdXJyZW50TW9kZWwgPT0gXCJtdmNcIikgPyBcIk1WQ1wiIDogXCJQb3J0YWwgRW5naW5lXCI7XHJcbiAgICAgICAgdmFyIGFsdE1vZGVsVGV4dCA9IChhbHREZXZNb2RlbCA9PSBcIm12Y1wiKSA/IFwiTVZDXCIgOiBcIlBvcnRhbCBFbmdpbmVcIjtcclxuICAgICAgICB2YXIgYWx0TW9kZWxIb21lVXJsID0gJCgnI2Fqcy1jb250ZXh0LXBhdGgnKS5hdHRyKCdjb250ZW50JykgKyBcIi9cIiArIENPTkZJRy5DT05GTFVFTkNFX1NQQUNFX0tFWS50b0xvd2VyQ2FzZSgpICsgXCI/ZGV2TW9kZWw9XCIgKyBhbHREZXZNb2RlbDtcclxuICAgICAgICB2YXIgYWx0TW9kZWxIb21lTGluayA9ICc8YSBpZD1cImFsdC1tb2RlbC1ob21lLWxpbmtcIiBocmVmPVwiJyArIGFsdE1vZGVsSG9tZVVybCArICdcIicgKyAnPicgKyBhbHRNb2RlbFRleHQgKyAnIEhvbWUgcGFnZTwvYT4nO1xyXG4gICAgICAgICQoXCIuanMtZGV2LW1vZGVsLXVuYXZhaWxhYmxlLXRleHRcIikuaHRtbChcIjxwPlRoaXMgcGFnZSBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgdGhlIFwiICsgY3VycmVudE1vZGVsVGV4dCArIFwiIGRldmVsb3BtZW50IG1vZGVsLjxiciAvPllvdSBjYW4gc3dpdGNoIHRvIHRoZSBcIiArIGFsdE1vZGVsSG9tZUxpbmsgKyBcIi48L3A+XCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KHNldERldk1vZGVsV2ViU3RvcmFnZSk7XHJcbiQoZG9jdW1lbnQpLnJlYWR5KGluaXRBbHREZXZNb2RlbExpbmspO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09IFgxMyBDb3JlL01WQyBkZXYgZnJhbWV3b3JrIHN3aXRjaGVyID09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIHNldERldkZyYW1ld29ya0J1dHRvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtY29yZVwiKS5jbGljayhmdW5jdGlvbigpeyBjb3JlRnJhbWV3b3JrT25DbGljaygpOyB9KTtcclxuICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaC1tdmNcIikuY2xpY2soZnVuY3Rpb24oKXsgbXZjRnJhbWV3b3JrT25DbGljaygpOyB9KTtcclxuICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaC1pbmRpY2F0b3JcIikuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwiY29yZVwiKSB7XHJcbiAgICAgICAgICAgIG12Y0ZyYW1ld29ya09uQ2xpY2soKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvcmVGcmFtZXdvcmtPbkNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtbXZjLCAuanMtZGV2LW1vZGVsLXN3aXRjaC1jb3JlIFwiKS5vbigna2V5dXAnLCBmdW5jdGlvbihlKSB7IFxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAvLyB1c2VyIGhhcyBwcmVzc2VkIHNwYWNlXHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzIpe1xyXG4gICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID09PSBcImNvcmVcIikge1xyXG4gICAgICAgICAgICAgICAgbXZjRnJhbWV3b3JrT25DbGljaygpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb3JlRnJhbWV3b3JrT25DbGljaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbnZhciBzZXREZXZGcmFtZXdvcmtDaGVja2JveCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwibXZjXCIpIHtcclxuICAgICAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtbXZjXCIpLmF0dHIoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaFwiKS5hZGRDbGFzcyhcImlzLWRldi1tb2RlbC1tdmNcIikucmVtb3ZlQ2xhc3MoXCJpcy1kZXYtbW9kZWwtY29yZVwiKVxyXG4gICAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwiY29yZVwiKSB7XHJcbiAgICAgICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoLWNvcmVcIikuYXR0cihcImNoZWNrZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoXCIpLmFkZENsYXNzKFwiaXMtZGV2LW1vZGVsLWNvcmVcIikucmVtb3ZlQ2xhc3MoXCJpcy1kZXYtbW9kZWwtbXZjXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBzZXRDb3JyZWN0RnJhbWV3b3JrID0gZnVuY3Rpb24gKGNoZWNrVXJsUGFyYW1ldGVycyA9IGZhbHNlKSB7XHJcbiAgICAvLyBTZXRzIE1WQyBhcyB0aGUgZGVmYXVsdCBmcmFtZXdvcmsgaWYgZnJhbWV3b3JrIGlzIG5vdCBzZXRcclxuICAgIGlmICghbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmtcIikgPT09IG51bGwpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPSBcIm12Y1wiO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGb3JjZXMgYSBmcmFtZXdvcmsgZnJvbSB0aGUgVVJMIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcclxuICAgIGlmKGNoZWNrVXJsUGFyYW1ldGVycykge1xyXG4gICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICAgICAgbGV0IGRldk1vZGVsUGFyYW1ldGVyID0gdXJsUGFyYW1zLmdldChcImRldm1vZGVsXCIpO1xyXG4gICAgICAgIGlmKGRldk1vZGVsUGFyYW1ldGVyID09PSBcIm12Y1wiIHx8IGRldk1vZGVsUGFyYW1ldGVyID09PSBcImNvcmVcIikge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPSBkZXZNb2RlbFBhcmFtZXRlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNldHMgdGhlIHZpc2liaWxpdHkgb2YgY29uZGl0aW9uYWwgY29udGVudCBibG9ja3NcclxuICAgIGlmIChsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPT09IFwibXZjXCIpIHtcclxuICAgICAgICAkKFwiLmRldi1tb2RlbC1jb3JlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICQoXCIuZGV2LW1vZGVsLW12Y1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICB9XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID09PSBcImNvcmVcIikge1xyXG4gICAgICAgICQoXCIuZGV2LW1vZGVsLW12Y1wiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAkKFwiLmRldi1tb2RlbC1jb3JlXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0RGV2RnJhbWV3b3JrQ2hlY2tib3goKTtcclxufVxyXG5cclxudmFyIHNldEhvdmVyVGl0bGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHRleHQ9XCJTd2l0Y2ggdGhlIGRpc3BsYXllZCBkZXZlbG9wbWVudCBtb2RlbCBpbiB0aGUgc3dpdGNoZXIgdW5kZXIgdGhlIHBhZ2UgaGVhZGluZ1wiO1xyXG4gICAgJChcIi5kZXYtbW9kZWwtY29yZSAuY29kZUNvbnRlbnRcIikuYXR0cihcInRpdGxlXCIsIHRleHQpO1xyXG4gICAgJChcIi5kZXYtbW9kZWwtbXZjIC5jb2RlQ29udGVudFwiKS5hdHRyKFwidGl0bGVcIiwgdGV4dCk7XHJcbn1cclxuXHJcbnZhciBjb3JlRnJhbWV3b3JrT25DbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9IFwiY29yZVwiO1xyXG4gICAgc2V0Q29ycmVjdEZyYW1ld29yaygpO1xyXG59XHJcblxyXG52YXIgbXZjRnJhbWV3b3JrT25DbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9IFwibXZjXCI7XHJcbiAgICBzZXRDb3JyZWN0RnJhbWV3b3JrKCk7XHJcbn1cclxuXHJcbnZhciBzaG93RGV2RnJhbWV3b3JrU3dpdGNoZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2hcIikucmVtb3ZlQ2xhc3MoXCJpcy1oaWRkZW5cIik7XHJcbn1cclxuXHJcbnZhciBzZXREZXZGcmFtZXdvcmtTd2l0Y2hlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIENoZWNrcyB0aGF0IGNvbmRpdGlvbmFsIGNvbnRlbnQgaXMgcHJlc2VudCBvbiB0aGUgY3VycmVudCBwYWdlXHJcbiAgICBpZigoJChcIi5kZXYtbW9kZWwtY29yZVwiKS5sZW5ndGggKyAkKFwiLmRldi1tb2RlbC1tdmNcIikubGVuZ3RoKSA+IDApIHtcclxuICAgICAgICBzZXRDb3JyZWN0RnJhbWV3b3JrKHRydWUpO1xyXG4gICAgICAgIHNldERldkZyYW1ld29ya0J1dHRvbnMoKTtcclxuICAgICAgICBzZXREZXZGcmFtZXdvcmtDaGVja2JveCgpO1xyXG4gICAgICAgIHNob3dEZXZGcmFtZXdvcmtTd2l0Y2hlcigpO1xyXG4gICAgICAgIHNldEhvdmVyVGl0bGVzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KHNldERldkZyYW1ld29ya1N3aXRjaGVyKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU0NST0xMSU5HIEFESlVTVE1FTlRTID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBpbml0U2lkZWJhciA9IGZ1bmN0aW9uIGluaXRTaWRlYmFyKCkge1xyXG4gICAgLy8gU2lkZWJhciBwYWdlIGxpbmtzIGFyZSByZW5kZXJlZFxyXG4gICAgaWYgKCQoJy5odC1uYXYtcGFnZS1saW5rJykuZmlyc3QoKSAhPT0gbnVsbCkge1xyXG4gICAgICAgIC8vIEN1cnJlbnQgcGFnZSBsaW5rIGV4aXN0c1xyXG4gICAgICAgIC8vIERvZXMgbm90IG9jY3VyIG9uIGhvbWVwYWdlc1xyXG4gICAgICAgIGlmICgkKCcuaHQtbmF2LXBhZ2UtbGluay5jdXJyZW50JykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciAkc2Nyb2xsYWJsZUNvbnRlbnQgPSAkKFwiZGl2Lmh0LXNpZGViYXItY29udGVudFwiKTtcclxuICAgICAgICAgICAgdmFyIGhlYWRlckhlaWdodCA9ICQoJyNodC1oZWFkZXJiYXInKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJdGVtVG9wID0gJCgnLmh0LW5hdi1wYWdlLWxpbmsuY3VycmVudCcpWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHJcbiAgICAgICAgICAgIGlmICgkKCdkaXYuaHQtc2lkZWJhci1jb250ZW50JylbMF0uc2Nyb2xsVG9wID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2Nyb2xsYWJsZUNvbnRlbnQuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBNYXRoLnJvdW5kKGN1cnJlbnRJdGVtVG9wIC0gaGVhZGVySGVpZ2h0IC0gJHNjcm9sbGFibGVDb250ZW50Lm91dGVySGVpZ2h0KCkgLyAyLjUpXHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gT25jZSBzY3JvbGxlZCwgYWRkIENTUyBhbmltYXRpb24gY2xhc3NcclxuICAgICAgICAgICAgJCgnI2h0LXNpZGViYXInKS5hZGRDbGFzcygnYW5pbWF0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5pdFNpZGViYXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaW5pdFNpZGViYXIpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQ1VTVE9NIFNFQVJDSCBJTVBMRU1FTlRBVElPTiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBQcmVwYXJlcyBhIHNlYXJjaCByZXF1ZXN0IGFuZCByZWRpcmVjdHMgdG8gdGhlIGZ1bGwgc2VhcmNoIHJlc3VsdHMgcGFnZVxyXG52YXIga2VudGljb1RoZW1lT3BlblNlYXJjaFJlc3VsdHNQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlYXJjaFF1ZXJ5ID0gJCgnLnNlYXJjaC1pbnB1dCcpLnZhbCgpO1xyXG5cclxuICAgIC8vIEVzY2FwZXMgZm9yYmlkZGVuIGNoYXJhY3RlcnNcclxuICAgIHNlYXJjaFF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaFF1ZXJ5KTtcclxuXHJcbiAgICAvLyBTZXRzIHRoZSBtYXggbnVtYmVyIG9mIHNlYXJjaCByZXN1bHRzIHBlciBwYWdlIHRvIDEwXHJcbiAgICBzZWFyY2hRdWVyeSA9IHNlYXJjaFF1ZXJ5ICsgJyZtYXg9MTAnO1xyXG5cclxuICAgIC8vIERldGVybWluZXMgd2hldGhlciBsYWJlbCBmaWx0ZXJpbmcgYmFzZWQgb24gdGhlIGN1cnJlbnQgZGV2IG1vZGVsIGlzIGFsbG93ZWRcclxuICAgIC8vIFRydWUgYnkgZGVmYXVsdCwgZmFsc2UgaWYgdGhlICdTaG93IHJlc3VsdHMgZm9yIGFsbCBkZXYgbW9kZWxzJyBjaGVja2JveCBleGlzdHMgKG9uIHRoZSBzZWFyY2ggcmVzdWx0cyBwYWdlKSBhbmQgaXMgc2VsZWN0ZWRcclxuICAgIHZhciBzaG93QWxsUmVzdWx0c0NoZWNrYm94RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hlY2stc2hvdy1hbGwtc2VhcmNoLXJlc3VsdHNcIik7XHJcbiAgICB2YXIgdXNlRGV2TW9kZWxGaWx0ZXJpbmcgPSAhKHNob3dBbGxSZXN1bHRzQ2hlY2tib3hFbGVtICYmIHNob3dBbGxSZXN1bHRzQ2hlY2tib3hFbGVtLmNoZWNrZWQpO1xyXG5cclxuICAgIC8vIENhbGxzIHRoZSBWaWV3UG9ydCBzZWFyY2ggcmVzdWx0cyBuYXZpZ2F0aW9uIGZ1bmN0aW9uXHJcbiAgICBpZiAod2luZG93LlNDUk9MTF9XRUJIRUxQICYmIHdpbmRvdy5TQ1JPTExfV0VCSEVMUC5zZWFyY2gpIHtcclxuICAgICAgICB3aW5kb3cuU0NST0xMX1dFQkhFTFAuc2VhcmNoLm5hdmlnYXRlVG9TZWFyY2hQYWdlKHNlYXJjaFF1ZXJ5LCB1c2VEZXZNb2RlbEZpbHRlcmluZyk7XHJcblxyXG4gICAgICAgIC8vIENsb3NlcyB0aGUgc2VhcmNoIHN1Z2dlc3Rpb25zIGRyb3AtZG93blxyXG4gICAgICAgIHZhciBzZWFyY2hJbnB1dEVsZW1lbnRpbnB1dCA9ICQoJyNodC1zZWFyY2gnKTtcclxuICAgICAgICBzZWFyY2hJbnB1dEVsZW1lbnRpbnB1dC5maW5kKCcuaHQtc2VhcmNoLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAvLyBSZW1vdmVzIHRoZSBob3ZlciBjbGFzcyBmcm9tIGl0ZW1zIHNlbGVjdGVkIGluIHRoZSBzZWFyY2ggZHJvcC1kb3duXHJcbiAgICAgICAgdmFyIHNlbGVjdGVkU2VhcmNoTGlua0VsZW1lbnQgPSAkKFwiLmh0LXNlYXJjaC1kcm9wZG93biBhLmhvdmVyXCIpO1xyXG4gICAgICAgIHNlbGVjdGVkU2VhcmNoTGlua0VsZW1lbnQucmVtb3ZlQ2xhc3MoXCJob3ZlclwiKTtcclxuICAgICAgICAkKGRvY3VtZW50KS51bmJpbmQoJ2tleWRvd24nKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNFQVJDSCBCT1ggU1VHR0VTVElPTlMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gVG9nZ2xlcyB0aGUgc2VhcmNoIHN1Z2dlc3Rpb24gZHJvcC1kb3duIGxpc3Qgb24gY2xpY2tcclxudmFyIHRvZ2dsZVNlYXJjaFN1Z2dlc3Rpb25zID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgc2VhcmNoSW5wdXQgPSAkKFwiaW5wdXQuc2VhcmNoLWlucHV0XCIpO1xyXG4gICAgdmFyIHNlYXJjaERyb3Bkb3duID0gJChcIi5odC1zZWFyY2gtZHJvcGRvd25cIik7XHJcbiAgICB2YXIgc2VhcmNoQnV0dG9uID0gJChcIiNzZWFyY2hCdXR0b25cIik7XHJcbiAgICB2YXIgc2VsZWN0ZWRTZWFyY2hMaW5rRWxlbWVudCA9ICQoXCIuaHQtc2VhcmNoLWRyb3Bkb3duIGEuaG92ZXJcIik7XHJcblxyXG4gICAgLy8gUmVtb3ZlcyB0aGUgXCJvcGVuXCIgY2xhc3MgaWYgdGhlIHVzZXIgY2xpY2tlZCBvdXRzaWRlIHRoZSBzZWFyY2ggZHJvcC1kb3duIG9yIGZvcm0gaW5wdXRcclxuICAgIGlmICgoIXNlYXJjaElucHV0LmlzKGV2ZW50LnRhcmdldCkgJiYgc2VhcmNoSW5wdXQuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSAmJlxyXG4gICAgICAgICghc2VhcmNoRHJvcGRvd24uaXMoZXZlbnQudGFyZ2V0KSAmJiBzZWFyY2hEcm9wZG93bi5oYXMoZXZlbnQudGFyZ2V0KS5sZW5ndGggPT09IDApXHJcbiAgICApIHtcclxuICAgICAgICBzZWFyY2hEcm9wZG93bi5yZW1vdmVDbGFzcyhcIm9wZW5cIik7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXMgdGhlIGhvdmVyIGNsYXNzIGZyb20gaXRlbXMgc2VsZWN0ZWQgaW4gdGhlIHNlYXJjaCBkcm9wLWRvd25cclxuICAgICAgICBzZWxlY3RlZFNlYXJjaExpbmtFbGVtZW50LnJlbW92ZUNsYXNzKFwiaG92ZXJcIik7XHJcblxyXG4gICAgICAgIC8vIENvbGxhcHNlcyB0aGUgc21hbGwgc2VhcmNoIGJveCBvbiBzbWFsbGVyIHNjcmVlbnNcclxuICAgICAgICBpZiAoKCFzZWFyY2hCdXR0b24uaXMoZXZlbnQudGFyZ2V0KSAmJiBzZWFyY2hCdXR0b24uaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA4MDAgJiYgd2luZG93LmlubmVyV2lkdGggPiA0OTkpIHtcclxuICAgICAgICAgICAgc2VhcmNoSW5wdXQucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICgkKFwiLmh0LXNlYXJjaC1kcm9wZG93biBsaS5zZWFyY2gta2V5XCIpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzZWFyY2hEcm9wZG93bi5hZGRDbGFzcyhcIm9wZW5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuJChkb2N1bWVudCkuY2xpY2sodG9nZ2xlU2VhcmNoU3VnZ2VzdGlvbnMpO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gQklHIFNFQVJDSCBBUkVBIChIT01FICsgU0VBUkNIIFBBR0VTKSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBJbmNyZWFzZXMgdGhlIHRvcCBwYWRkaW5nIG9mIHRoZSBtYWluIHBhZ2UgY29udGVudCBpZiB0aGUgYmlnIHNlYXJjaCBhcmVhIGlzIHByZXNlbnRcclxudmFyIHNldENvbnRlbnRUb3BQYWRkaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlYXJjaGJveEVsZW1lbnQgPSAkKFwiLnNlYXJjaGJveC1hcmVhLWJlaGluZFwiKS5maXJzdCgpO1xyXG4gICAgaWYgKHNlYXJjaGJveEVsZW1lbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgJChcIi5odC1jb250ZW50XCIpLmZpcnN0KCkuY3NzKFwicGFkZGluZy10b3BcIiwgc2VhcmNoYm94RWxlbWVudC5vdXRlckhlaWdodCh0cnVlKSArIFwicHhcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoc2V0Q29udGVudFRvcFBhZGRpbmcpO1xyXG4kKHdpbmRvdykucmVzaXplKHNldENvbnRlbnRUb3BQYWRkaW5nKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEZPT1RFUiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBTZXRzIHRoZSBmb290ZXIgd2lkdGggYW5kIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBtYWluIHBhZ2UgY29udGVudCBzZWN0aW9uXHJcbnZhciBzZXRGb290ZXJXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgdmlld1dpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gICAgLy8gdmFyIGZvb3RlcldpZHRoID0gJChcIi5odC1jb250ZW50XCIpLndpZHRoKCk7XHJcbiAgICB2YXIgZm9vdGVyV2lkdGggPSAkKFwiI2h0LXdyYXAtY29udGFpbmVyXCIpLndpZHRoKCk7XHJcbiAgICB2YXIgbGVmdFBvc2l0aW9uID0gJChcIiNodC13cmFwLWNvbnRhaW5lclwiKS5vZmZzZXQoKS5sZWZ0O1xyXG4gICAgdmFyIHJpZ2h0UGFkZGluZyA9IHZpZXdXaWR0aCAtIGZvb3RlcldpZHRoIC0gbGVmdFBvc2l0aW9uO1xyXG5cclxuICAgICQoXCIjaHQtZm9vdGVyXCIpLmNzcyh7XHJcbiAgICAgICAgXCJyaWdodFwiOiAtcmlnaHRQYWRkaW5nLFxyXG4gICAgICAgIFwicGFkZGluZy1yaWdodFwiOiByaWdodFBhZGRpbmcsXHJcbiAgICAgICAgXCJsZWZ0XCI6IC1sZWZ0UG9zaXRpb24sXHJcbiAgICAgICAgXCJwYWRkaW5nLWxlZnRcIjogbGVmdFBvc2l0aW9uXHJcbiAgICB9KTtcclxufTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KHNldEZvb3RlcldpZHRoKTtcclxuJCh3aW5kb3cpLnJlc2l6ZShzZXRGb290ZXJXaWR0aCk7XHJcblxyXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNDkwMTE1MFxyXG4vLyAvLyBDaGVja3MgZWxlbWVudCBoZWlnaHQgY2hhbmdlXHJcbmZ1bmN0aW9uIG9uRWxlbWVudEhlaWdodENoYW5nZShlbG0sIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgbGFzdEhlaWdodCA9IGVsbS5jbGllbnRIZWlnaHQsIG5ld0hlaWdodDtcclxuICAgIChmdW5jdGlvbiBydW4oKSB7XHJcbiAgICAgICAgbmV3SGVpZ2h0ID0gZWxtLmNsaWVudEhlaWdodDtcclxuICAgICAgICBpZiAobGFzdEhlaWdodCAhPSBuZXdIZWlnaHQpXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgbGFzdEhlaWdodCA9IG5ld0hlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lcilcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lcik7XHJcblxyXG4gICAgICAgIGVsbS5vbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lciA9IHNldFRpbWVvdXQocnVuLCAyMDApO1xyXG4gICAgfSkoKTtcclxufVxyXG5cclxub25FbGVtZW50SGVpZ2h0Q2hhbmdlKGRvY3VtZW50LmJvZHksIHNldEZvb3RlcldpZHRoKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IENPREUgQkxPQ0tTID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVG9nZ2xlcyBjb2RlIGJsb2NrIGNvbnRlbnRcclxuJChcInNwYW4uZXhwYW5kLWNvbnRyb2xcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvZGVDb250ZW50ID0gJCh0aGlzKS5wYXJlbnQoKS5uZXh0KCk7XHJcbiAgICB2YXIgZXhwYW5kQ29udHJvbFRleHQgPSAkKHRoaXMpLmZpbmQoXCJzcGFuLmV4cGFuZC1jb250cm9sLXRleHRcIik7XHJcblxyXG4gICAgaWYgKGNvZGVDb250ZW50Lmhhc0NsYXNzKFwiY29sbGFwc2VcIikpIHtcclxuICAgICAgICBjb2RlQ29udGVudC5yZW1vdmVDbGFzcyhcImNvbGxhcHNlXCIpO1xyXG4gICAgICAgIGV4cGFuZENvbnRyb2xUZXh0LnRleHQoXCJDb2xsYXBzZSBzb3VyY2VcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb2RlQ29udGVudC5hZGRDbGFzcyhcImNvbGxhcHNlXCIpO1xyXG4gICAgICAgIGV4cGFuZENvbnRyb2xUZXh0LnRleHQoXCJFeHBhbmQgc291cmNlXCIpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIENoZWNrcyBpZiB0aGUgdXNlciBpcyBzaWduZWQtaW4gYW5kIGlzbid0IHR5cGluZyBpbiB0aGUgc2VhcmNoIGJveC5cclxuICogQHJldHVybnMge3N0cmluZ30gdGhlIENvbmZsdWVuY2UgSUQgb2YgdGhlIGN1cnJlbnQgcGFnZSBvciAwXHJcbiAqL1xyXG52YXIgZ2V0UGFnZUlkSWZFZGl0aW5nQWxsb3dlZCA9IGZ1bmN0aW9uIGdldFBhZ2VJZElmRWRpdGluZ0FsbG93ZWQoKSB7XHJcblxyXG4gICAgdmFyIGxlbmd0aCA9ICQoXCIjc3Atdmlld3BvcnQtY29udHJvbC1vcGVuZXJcIikubGVuZ3RoO1xyXG4gICAgdmFyIHNlYXJjaGJveEZvY3VzZWQgPSAkKFwiLnNlYXJjaC1pbnB1dFwiKS5pcyhcIjpmb2N1c1wiKTtcclxuXHJcbiAgICBpZiAobGVuZ3RoICE9IDAgJiYgIXNlYXJjaGJveEZvY3VzZWQpXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIHBhZ2VJZCA9ICQoXCJib2R5XCIpLmF0dHIoXCJwYWdlaWRcIik7XHJcblxyXG4gICAgICAgIHJldHVybiBwYWdlSWQgPyBwYWdlSWQgOiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAwO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiAgT3BlbnMgYSBsaW5rIGluIHRoZSBzYW1lL25ldyB0YWIgYmFzZWQgb24gdGhlIHBhcmFtZXRlcnNcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBVUkwgdG8gb3BlblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG5ld1RhYiAtIFNwZWNpZmllcyB3aGV0aGVyIHRvIG9wZW4gdGhlIFVSTCBpbiBhIG5ldyB0YWJcclxuICovXHJcbiBmdW5jdGlvbiBvcGVuTGluayh1cmwsIG5ld1RhYikge1xyXG4gICAgaWYgKG5ld1RhYikge1xyXG4gICAgICAgIHZhciB3aW4gPSB3aW5kb3cub3Blbih1cmwsIFwiX2JsYW5rXCIpO1xyXG4gICAgICAgIHdpbi5mb2N1cygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB3aW5kb3cub3Blbih1cmwsIFwiX3NlbGZcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEVNUFRZIDxwPiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBIaWRlcyBwYXJhZ3JhcGhzIGNvbnRhaW5pbmcgb25seSB3aGl0ZXNwYWNlXHJcbiQoJ3AnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHRoaXMpLnRleHQoKS50cmltKCkgPT0gJycgJiYgJCh0aGlzKS5jaGlsZHJlbigpLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgJCh0aGlzKS5oaWRlKCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU0hPVyBTRUFSQ0ggVElQUyA9PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBzaG93SGlkZVNlYXJjaFRpcHMgPSBmdW5jdGlvbiBzaG93SGlkZVNlYXJjaFRpcHMoKSB7XHJcbiAgICBpZiAoJChcIiNzZWFyY2gtdGlwc1wiKS5oYXNDbGFzcyhcInNob3dcIikpIHtcclxuICAgICAgICBoaWRlRnJvbnRMYXllcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2hvd0Zyb250TGF5ZXIoKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG52YXIgc2hvd0Zyb250TGF5ZXIgPSBmdW5jdGlvbiBzaG93RnJvbnRMYXllcigpIHtcclxuICAgICQoXCIjc2VhcmNoLXRpcHNcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10aXBzLW1hc2snKS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10aXBzJykuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxufTtcclxuXHJcblxyXG52YXIgaGlkZUZyb250TGF5ZXIgPSBmdW5jdGlvbiBoaWRlRnJvbnRMYXllcigpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtdGlwcy1tYXNrJykuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC10aXBzJykuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgJChcIiNzZWFyY2gtdGlwc1wiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IENvb2tpZSBCYW5uZXIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGNyZWF0ZUNvb2tpZSA9IGZ1bmN0aW9uIGNyZWF0ZUNvb2tpZShuYW1lLCB2YWx1ZSwgZGF5cywgZG9tYWluKSB7XHJcbiAgICB2YXIgZG9tYWluID0gXCI7IGRvbWFpbj1cIiArIGRvbWFpbjtcclxuICAgIHZhciBleHBpcmVzO1xyXG5cclxuICAgIGlmIChkYXlzKSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIChkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xyXG4gICAgICAgIGV4cGlyZXMgPSBcIjsgZXhwaXJlcz1cIiArIGRhdGUudG9VVENTdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGVsc2UgZXhwaXJlcyA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZSArIGV4cGlyZXMgKyBcIjsgcGF0aD0vXCIgKyBkb21haW47XHJcbn07XHJcblxyXG5cclxudmFyIGVyYXNlQ29va2llID0gZnVuY3Rpb24gZXJhc2VDb29raWUobmFtZSkge1xyXG4gICAgY3JlYXRlQ29va2llKG5hbWUsIFwiXCIsIC0xLCBcIlwiKTtcclxufTtcclxuXHJcblxyXG4vLyBTZXRzIHRoZSBzaGFyZWQgY29va2llIGFuZCBoaWRlcyB0aGUgY29va2llIGJhbm5lclxyXG52YXIgY29uc2VudFdpdGhDb29raWVVc2FnZSA9IGZ1bmN0aW9uIGNvbnNlbnRXaXRoQ29va2llVXNhZ2UoKSB7XHJcbiAgICAkKFwiI2Nvb2tpZS1iYW5uZXJcIikuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XHJcbiAgICAvLyBVc2UgZG9tYWluIFwiLnhwZXJpZW5jZS5pb1wiIHRvIHNoYXJlIHRoZSBjb29raWUgd2l0aCB4cGVyaWVuY2UuaW8gYW5kIGFsbCBzdWJkb21haW5zXHJcbiAgICBjcmVhdGVDb29raWUoXCJ4cGVyaWVuY2UuY29va2llbGV2ZWxzZWxlY3Rpb25cIiwgdHJ1ZSwgMzY1LCBcIi54cGVyaWVuY2UuaW9cIik7XHJcbn07XHJcblxyXG5cclxudmFyIGhpZGVDb29raWVDb25zZW50QmFubmVyID0gZnVuY3Rpb24gaGlkZUNvb2tpZUNvbnNlbnRCYW5uZXIoKSB7XHJcbiAgICB2YXIgY29va2llVmFsdWUgPSBkb2N1bWVudC5jb29raWUucmVwbGFjZSgvKD86KD86XnwuKjtcXHMqKXhwZXJpZW5jZS5jb29raWVsZXZlbHNlbGVjdGlvblxccypcXD1cXHMqKFteO10qKS4qJCl8Xi4qJC8sIFwiJDFcIik7XHJcbiAgICBpZiAoY29va2llVmFsdWUgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKSB7XHJcbiAgICAgICAgJChcIiNjb29raWUtYmFubmVyXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gU2V0cyB0aGUgcGFzc2VkIGNvb2tpZSBsZXZlbCB0byB0aGUgc2hhcmVkIGNvb2tpZSBhbmQgdXBkYXRlcyB0aGUgY29uc2VudCB0byBHQS9HVE0gKGNhbGxlZCBmcm9tIHRoZSBjb29raWUgYmFubmVyIGFmdGVyIGNsaWNraW5nIGEgYnV0dG9uKVxyXG52YXIgc2V0Q29va2llTGV2ZWwgPSBmdW5jdGlvbiBzZXRDb29raWVMZXZlbChsZXZlbCkge1xyXG4gICAgdmFyIGxldmVsID0gbGV2ZWw7XHJcblxyXG4gICAgaWYgKGxldmVsID09PSBcIm1hcmtldGluZ1wiKSB7IC8vIFNob3VsZG4ndCBiZSBuZWVkZWRcclxuICAgICAgICBsZXZlbCA9IDQ7XHJcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBcImFuYWx5dGljYWxcIikge1xyXG4gICAgICAgIGxldmVsID0gMztcclxuICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09IFwicHJlZmVyZW5jZVwiKSB7IC8vIFNob3VsZG4ndCBiZSBuZWVkZWRcclxuICAgICAgICBsZXZlbCA9IDI7XHJcbiAgICB9IGVsc2UgeyAvLyA9PT0gXCJuZWNlc3NhcnlcIlxyXG4gICAgICAgIGxldmVsID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zZW50V2l0aENvb2tpZVVzYWdlKCk7XHJcbiAgICAvLyBVc2UgZG9tYWluIFwiLnhwZXJpZW5jZS5pb1wiIHRvIHNoYXJlIHRoZSBjb29raWUgd2l0aCB4cGVyaWVuY2UuaW8gYW5kIGFsbCBzdWJkb21haW5zXHJcbiAgICBjcmVhdGVDb29raWUoXCJ4cGVyaWVuY2UuY29va2llY29uc2VudGxldmVsXCIsIGxldmVsLCAzNjUsIFwiLnhwZXJpZW5jZS5pb1wiKTtcclxuXHJcbiAgICAvLyBTZW5kICdjb25zZW50LnVwZGF0ZSdcclxuICAgIGlmIChsZXZlbCA9PT0gMSkge1xyXG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xyXG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICdldmVudCc6ICdjb25zZW50LnVwZGF0ZScsXHJcbiAgICAgICAgICAgICdjb25zZW50Jzoge1xyXG4gICAgICAgICAgICAnZnVuY3Rpb25hbGl0eV9zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAncGVyc29uYWxpemF0aW9uX3N0b3JhZ2UnOiAnZGVuaWVkJyxcclxuICAgICAgICAgICAgJ2FuYWx5dGljc19zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdhZF9zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdzZWN1cml0eV9zdG9yYWdlJzogJ2RlbmllZCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gMykge1xyXG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIgPSB3aW5kb3cuZGF0YUxheWVyIHx8IFtdO1xyXG4gICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICdldmVudCc6ICdjb25zZW50LnVwZGF0ZScsXHJcbiAgICAgICAgICAgICdjb25zZW50Jzoge1xyXG4gICAgICAgICAgICAnZnVuY3Rpb25hbGl0eV9zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAncGVyc29uYWxpemF0aW9uX3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICdhbmFseXRpY3Nfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ2FkX3N0b3JhZ2UnOiAnZGVuaWVkJyxcclxuICAgICAgICAgICAgJ3NlY3VyaXR5X3N0b3JhZ2UnOiAnZGVuaWVkJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgaGlkZUNvb2tpZUNvbnNlbnRCYW5uZXIoKTtcclxufSk7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBIZWFkaW5nIGFuY2hvciBsaW5rIGNsaXBib2FyZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgY29weUhlYWRpbmdMaW5rID0gZnVuY3Rpb24gY29weUhlYWRpbmdMaW5rKGUpIHtcclxuXHR2YXIgY2xpY2tlZEljb24gPSAkKGUudGFyZ2V0KTtcclxuXHRcclxuXHQvLyBCdWlsZHMgdGhlIGhlYWRpbmcgYW5jaG9yIGxpbmtcclxuXHR2YXIgYW5jaG9yTGluayA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnIycgKyBjbGlja2VkSWNvbi5wYXJlbnQoKS5hdHRyKCdpZCcpO1xyXG5cdFxyXG5cdGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFNuYWNrYmFyLnNob3coe3RleHQ6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjb3B5aW5nIHRoZSBoZWFkaW5nIGxpbmsgdG8gdGhlIGNsaXBib2FyZCcsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC13YXJuaW5nJywgZHVyYXRpb246ICczNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0ZGRUJFQicsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGFuY2hvckxpbmspXHJcblx0XHRcdC50aGVuKCgpID0+IHtcdFx0XHRcdFxyXG5cdFx0XHRcdFNuYWNrYmFyLnNob3coe3RleHQ6ICdIZWFkaW5nIGxpbmsgY29waWVkJywgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LWluZm8nLCBkdXJhdGlvbjogJzI1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRUVGM0ZDJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuICAgICAgICAgICAgICAgIGNsaWNrZWRJY29uLmFkZENsYXNzKCdjb3BpZWQnKTtcclxuICAgICAgICAgICAgfSlcclxuXHRcdFx0LmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIFNuYWNrYmFyLnNob3coe3RleHQ6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjb3B5aW5nIHRoZSBoZWFkaW5nIGxpbmsgdG8gdGhlIGNsaXBib2FyZCcsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC13YXJuaW5nJywgZHVyYXRpb246ICczNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0ZGRUJFQicsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cdH1cclxufTtcclxuXHJcbi8vIFJlc2V0cyB0aGUgY29weSBpY29uIG9uIG1vdXNlb3V0XHJcbnZhciBjb3B5SWNvbk1vdXNlT3V0ID0gZnVuY3Rpb24gY29weUljb25Nb3VzZU91dChlKSB7XHJcblx0dmFyIGNsaWNrZWRJY29uID0gJChlLnRhcmdldCk7XHJcblx0aWYgKGNsaWNrZWRJY29uLmhhc0NsYXNzKCdjb3BpZWQnKSkge1x0XHJcbiAgICAgICAgY2xpY2tlZEljb24ucmVtb3ZlQ2xhc3MoJ2NvcGllZCcpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cdHZhciBjb3B5SGVhZGluZ0xpbmtJY29uID0gJzxzcGFuIHRpdGxlPVwiQ29weSBsaW5rIHRvIGhlYWRpbmdcIiBjbGFzcz1cImhlYWRpbmctbGluay1pY29uIGljb24tY2hhaW5cIiBvbmNsaWNrPVwiY29weUhlYWRpbmdMaW5rKGV2ZW50KVwiIG9ubW91c2VvdXQ9XCJjb3B5SWNvbk1vdXNlT3V0KGV2ZW50KVwiPjwvc3Bhbj4nO1xyXG5cdFxyXG5cdC8vIFNlbGVjdG9yIGZvciBoMiBhbmQgaDMgaGVhZGluZ3MgaW4gc3RhbmRhcmQgQ29uZmx1ZW5jZSBjb250ZW50IChubyBzZWN0aW9uLCBmdWxsLXdpZHRoIHNlY3Rpb24sIGFuZCAyLzMgc2VjdGlvbiBjb250ZW50KVxyXG5cdHZhciBoZWFkaW5nRWxlbWVudHMgPSAnI21haW4tY29udGVudCAuc3AtZ3JpZC02MCBoMiwgI21haW4tY29udGVudCAuc3AtZ3JpZC0xMDAgaDIsICNtYWluLWNvbnRlbnQgLnNwLWdyaWQtNjAgaDMsICNtYWluLWNvbnRlbnQgLnNwLWdyaWQtMTAwIGgzJztcclxuXHRcclxuXHQvLyBGaWx0ZXJzIG91dCBoZWFkaW5ncyBpbiBib3ggbWFjcm9zIGFuZCBoZWFkaW5ncyBjb250YWluaW5nIGxpbmtzXHJcblx0Ly8gQXBwZW5kcyB0aGUgXCJDb3B5IGhlYWRpbmcgbGlua1wiIGljb24gdG8gdGhlIGhlYWRpbmcgY29udGVudFxyXG5cdCQoaGVhZGluZ0VsZW1lbnRzKS5ub3QoJ2Rpdi5ib3gtZ2VuZXJhbCBoMiwgZGl2LmJveC1nZW5lcmFsIGgzLCBoMjpoYXMoYSksIGgzOmhhcyhhKScpLmFwcGVuZChjb3B5SGVhZGluZ0xpbmtJY29uKTtcclxufSkoKTsgXHJcblxyXG52YXIgaW5pdEZvb3RlckxpbmtzID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICQoXCIuanMtcWEtbGlua1wiKS5hdHRyKCdocmVmJywgVEhFTUVfQ09ORklHLktFTlRJQ09fUUFfTElOSyk7XHJcbiAgICQoXCIuanMtc3VwcG9ydC1saW5rXCIpLmF0dHIoJ2hyZWYnLCBUSEVNRV9DT05GSUcuS0VOVElDT19RQV9MSU5LKTtcclxufVxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoaW5pdEZvb3RlckxpbmtzKTsiXX0=
