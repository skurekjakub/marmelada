<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Best practices for customization - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68882164"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                     <li><a href="Custom-development.html">Custom development</a></li>
                                                            </ul>
</div>            <h1 id="src-68882164"> <span>Best practices for customization</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<p   
>This page contains best practices for customizing Kentico. The recommendations mostly focus on minimizing problems that can occur when upgrading to newer versions.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>If you are unfamiliar with the upgrade process, see   <a   href="Upgrading-to-Kentico-11">Upgrading to Kentico 11</a>.</p>
        </div>
    </div>
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-Databasestructureandobjects">Database structure and objects</a></p>
<ul class="toc-indentation "><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-CustomizingthedefaultKenticodatabasetables">Customizing the default Kentico database tables</a></p>
</li><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-Addingcustomdatabasetables">Adding custom database tables</a></p>
</li><li class=" "><p   
>  <a   href="#src-68882164_safe-id-QmVzdHByYWN0aWNlc2ZvcmN1c3RvbWl6YXRpb24tQ3VzdG9taXppbmdLZW50aWNvZGF0YWJhc2VvYmplY3RzKHN0b3JlZHByb2NlZHVyZXMsdmlld3MsZnVuY3Rpb25zLGV0Yy4p">Customizing Kentico database objects (stored procedures, views, functions, etc.)</a></p>
</li></ul></li><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-Defaultdata">Default data</a></p>
</li><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-Physicalfilesandcodechanges">Physical files and code changes</a></p>
<ul class="toc-indentation "><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-Addingcustomfiles">Adding custom files</a></p>
</li><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-ModifyingdefaultfilesintheKenticoproject">Modifying default files in the Kentico project</a></p>
</li><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-Changingtheprojectstructure">Changing the project structure</a></p>
</li></ul></li><li class=" "><p   
>  <a   href="#src-68882164_Bestpracticesforcustomization-UsingjQuery">Using jQuery</a></p>
</li></ul><p   
></p>
    <div class="section section-1" id="src-68882164_Bestpracticesforcustomization-Databasestructureandobjects">
        <h1 class="heading "><span>Database structure and objects</span></h1>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Note</strong>: In general, upgrades may change the structure of the default Kentico database tables and overwrite any default database objects.</p>
        </div>
    </div>
    <div class="section section-2" id="src-68882164_Bestpracticesforcustomization-CustomizingthedefaultKenticodatabasetables">
        <h2 class="heading "><span>Customizing the default Kentico database tables</span></h2>
<ul class=" "><li class=" "><p   
>NEVER modify Kentico tables manually in the database (adding or removing of columns, changing column data types, etc.).<br/><br/></p>
</li><li class=" "><p   
>Adding of custom columns is only possible for tables that store the data of<strong class=" "> customizable</strong> classes:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Modules</strong> application in the Kentico administration interface.</p>
</li><li class=" "><p   
>Edit the appropriate module.</p>
</li><li class=" "><p   
>Edit the <strong class=" ">customizable</strong> class on the <strong class=" ">Classes</strong> tab.</p>
</li><li class=" "><p   
>Define any new database columns on the <strong class=" ">Fields</strong> tab. You cannot remove the default fields or change their database definitions (column names, data types, size etc.).</p>
</li><li class=" "><p   
>Add a <i class=" "><strong class=" ">unique prefix</strong></i> as a naming convention in the <strong class=" ">Field name</strong> of any custom fields. The prefix prevents conflicts with fields that Kentico may add in the future.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>When you save the custom class field, the system creates a custom column in the corresponding database table.</p>
<p   
>During upgrades, the system merges the database definitions for customizable classes. The default fields may be updated and overwritten, but the custom fields are preserved.</p>
        </div>
    </div>
</li></ol></li><li class=" "><p   
>Customization of <strong class=" ">database table indexes</strong> is supported, but may require additional maintenance during upgrades:<br/></p>
<ul class=" "><li class=" "><p   
>You can drop the default indexes and create custom indexes for tables. You need to perform custom index operations manually in the database (via scripts or SQL Server Management Studio).</p>
</li><li class=" "><p   
>Use a unique naming convention for your custom indexes and maintain documentation to keep track of the changes.</p>
</li><li class=" "><p   
>The SQL script performed by upgrades may fail if the system attempts to create an index that is not compatible with your custom indexes. For example, if you drop a table&#39;s default clustered index and create your own, the SQL upgrade may fail if it attempts to update or recreate the default clustered index.</p>
</li><li class=" "><p   
>After applying an upgrade, review each table with custom indexes and make sure the indexes are still relevant and fulfill your requirements.</p>
</li></ul></li></ul>    </div>
    <div class="section section-2" id="src-68882164_Bestpracticesforcustomization-Addingcustomdatabasetables">
        <h2 class="heading "><span>Adding custom database tables</span></h2>
<p   
>If you need to store data in a custom table within the Kentico database, use the administration interface to create one of the following objects:</p>
<ul class=" "><li class=" "><p   
>Custom class (under a   <a   href="Creating-custom-modules">Custom module</a>) &ndash; the best option for fully integrating the data into Kentico.</p>
</li><li class=" "><p   
>  <a   href="Page-types">Page type</a> &ndash; intended for data that you wish to store as pages in the website&#39;s content tree.</p>
</li><li class=" "><p   
>  <a   href="Forms">Form</a> &ndash; suitable for data that you wish to collect from the site&#39;s visitors.</p>
</li><li class=" "><p   
>  <a   href="Custom-tables">Custom table</a> &ndash; only use if you need to store and edit simple data structures without the need to create a custom module and define an editing interface. Otherwise, custom module classes are recommended instead.</p>
</li></ul><p   
>See   <a   href="Defining-website-content-structure">Defining website content structure</a> if you need help deciding which approach is the best for you.</p>
<p   
><strong class=" ">Note</strong>: If you wish to define custom fields that reference other Kentico objects (i.e. foreign keys), you need to use   <a   href="Creating-custom-modules">custom module classes</a>. See   <a   href="Adding-references-between-classes">Adding references between classes</a>.</p>
<p   
>In all cases, the system automatically creates a database table based on the options that you configure. Any fields (columns) that you define for the table remain unchanged during upgrades. In rare cases, the upgrade may add new general fields required by the system (such additions should not break or affect the table&#39;s functionality).</p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Important</strong></p>
<p   
>When creating objects representing custom database tables (such as custom classes, page types, forms, etc.), always use a <i class=" "><strong class=" ">unique prefix (namespace)</strong></i> in the code name of the object and the matching table name. This convention prevents conflicts with objects and tables that Kentico may add in the future.</p>
<p   
>Never use the <strong class=" ">cms</strong>,<strong class=" "> com</strong>,<strong class=" "> om</strong> or <strong class=" ">content</strong> prefixes for custom objects or database tables. The best option is to use your company name or an abbreviation as the prefix, for example: <i class=" ">ACME_MyTable</i></p>
        </div>
    </div>
    </div>
    <div class="section section-2" id="src-68882164_safe-id-QmVzdHByYWN0aWNlc2ZvcmN1c3RvbWl6YXRpb24tQ3VzdG9taXppbmdLZW50aWNvZGF0YWJhc2VvYmplY3RzKHN0b3JlZHByb2NlZHVyZXMsdmlld3MsZnVuY3Rpb25zLGV0Yy4p">
        <h2 class="heading "><span>Customizing Kentico database objects (stored procedures, views, functions, etc.)</span></h2>
<ul class=" "><li class=" "><p   
>Do NOT directly modify the default Kentico database objects. Upgrades can overwrite any database object and the customizations will be lost.</p>
</li><li class=" "><p   
>You can add custom database objects. Always use a <i class=" "><strong class=" ">unique prefix</strong></i> or other naming convention for custom database objects. The prefix prevents conflicts with objects that Kentico may add in the future.</p>
</li><li class=" "><p   
>If you need to use a modified version of a Kentico database object, create your own custom object and copy the code from the original (use a unique naming convention). Then make any required modifications and ensure that your custom functionality uses the changed version of the database object.</p>
</li></ul>    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>If you need to create a custom <strong class=" ">View</strong> or <strong class=" ">Stored procedure</strong>, but do not have direct access to the database, you can use the <strong class=" ">Database objects</strong> application in the Kentico administration interface. This approach is equivalent to creating or scripting the object manually in the database.</p>
<p   
><strong class=" ">Note</strong>: Do NOT use the <i class=" ">Database objects</i> application to edit the default views or procedures.</p>
        </div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-68882164_Bestpracticesforcustomization-Defaultdata">
        <h1 class="heading "><span>Default data</span></h1>
<p   
>Each installation of Kentico automatically includes a set of default objects. These objects serve as examples of Kentico functionality and in some cases are important components of the system.</p>
<p   
>The following is a list of object types whose <i class=" "><strong class=" ">default</strong></i> objects are &quot;owned by the system&quot;:</p>
<p   style="margin-left:30px;"
><strong class=" ">Default objects that are all overwritten during every upgrade:</strong></p>
<ul class=" "><li class=" "><p   
>  <a   href="Developing-web-parts">Web parts</a></p>
</li><li class=" "><p   
>  <a   href="Using-custom-web-part-layouts">Web part layouts</a></p>
</li><li class=" "><p   
>  <a   href="Preparing-widgets-for-users">Widgets</a></p>
</li><li class=" "><p   
>  <a   href="Working-with-system-reports">Reports</a> (for example used by Online marketing, Web analytics and E-commerce)</p>
</li><li class=" "><p   
>  <a   href="Configuring-time-zones">Time zones</a></p>
</li></ul><p   style="margin-left:30px;"
><strong class=" ">Default objects that can be individually overwritten by any upgrade or hotfix:</strong></p>
<ul class=" "><li class=" "><p   
>  <a   href="Developing-form-controls">Form controls</a></p>
</li><li class=" "><p   
>  <a   href="Reference---Managing-UI-elements">UI elements</a> (managed when editing <i class=" ">Modules</i> on the <i class=" ">User interface</i> tab)</p>
</li></ul><p   style="margin-left:30px;"
><strong class=" ">Object types with a specific subset of default objects that are &quot;owned by the system&quot;:</strong></p>
<ul class=" "><li class=" "><p   
>  <a   href="Managing-page-templates">Page templates</a> &ndash; all default templates in the <strong class=" ">UI templates</strong> category are critical system objects.</p>
</li><li class=" "><p   
>  <a   href="Page-types">Page types</a> &ndash; the following page types are integral parts of the system:<br/></p>
<ul class=" "><li class=" "><p   
><strong class=" ">Root</strong> (CMS.Root)</p>
</li><li class=" "><p   
><strong class=" ">File</strong> (CMS.File)</p>
</li><li class=" "><p   
><strong class=" ">    <span style="color: #262524;">
Page (menu item)    </span>
</strong> (CMS.MenuItem)</p>
</li><li class=" "><p   
><strong class=" ">Chat - Transformations</strong> (Chat.Transformations)</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>All default <strong class=" ">transformations</strong> and <strong class=" ">queries</strong> stored under the given page types are also considered system objects. You can however add new queries or transformations under the system page types without problems.</p>
        </div>
    </div>
</li></ul></li></ul><p   
>To avoid problems during upgrades, handle the default objects listed above according to the following rules:</p>
<ul class=" "><li class=" "><p   
>Do NOT edit or delete any of the listed default objects. Many of the objects are crucial components that are required for the system and administration interface to work correctly.<br/><br/></p>
</li><li class=" "><p   
>If you need to modify one of the default objects, create your own copy of the original object instead (in many cases you can use the <strong class=" ">clone</strong> feature). Then make the changes to your custom object and use it for the required purpose.<br/><br/></p>
</li><li class=" "><p   
>If you cannot avoid making changes directly to one of the default Kentico objects, you need to assume that any upgrade or hotfix will <i class=" "><strong class=" ">overwrite</strong></i> your customizations. Maintain detailed documentation of all customizations so you can manually replicate them after an upgrade.<br/><br/></p>
</li><li class=" "><p   
>You can create your own objects of the listed types without any problems. Upgrades only overwrite the default objects. For example, upgrades overwrite changes that you make to the default web parts, but any custom web parts that you create will not be affected.<br/><br/></p>
</li><li class=" "><p   
>If you need to modify the user interface of the default Kentico applications, do NOT use the <i class=" ">Customize</i> option for default UI elements. Such changes can be lost during upgrades. Instead, add your own custom UI elements and then use the resulting interface instead of the original:<br/></p>
<ol class=" "><li class=" "><p   
>Create a custom module in the <strong class=" ">Modules</strong> application.</p>
</li><li class=" "><p   
>Add UI elements on the module&#39;s <strong class=" ">User interface</strong> tab.<br/></p>
<ul class=" "><li class=" "><p   
>All custom UI elements must be assigned to a custom module.</p>
</li><li class=" "><p   
>You can copy the settings of the original UI elements that you want to customize and then make your changes.</p>
</li><li class=" "><p   
>Either add the custom UI elements under existing elements or create an entire custom application in the <strong class=" ">CMS -&gt; Administration -&gt; Custom</strong> section of the UI element tree.</p>
</li><li class=" "><p   
>See the   <a   href="Creating-custom-modules">Creating custom modules</a> documentation for more information.</p>
</li></ul></li></ol></li></ul>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Other default objects</strong></p>
<p   
>In rare cases, specific upgrades or hotfixes may also overwrite, delete or convert other types of objects. To minimize the risk of losing changes made to default objects, we recommend taking the following steps, even for object types that are not listed above (for example   <a   href="Managing-email-templates">Email templates</a>):</p>
<ul class=" "><li class=" "><p   
>Maintain documentation of all changes that you make to default objects</p>
</li><li class=" "><p   
>Carefully check the instructions for each upgrade or hotfix version before applying</p>
</li></ul>        </div>
    </div>
    </div>
    <div class="section section-1" id="src-68882164_Bestpracticesforcustomization-Physicalfilesandcodechanges">
        <h1 class="heading "><span>Physical files and code changes</span></h1>
<p   
>Use the following general rules when working with files in the Kentico web project:</p>
<ul class=" "><li class=" "><p   
>Avoid modifications of the default Kentico files whenever possible. Adding of new custom files is preferable and easier to maintain through upgrades. Kentico provides a customization model that allows you to implement various scenarios by adding custom classes (for example   <a   href="Handling-global-events">Event handling</a> or   <a   href="Customizing-providers">Provider customization</a>).<br/><br/></p>
</li><li class=" "><p   
>Do NOT use Kentico API that is marked as <i class=" ">obsolete.</i> Such API will most likely be removed in the next version of Kentico, and your code will stop working.<br/><br/></p>
</li><li class=" "><p   
>If you need to execute SQL queries from code, avoid hardcoding of the query text. Hardcoded queries can cause errors if the underlying database structure changes. If possible, use the Kentico data engine API to generate your queries (  <a   href="Retrieving-database-data-using-ObjectQuery-API">ObjectQuery</a>,   <a   href="Working-with-pages-in-the-API">DocumentQuery</a>,   <a   href="Working-with-database-queries-in-the-API">DataQuery</a>).<br/><br/></p>
</li><li class=" "><p   
>Maintain documentation to keep track of your custom files and modifications made to the default files.</p>
    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Tip</strong>: A good way to keep track of custom files and file modifications is to create a parallel web project next to your Kentico project. Start with an empty web application project and add (as links) any new or customized files from the main project. Recreate the Kentico folder structure as necessary to organize the files.</p>
        </div>
    </div>
</li></ul>    <div class="section section-2" id="src-68882164_Bestpracticesforcustomization-Addingcustomfiles">
        <h2 class="heading "><span>Adding custom files</span></h2>
<p   
>Adding of custom files into the Kentico project is a necessary part of many customization scenarios. For example, you need to add files when:</p>
<ul class=" "><li class=" "><p   
>Defining custom objects or functionality (such as   <a   href="Developing-web-parts">web parts</a>,   <a   href="Scheduling-custom-tasks">scheduled tasks</a>,   <a   href="Creating-custom-smart-search-indexes">smart search indexes</a>,   <a   href="Registering-custom-macro-methods">custom macro method containers</a>, etc.)</p>
</li><li class=" "><p   
>Performing initialization code (such as   <a   href="Handling-global-events">assigning handlers to events</a>)</p>
</li></ul><p   
>We recommend adding custom files into the project&#39;s directories based on the   <a   href="Export-folder-structure">Export folder structure</a>. These locations allow the system to automatically export files along with related database objects.</p>
<p   
>When adding code files (classes), you can choose between two different approaches:</p>
<ul class=" "><li class=" "><p   
><i class=" "><strong class=" ">(Preferred)</strong></i> Create the files as part of a custom project (library). Then add the project to the Kentico solution and connect it through references.<br/>&ndash; OR &ndash;</p>
</li><li class=" "><p   
>Add the files directly into the Kentico project. Use the <strong class=" ">App_Code</strong> folder for web site projects.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Advantages of custom code projects</strong></p>
<p   
>Using separate projects (libraries) for custom code has the following advantages:</p>
<ul class=" "><li class=" "><p   
>Cleaner separation of custom code from the default code of the Kentico web project.</p>
</li><li class=" "><p   
>Compilation performance &ndash; the code of a separate project is compiled into a DLL and does not require runtime compilation that slows down the web project.</p>
</li><li class=" "><p   
>Better accessibility of your custom classes from external applications or projects (for example projects running automated tests).</p>
</li><li class=" "><p   
>Easier re-usability across multiple projects.</p>
</li></ul>        </div>
    </div>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Maintaining references between Kentico and custom projects</strong></p>
<p   
>When performing upgrades, references from the Kentico projects (CMS, CMSApp) to your custom projects are preserved. Upgrades merge any new content in the corresponding <i class=" ">.csproj</i> files with your custom content (such as references).<strong class=" "><br/></strong></p>
<p   
>However, references from custom projects to Kentico libraries (DLLs) need to be added again after performing an upgrade. The change in the versions of the Kentico DLLs breaks the original references.<strong class=" "><br/></strong></p>
        </div>
    </div>
</li></ul><p   
>Custom files that you add are not directly affected by upgrades. However, you still need to check each custom file after performing an upgrade:</p>
<ul class=" "><li class=" "><p   
>Make sure the function performed by the file is still relevant for the new Kentico version (read the release notes and upgrade instructions).</p>
</li><li class=" "><p   
>Update any Kentico API that you call in code files to be compatible with the latest version. We recommend using the   <a   href="Upgrading-custom-code">code upgrade tool</a> and/or the list of <a  class="external-link" href="http://devnet.kentico.com/documentation/api-changes">API changes</a>.</p>
</li></ul>    </div>
    <div class="section section-2" id="src-68882164_Bestpracticesforcustomization-ModifyingdefaultfilesintheKenticoproject">
        <h2 class="heading "><span>Modifying default files in the Kentico project</span></h2>
<p   
>If you cannot avoid customizing one or more of the default files in the <strong class=" ">CMS</strong> web site project or <strong class=" ">CMSApp</strong> web application project:</p>
<ul class=" "><li class=" "><p   
>Add comments and/or regions to clearly identify your custom code within the default Kentico code. This makes it easier to keep track of your changes and allows you to use the   <a   href="Upgrading-custom-code">code upgrade tool</a> more efficiently.</p>
</li><li class=" "><p   
>During an upgrade, the system automatically detects modified files and creates new versions of them with the <i class=" ">new</i> extension. You need to manually merge your customizations into the new version of the file (use Visual Studio or another comparison and merging tool).</p>
</li><li class=" "><p   
>You need to manually ensure that any Kentico API you call in your custom code sections is up-to-date. We recommend using the   <a   href="Upgrading-custom-code">code upgrade tool</a> and/or the list of <a  class="external-link" href="http://devnet.kentico.com/documentation/api-changes">API changes</a>.</p>
</li></ul><p   
>The following are guidelines for common customization scenarios related to the default files:</p>
<ul class=" "><li class=" "><p   
><strong class=" ">Web.config </strong>-- you can directly edit your project&#39;s <i class=" ">web.config</i> file and add any required configuration options. Upgrades attempt to automatically merge your web.config customizations with any changes introduced by the new version. If the automatic merge fails due to incompatible configuration, a separate web.config file with the <i class=" ">.new</i> extension is created and you need to combine the file content manually.<br/><br/></p>
</li><li class=" "><p   
><strong class=" ">Global.asax</strong> &ndash; do NOT edit or add content to the <i class=" ">Global.asax</i> file in the Kentico project. If you wish run code at specific points within the application life cycle, use the customization model to assign handlers of the appropriate Kentico events <i class=" ">(ApplicationEvents, RequestEvents).</i> See   <a   href="Reference---Global-system-events">Reference - Global system events</a>.<br/><br/></p>
</li><li class=" "><p   
><strong class=" ">Administration interface customizations</strong> &ndash; if you need to customize files that affect the default Kentico administration interface, you can edit them directly within the project:</p>
<ul class=" "><li class=" "><p   
>UniGrid XML definitions used for listing pages - typically stored as<i class=" "> ~/App_Data/CMSModules/&lt;module name&gt;/UI/Grids/&lt;object type&gt;/default.xml</i></p>
</li><li class=" "><p   
>Web form pages used for UI elements with manually defined content - typically stored in <i class=" ">~/CMSModules/...</i></p>
</li></ul>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Note</strong>: Avoid customizations of the default administration interface pages when possible. The recommended approach is to create your own UI elements and then use the resulting interface instead of the original (see the   <a   href="#src-68882164_Bestpracticesforcustomization-Defaultdata">Default data</a> section).</p>
        </div>
    </div>
</li></ul>    </div>
    <div class="section section-2" id="src-68882164_Bestpracticesforcustomization-Changingtheprojectstructure">
        <h2 class="heading "><span>Changing the project structure</span></h2>
<p   
>Upgrades must be applied to complete Kentico projects that use the standard folder structure (including the solution file, <i class=" ">GlobalAssemblyInfo.cs</i>, the <i class=" ">CMS</i> and <i class=" ">Lib</i> sub-folders). For example, you cannot directly upgrade web site deployments that only consist of the CMS folder.</p>
<p   
>If you wish to run a Kentico project with an incomplete or modified folder structure, you need to use the following development and upgrade process:</p>
<ol class=" "><li class=" "><p   
>Maintain a development version of the project with the original complete folder structure.</p>
</li><li class=" "><p   
>Prepare your modified version of the project and use it to deploy your production website.</p>
</li><li class=" "><p   
>Apply upgrades to the development version of the project. After an upgrade is successfully completed, prepare a new version of the modified project and redeploy your website.</p>
</li></ol>    </div>
    </div>
    <div class="section section-1" id="src-68882164_Bestpracticesforcustomization-UsingjQuery">
        <h1 class="heading "><span>Using jQuery</span></h1>
<p   
>Do NOT use the default <a  class="external-link" href="https://jquery.com/">jQuery</a> provided in Kentico projects for your own client scripts. Newer versions of Kentico may contain a different version of jQuery, so your scripts may not work correctly after upgrading.</p>
<p   
><strong class=" ">Best practice</strong>: Add, link and maintain your own jQuery library within the Kentico project. This gives you full control over the jQuery version and helps protect your custom scripts from breaking when upgrading Kentico.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Note</strong>: The Kentico jQuery is registered in No-Conflict mode under the <strong class=" ">$cmsj</strong> alias.</p>
        </div>
    </div>
    </div>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
