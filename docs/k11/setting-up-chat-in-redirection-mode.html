<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Setting up chat in redirection mode - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260" elementpageid="68881040">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68881040"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Community-features.html">Community features</a></li>
                                                                                                         <li class="shortcut"><a href="Chat.html">Chat</a></li>
                                                                                     <li><a href="Setting-up-chat-on-site.html">Setting up chat on site</a></li>
                                                            </ul>
</div>            <h1 id="src-68881040"> <span>Setting up chat in redirection mode</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="sp-grid-section"><div class="sp-grid-cell sp-grid-60"><p>Many web parts that belong to the Chat application have the Redirect URL property. This attribute defines the URL of the page where the chat user should be redirected when performing the action the web part is intended for. For example, in the Chat room list web part, you would set the Redirect URL to the page that contains the Chat room messages web part.</p><p>Let's presume that you want to set up chat which will comprise the following pages:</p><ul class=" "><li class=" "><p>Logon page</p>
</li><li class=" "><p>Page with list of chat rooms</p>
</li><li class=" "><p>Chat room page with messages</p>
</li></ul><p>The following is a step-by-step tutorial how to set up chat on the pages. The procedure is presented on the sample Community site.</p><p>Please note that unless instructed otherwise, you can leave all the web parts' properties at their defaults.</p><div class="sp-grid-section"></div></div><div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="chat-web-parts">Chat web parts</a></p>
</li></ul>        </div>
    </div></div></div>



    
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Preparation</span></h3>
<ol class=" "><li class=" "><p>Create a new <strong class=" ">blank page</strong> called <i class=" "><strong class=" ">Chat</strong></i>. This will be the starting page, which the users will use to enter the chat.</p>
</li><li class=" "><p>Under the <strong class=" ">Chat</strong> page, create two blank pages called <strong class=" ">Room list</strong>, and <strong class=" ">Room</strong>.</p>
</li><li class=" "><p>On the <strong class=" ">Room list</strong> page, select the <strong class=" ">Properties -&gt; Template</strong> tab, click <strong class=" ">Edit template properties</strong> and select <strong class=" ">All ancestor pages</strong> in the <strong class=" ">Page nesting</strong> section. Then save the template.</p>
</li><li class=" "><p>Repeat the previous step on the <strong class=" ">Room</strong> page.</p>
</li></ol>    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Basic setup</span></h3>
<p>1. On the <strong class=" ">Chat</strong> page, add the<strong class=" "> Chat login</strong> web part. Set its properties as follows:</p>
<ul class=" "><li class=" "><p><strong class=" ">Redirect URL after entering chat</strong>: ~/Chat/Room-list.aspx</p>
</li><li class=" "><p><strong class=" ">Redirect URL after logout</strong>: ~/Chat.aspx</p>
</li></ul><p>This will ensure that users will be redirected to the correct page when logging in and out.</p>
<p>2. Place the <strong class=" ">Chat notifications</strong> web part on the <strong class=" ">Chat</strong> page.</p>
<p>This will allow users to see notifications about invitations to rooms and private conversations, as well as other system messages addressed specifically to the current user.</p>
<p>3. Place the <strong class=" ">Page placeholder</strong> web part on the <strong class=" ">Chat</strong> page.</p>
<p>The web part, along with the template settings defined previously, will cause the Chat login web part to appear on all subpages, allowing users to log out at any time.</p>
<p>4. On the <strong class=" ">Room list</strong> page, add the <strong class=" ">Chat rooms</strong> web part. Set the following property:</p>
<ul class=" "><li class=" "><p><strong class=" ">Redirect URL after join</strong>: ~/Chat/Room.aspx</p>
</li></ul><p>When a user clicks a room in the list, the web part tries to join the user to the room. If that action is successful, the system redirects the user to the specified URL.</p>
<p>5. Place the <strong class=" ">Chat send message</strong> web part on the <strong class=" ">Room</strong> page.</p>
<p>This will allow sending messages to the room and its members.</p>
<p>6. Place the <strong class=" ">Chat room messages</strong> web part on the <strong class=" ">Room</strong> page.</p>
<p>This web part will display messages from other users in the room, as well as system messages and announcements.</p>
<p>7. Place the <strong class=" ">Chat leave room</strong> web part on the <strong class=" ">Room</strong> page. Set the following property:</p>
<ul class=" "><li class=" "><p><strong class=" ">Redirect URL after leaving</strong>: ~/Chat/Room-list.aspx</p>
</li></ul><p>This will provide user a way to exit the room and return to the page with the list of rooms.</p>
    <h4 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Extended setup</span></h4>
<p>After completing the preceding procedure, you will have implemented a functioning multi-page chat with all the basic features. However, this configuration can be extended with additional features. The process is described in the following step-by-step tutorial.</p>
<p>1. Place the <strong class=" ">Chat on-line users</strong> web part on the <strong class=" ">Room list</strong> page.</p>
<p>This will enable users to see the list of users on-line in the chat regardless of the room they are in, if any. They will also be able to start a private conversation with any of the on-line users.</p>
<p>2. Add the <strong class=" ">Chat room name</strong> web part on the <strong class=" ">Room</strong> page.</p>
<p>This web part will display the name of the room the user is in.</p>
<p>3. Place the <strong class=" ">Chat room users</strong> web part on the <strong class=" ">Room</strong> page.</p>
<p>This will allow users in a room to see who else is on-line in the particular chat room and initiate a one-to-one chat session with them.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>