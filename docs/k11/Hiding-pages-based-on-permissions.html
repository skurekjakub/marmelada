<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hiding pages based on permissions - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68880431"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Managing-users.html">Managing users</a></li>
                                                                                                         <li class="shortcut"><a href="Configuring-permissions.html">Configuring permissions</a></li>
                                                                                                         <li class="shortcut"><a href="Configuring-page-permissions.html">Configuring page permissions</a></li>
                                                                                     <li><a href="Page-level-permissions-%28ACLs%29.html">Page-level permissions (ACLs)</a></li>
                                                            </ul>
</div>            <h1 id="src-68880431"> <span>Hiding pages based on permissions</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="section-left"></div><p>Kentico allows you to restrict access to certain content based on the current user. This approach uses <a href="page-level-permissions-%28acls%29">Page-level permissions</a> (ACLs). These restrictions apply on pages in the <strong class=" ">Pages</strong> application<strong class=" ">, </strong>pages listed by web parts, and various dialogs where the content tree is displayed.</p>
    <div class="confbox admonition admonition-note">
                    <p class="title">Content personalization in Kentico EMS</p>
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>This approach checks the current user's permissions for the page that is being displayed. If you want to personalize your site to achieve more advanced scenarios according to completely custom conditions, use <a href="content-personalization">Content personalization</a>.</p>
        </div>
    </div>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Content restrictions summary</strong></p>
<ol class=" "><li class=" "><p>Configure <strong class=" ">Check page permissions </strong>in <strong class=" ">Settings -&gt; Security &amp; Membership</strong>. This makes sure the system performs security checks on the desired section of the content. See <a href="settings---security-%26-membership">Settings - Security &amp; Membership</a>.</p>
</li><li class=" "><p>Enable <strong class=" ">Check page permissions</strong> in <strong class=" ">Settings -&gt; Content -&gt; Content management</strong>, if you want the check to be performed on pages in the content tree of the <strong class=" ">Pages </strong>application as well.</p>
</li><li class=" "><p>To modify access to pages, go to a page's <strong class=" ">Properties -&gt; Security</strong> tab and assign permissions.</p>
</li><li class=" "><p>For listings, grant or deny the Read permission to users and turn on the <strong class=" ">Check permissions</strong> attribute in the appropriate web parts.</p>
</li></ol><p>When the user is not authenticated, the system uses a special user <strong class=" ">Public anonymous User (public)</strong>.</p>
        </div>
    </div>
<p>You can also configure web parts to consider these permissions and list pages based on these permissions.</p>
<p>If a user has the <strong class=" ">Read</strong> permission for a child page but not for its parent, the child page is not displayed either. In case that a user doesn't have the <strong class=" ">Read</strong> permissions for any page at all, a message is displayed in the place of the content tree, informing the user about insufficient permissions to see the root page.</p>
    <div class="section section-1" id="src-68880431_safe-id-SGlkaW5ncGFnZXNiYXNlZG9ucGVybWlzc2lvbnMtRXhhbXBsZTpSZXN0cmljdGluZ3RoZVByb2R1Y3RzbWVudQ">
        <h1 class="heading "><span>Example: Restricting the Products menu</span></h1>
<p>In this example, you will learn how to display the <strong class=" ">Products</strong> section only to members of the <strong class=" ">Customers</strong> and <strong class=" ">Partners</strong> roles. They, you will see how to display the <strong class=" ">Smartphones</strong> category only to members of the <strong class=" ">Partners</strong> role.</p>
<p>Note that this example uses the sample <i class=" ">Corporate site</i> for illustration.</p>
    <div class="section section-2" id="src-68880431_Hidingpagesbasedonpermissions-Creatingsampleobjects">
        <h2 class="heading "><span>Creating sample objects</span></h2>
<p>First, create the objects you will work with in this example:</p>
<ol class=" "><li class=" "><p>Open the<strong class=" "> Roles</strong> application.</p>
</li><li class=" "><p>Select the <i class=" ">Corporate Site</i> from the <strong class=" ">Sites</strong> drop‑down list and create new roles <strong class=" ">Customers </strong>and <strong class=" ">Partners</strong>.</p>
</li><li class=" "><p>Open the <strong class=" ">Users</strong> application and and create a new user <strong class=" ">Customer1</strong> with the following values:</p>
<ul class=" "><li class=" "><p><strong class=" ">User name</strong>: Customer1</p>
</li><li class=" "><p><strong class=" ">Full name</strong>: Testing Customer</p>
</li><li class=" "><p><strong class=" ">Enabled</strong>: yes (checked)</p>
</li><li class=" "><p><strong class=" ">Privilege level</strong>: None<br><br></p>
</li></ul></li><li class=" "><p>Assign the user to the <i class=" ">Corporate Site</i> and to the <strong class=" ">Customers</strong> role.</p>
</li><li class=" "><p>Create another user <strong class=" ">Partner1 </strong>with the following values:</p>
<ul class=" "><li class=" "><p><strong class=" ">User name</strong>: Partner1</p>
</li><li class=" "><p><strong class=" ">Full name</strong>: Testing Partner</p>
</li><li class=" "><p><strong class=" ">Enabled</strong>: yes (checked)</p>
</li><li class=" "><p><strong class=" ">Privilege level</strong>: None<br><br></p>
</li></ul></li><li class=" "><p>Assign the user to the <i class=" ">Corporate Site</i> and to the <strong class=" ">Partners</strong> role.</p>
</li></ol>    </div>
    <div class="section section-2" id="src-68880431_Hidingpagesbasedonpermissions-Assigningpage-levelpermissions">
        <h2 class="heading "><span>Assigning page-level permissions</span></h2>
<p>Assign page-level permissions to the created roles:</p>
<ol class=" "><li class=" "><p>Navigate to <strong class=" ">Settings -&gt; Security &amp; Membership</strong> and set <strong class=" ">Check page permissions</strong> to <i class=" ">All pages</i>.<br></p>
<ul class=" "><li class=" "><p>This ensures that the security settings assigned in the following steps will be checked for all pages on the website.<br><br></p>
</li></ul></li><li class=" "><p>Open the<strong class=" "> Pages </strong>application and select the root of the content tree.</p>
</li><li class=" "><p>Switch to the <strong class=" ">Properties -&gt; Security</strong> tab.</p>
</li><li class=" "><p>Add the <strong class=" ">Public anonymous user (public)</strong> user and <strong class=" ">Customers </strong>and<strong class=" "> Partners</strong> roles to the list.</p>
</li><li class=" "><p>Grant the <strong class=" ">Read</strong> permissions to the user and roles.</p>
<ul class=" "><li class=" "><p>Please note that you must click <strong class=" ">Save</strong> after assigning permissions to each user or role.</p>
</li></ul></li></ol><p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68880431/Document-level_permissions.png" alt="images/download/attachments/68880431/Document-level_permissions.png" width="500">
        <br><span class="caption">Assigning page permissions to selected users and roles</span>
    </p>
    </div>
    <div class="section section-2" id="src-68880431_Hidingpagesbasedonpermissions-Hidingselectedchildpages">
        <h2 class="heading "><span>Hiding selected child pages</span></h2>
<p>Now hide the product categories from public users:</p>
<ol class=" "><li class=" "><p>In the content tree, navigate to <strong class=" ">/Products/Smartphones </strong>and switch to the <strong class=" ">Properties -&gt; Security</strong> tab.<br></p>
<ul class=" "><li class=" "><p>The permissions that you configured for the root of the content tree are inherited by this page.<br><br></p>
</li></ul></li><li class=" "><p>Click the <strong class=" ">Change permission inheritance</strong> link to break the inheritance.</p>
</li><li class=" "><p>In the following dialog, choose <strong class=" ">Break inheritance and copy parent permissions</strong>.</p>
</li><li class=" "><p>Select the <strong class=" ">Public Anonymous User (public)</strong> and deny the <strong class=" ">Read</strong> permission.</p>
</li><li class=" "><p>Repeat the previous steps for the <strong class=" ">Laptops and Tablets</strong> page.</p>
</li><li class=" "><p>Also deny the <strong class=" ">Smartphones </strong>page for the <strong class=" ">Customers</strong> role.</p>
</li></ol>    </div>
    <div class="section section-2" id="src-68880431_Hidingpagesbasedonpermissions-Configuringwebpartstocheckpermissions">
        <h2 class="heading "><span>Configuring web parts to check permissions</span></h2>
<p>The permissions are not checked by web parts by default, so we need to configure the web parts so that they check the <strong class=" ">Read</strong> permission of the current user.</p>
<ol class=" "><li class=" "><p>Choose the root in the content tree and switch to the <strong class=" ">Design</strong> tab.</p>
</li><li class=" "><p>Configure the <strong class=" ">Top list menu</strong> (CSS list menu) web part and select its <strong class=" ">Check permissions</strong> check-box in the <strong class=" ">System settings</strong>. Click <strong class=" ">OK</strong>.</p>
</li><li class=" "><p>Repeat the same for the <strong class=" ">CSS list menu</strong> and <strong class=" ">Featured products</strong> web parts on the <strong class=" ">/Products</strong> page.</p>
</li></ol>    </div>
    <div class="section section-2" id="src-68880431_Hidingpagesbasedonpermissions-Verifyingtheresult">
        <h2 class="heading "><span>Verifying the result</span></h2>
<ol class=" "><li class=" "><p>Sign out. If you mouse-over the <strong class=" ">Products</strong> menu item as a public user, you will see that the sub-categories representing the restricted sections are no longer displayed.<br><br></p>
<img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68880431/Restricted_products_menu.png" alt="images/download/attachments/68880431/Restricted_products_menu.png" width="132" height="126">
        <br><span class="caption">Restricted pages are no longer displayed in menus</span>
    </li><li class=" "><p>Sign in as user <strong class=" ">Customer1</strong> (using the mini‑form at the top right of the page).</p>
</li><li class=" "><p>Navigate to <strong class=" ">Products</strong> via the main menu. As you can see, the <strong class=" ">Smartphones</strong> section and <strong class=" ">Smartphone</strong> products are not displayed to this user.<br><br></p>
<img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68880431/Products_page_Customer1.png" alt="images/download/attachments/68880431/Products_page_Customer1.png" width="500">
        <br><span class="caption">Restricted section and products are not displayed to the user</span>
    <p><br></p>
</li><li class=" "><p>Now sign out and sign in again as user <strong class=" ">Partner1</strong>. You will see all categories and products.<br><br></p>
<img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68880431/Products_page_Partner1.png" alt="images/download/attachments/68880431/Products_page_Partner1.png" width="500" height="306">
        <br><span class="caption">All sections and products are displayed to this user</span>
    </li></ol><p>You have learned how restrict access to content based on user permissions.</p>
    </div>
    </div>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>