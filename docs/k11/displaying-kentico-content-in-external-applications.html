<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Displaying Kentico content in external applications - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260" elementpageid="68882885">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68882885"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Integrating-3rd-party-systems.html">Integrating 3rd party systems</a></li>
                                                                                     <li><a href="Using-the-Kentico-API-externally.html">Using the Kentico API externally</a></li>
                                                            </ul>
</div>            <h1 id="src-68882885"> <span>Displaying Kentico content in external applications</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="sp-grid-section"><div class="sp-grid-cell sp-grid-60"><p>You can utilize the Kentico API and Controls in external web applications to load and display data from the Kentico database.</p><div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Important</strong>: You first need to integrate the Kentico API libraries into your external application and connect to a Kentico database according to the steps described on the <a href="using-the-kentico-api-externally">Using the Kentico API externally</a> page.</p>
<p>To use Kentico controls, ASCX transformations and other API or components related to web forms, you need to install the <strong class=" ">Kentico.Libraries.Web.UI</strong> integration package.</p>
        </div>
    </div><div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong>: The information on this page applies to external <i class=" "><strong class=" ">web form</strong></i> applications. If you wish to display Kentico content in an MVC application, proceed according to the instructions and best practices in the <a href="developing-sites-using-asp.net-mvc">Developing sites using ASP.NET MVC</a> chapter.</p>
        </div>
    </div><h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Enabling ASCX transformations in external applications</span></h3><h4 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Adding the CMSTransformation class</span></h4><p>The <i class=" ">CMSTransformation</i> partial class allows you to write your own methods for use in ASCX <a href="writing-transformations">transformations</a>. The system checks the CMSTransformation class for method definitions when loading transformations â€“ an error may occur if the class is not present in your project.</p><p>If you plan to use ASCX transformations, add the class to your external project:</p><ol class=" "><li class=" "><p>Create a new class file in your project named <strong class=" ">CMSTransformation.cs</strong>.</p>
<ul class=" "><li class=" "><p>In web site projects, add the file into the <i class=" ">App_Code</i> folder.</p>
</li><li class=" "><p>In web application projects, you can create the class in any location.<br><br></p>
</li></ul></li><li class=" "><p>Add the following code into the class:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">namespace</code><code class="plain"> CMS.DocumentEngine.Web.UI</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Base class for transformation methods</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">partial</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> CMSTransformation : CMSAbstractTransformation</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
</li><li class=" "><p>If you wish to use E-commerce or Message board transformation methods, copy the default content of the <strong class=" ">CMSTransformation</strong> partial class from the Kentico project:<br><br></p>
<ul class=" "><li class=" "><p><strong class=" ">~/App_Code/CMSModules/Ecommerce/CMSTransformation.cs</strong></p>
</li><li class=" "><p><strong class=" ">~/App_Code/CMSModules/MessageBoards/CMSTransformation.cs</strong><br><br></p>
</li></ul></li><li class=" "><p>Execute the following code in the <strong class=" ">Application_BeginRequest</strong> method in your application's <a class="external-link" href="http://msdn.microsoft.com/en-us/library/1xaas8a2%28v=vs.71%29.aspx">Global.asax</a> file (create the file if necessary).</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> Application_BeginRequest(</code><code class="keyword">object</code><code class="plain"> sender, EventArgs e) </code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	...</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="keyword">if</code><code class="plain"> (CMS.DataEngine.CMSApplication.Init()) </code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Sets CMSTransformation as the base class for transformation methods</code></div>
<div class="line"><code class="plain">		CMS.PortalEngine.TransformationInfoProvider.TransformationBaseClass = </code><code class="string">"CMS.DocumentEngine.Web.UI.CMSTransformation"</code><code class="plain">;</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
</li></ol><p>You can now use all default methods in ASCX transformations and define custom methods inside the CMSTransformation partial class.</p><h4 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Running without the Virtual path provider</span></h4><p>Kentico uses a virtual path provider to retrieve the code of ASCX <a href="writing-transformations">transformations</a>. If you cannot use the virtual path provider in your environment (e.g. when using precompiled applications), you need to:</p><ol class=" "><li class=" "><p>Save your virtual objects in Kentico to the local disk:</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">System </strong>application in Kentico.<strong class=" "><br></strong></p>
</li><li class=" "><p>Select the<strong class=" "> Virtual objects</strong> tab.</p>
</li><li class=" "><p>Click <strong class=" ">Store all virtual objects in file system</strong>.<br><br></p>
</li></ol></li><li class=" "><p>Copy the <strong class=" ">CMS\CMSVirtualFiles</strong> folder from the Kentico project the to the root of your own project.</p>
</li></ol><p>See <a href="deployment-mode-for-virtual-objects">Deployment mode for virtual objects</a> for more information.</p><p><strong class=" ">Note</strong>: To ensure that your application uses the physical files in the <i class=" ">CMSVirtualFiles</i> folder, deployment mode must remain <i class=" "><strong class=" ">On</strong></i> for the connected Kentico application.</p><p></p><div class="sp-grid-section"></div></div><div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882885_displayingkenticocontentinexternalapplications-enablingascxtransformationsinexternalapplications">Enabling ASCX transformations in external applications</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882885_displayingkenticocontentinexternalapplications-addingthecmstransformationclass">Adding the CMSTransformation class</a></p>
</li><li class=" "><p><a href="#src-68882885_displayingkenticocontentinexternalapplications-runningwithoutthevirtualpathprovider">Running without the Virtual path provider</a></p>
</li></ul></li><li class=" "><p><a href="#src-68882885_displayingkenticocontentinexternalapplications-registeringfilehandlingroutes">Registering file handling routes</a></p>
</li><li class=" "><p><a href="#src-68882885_displayingkenticocontentinexternalapplications-example-displayingcontentfromkentico">Example - Displaying content from Kentico</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882885_displayingkenticocontentinexternalapplications-usingthekenticoapi">Using the Kentico API</a></p>
</li><li class=" "><p><a href="#src-68882885_displayingkenticocontentinexternalapplications-usingkenticocontrols">Using Kentico controls</a></p>
</li></ul></li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="using-the-kentico-api-externally">Using the Kentico API externally</a></p>
</li><li class=" "><p><a href="loading-and-displaying-data-on-websites">Loading and displaying data on websites</a></p>
</li><li class=" "><p><a href="kentico-controls">Kentico controls</a></p>
</li></ul>        </div>
    </div></div></div>
    
    
    
    



    




    
    
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Registering file handling routes</span></h3>
<p>Kentico provides several handlers for retrieving images and other types of files (for example the <i class=" ">getattachment</i> handler for loading page attachments). If you wish to use these handlers in your external web application, you need to register the required routes.</p>
<ol class=" "><li class=" "><p>Edit your application's <a class="external-link" href="http://msdn.microsoft.com/en-us/library/1xaas8a2%28v=vs.71%29.aspx">Global.asax</a> file.</p>
</li><li class=" "><p>Execute the <strong class=" ">CMSApplication.PreInit</strong> method in the <strong class=" ">Application_Start </strong>method:</p>
</li><li class=" "><p>Add the routes from <strong class=" ">CMS.Routing.Web.HttpHandlerRouteTable</strong> into your application's <i class=" ">RouteTable.</i></p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">void</code><code class="plain"> Application_Start(</code><code class="keyword">object</code><code class="plain"> sender, EventArgs e)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Runs the preinitialization of the Kentico API required for the route registration</code></div>
<div class="line"><code class="plain">	CMS.DataEngine.CMSApplication.PreInit();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	RouteConfig.RegisterRoutes(System.Web.Routing.RouteTable.Routes);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">using</code><code class="plain"> System.Web.Routing;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.Routing.Web;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> RouteConfig</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> RegisterRoutes(RouteCollection routes)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">using</code><code class="plain"> (routes.GetWriteLock())</code></div>
<div class="line"><code class="plain">		{</code></div>
<div class="line"><code class="plain">			</code><code class="comments">// Registers the Kentico handler routes</code></div>
<div class="line"><code class="plain">			</code><code class="keyword">foreach</code><code class="plain"> (</code><code class="keyword">var</code><code class="plain"> route </code><code class="keyword">in</code><code class="plain"> HttpHandlerRouteTable.Default.GetRoutes())</code></div>
<div class="line"><code class="plain">			{</code></div>
<div class="line"><code class="plain">				routes.Add(route);</code></div>
<div class="line"><code class="plain">			}</code></div>
<div class="line"><code class="plain">		}</code></div>
<div class="line"><code class="plain">	</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Add the Kentico routes BEFORE any other routes to ensure that they work correctly</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
</li></ol>    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Example - Displaying content from Kentico</span></h3>
    <h4 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Using the Kentico API</span></h4>
<p>The following example shows how to retrieve page content from the Kentico database and display it using a standard ASP.NET Repeater control.</p>
<ol class=" "><li class=" "><p>Create a new page (web form) in your external web project using Visual Studio.</p>
</li><li class=" "><p>Add the standard ASP.NET <strong class=" ">Repeater</strong> control onto the page.</p>
</li><li class=" "><p>Insert the following item template markup into the <i class=" ">&lt;asp:Repeater&gt;</i> control element:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;asp:Repeater ID=</code><code class="string">"Repeater1"</code><code class="plain"> runat=</code><code class="string">"server"</code><code class="plain">&gt;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">    &lt;ItemTemplate&gt;</code></div>
<div class="line"><code class="plain">        &lt;strong&gt;</code></div>
<div class="line"><code class="plain">        &lt;%# Eval(</code><code class="string">"NewsTitle"</code><code class="plain">) %&gt;</code></div>
<div class="line"><code class="plain">        &lt;/strong&gt;</code></div>
<div class="line"><code class="plain">        (&lt;%# ((DateTime) Eval(</code><code class="string">"NewsReleaseDate"</code><code class="plain">)).ToString(</code><code class="string">"d"</code><code class="plain">) %&gt;)</code></div>
<div class="line"><code class="plain">        &lt;br /&gt;</code></div>
<div class="line"><code class="plain">        &lt;i&gt;&lt;%# Eval(</code><code class="string">"NewsSummary"</code><code class="plain">) %&gt;&lt;/i&gt;</code></div>
<div class="line"><code class="plain">        &lt;br /&gt;</code></div>
<div class="line"><code class="plain">    &lt;/ItemTemplate&gt;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">&lt;/asp:Repeater&gt;</code></div>
</div>
    </div>
</li><li class=" "><p>Switch to the page's code behind and add the following using statements to the beginning of the code:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">using</code><code class="plain"> System;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> System.Data;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.DocumentEngine;</code></div>
</div>
    </div>
</li><li class=" "><p>Add the following code into the page's <strong class=" ">Page_Load</strong> method:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">protected</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> Page_Load(</code><code class="keyword">object</code><code class="plain"> sender, EventArgs e)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Creates a data set containing all released news pages from the Corporate Site</code></div>
<div class="line"><code class="plain">	TreeProvider tree = </code><code class="keyword">new</code><code class="plain"> TreeProvider();</code></div>
<div class="line"><code class="plain">	DataSet ds = tree.SelectNodes(</code><code class="string">"cms.news"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">							.Path(</code><code class="string">"/news"</code><code class="plain">, PathTypeEnum.Children)</code></div>
<div class="line"><code class="plain">							.OnSite(</code><code class="string">"CorporateSite"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">							.OrderBy(</code><code class="string">"NewsReleaseDate DESC"</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Binds the news data to the Repeater control</code></div>
<div class="line"><code class="plain">	Repeater1.DataSource = ds;</code></div>
<div class="line"><code class="plain">	Repeater1.DataBind();</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong></p>
<p>When performing other types of page operations (editing, deleting etc.), you need to initialize the tree provider within the context of a specific user:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.Membership;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">...</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Gets an Info object representing the administrator user</code></div>
<div class="line"><code class="plain">UserInfo user = UserInfoProvider.GetUserInfo(</code><code class="string">"administrator"</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Creates a tree provider instance using administrator context</code></div>
<div class="line"><code class="plain">TreeProvider tree = </code><code class="keyword">new</code><code class="plain"> TreeProvider(user);</code></div>
</div>
    </div>
        </div>
    </div>
</li></ol><p>If you run the website and open the new page, the Repeater control displays a list of news article summaries.</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68882885/News_ASPRepeater.png" alt="images/download/attachments/68882885/News_ASPRepeater.png" width="500" height="128">
        <br><span class="caption">ASP.NET Repeater control displaying news data loaded by the Kentico API</span>
    </p>
    <h4 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Using Kentico controls</span></h4>
<p>The following example demonstrates how to display the content of Kentico pages using the built-in <a href="cmsrepeater">CMSRepeater</a> control.</p>
<p><strong class=" ">Note</strong>: For quick access to Kentico controls, <a href="adding-kentico-controls-to-the-visual-studio-toolbox">add the controls to your Visual Studio Toolbox</a>.</p>
<ol class=" "><li class=" "><p>Create a new page (web form) in your application's project using Visual Studio.</p>
</li><li class=" "><p>Add the <strong class=" ">CMSRepeater</strong> control onto the page.</p>
<ul class=" "><li class=" "><p>You can either drag the control from the toolbox or manually register the <i class=" ">CMS.DocumentEngine.Web.UI</i> assembly on the page and then use the Visual Studio IntelliSense.<br><br></p>
</li></ul></li><li class=" "><p>Set the following properties for the <i class=" ">CMSRepeater</i> control:</p>
<ul class=" "><li class=" "><p><strong class=" ">Path: </strong>path where you want to load the data from</p>
</li><li class=" "><p><strong class=" ">ClassNames</strong>: page code name</p>
</li><li class=" "><p><strong class=" ">SiteName</strong>: your site code name</p>
</li><li class=" "><p><strong class=" ">TransformationName</strong>: transformation code name</p>
</li><li class=" "><p><strong class=" ">SelectedItemTransformationName</strong>: transformation code name<br>You can generate default transformation when creating a <a href="writing-transformations">new transformation</a> on the <strong class=" ">Transformations</strong> tab of the page type. The default transformation contains the evaluation of the fields the page type contains. You can add your markup around the content.<br></p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;%@ Register Assembly=</code><code class="string">"CMS.DocumentEngine.Web.UI"</code><code class="plain"> Namespace=</code><code class="string">"CMS.DocumentEngine.Web.UI"</code><code class="plain"> TagPrefix=</code><code class="string">"cms"</code><code class="plain"> %&gt;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">...</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">&lt;cms:CMSRepeater ID=</code><code class="string">"CMSRepeater1"</code><code class="plain"> runat=</code><code class="string">"server"</code><code class="plain"> Path=</code><code class="string">"/Articles/%"</code><code class="plain"> ClassNames=</code><code class="string">"dancinggoat.article"</code><code class="plain"> SiteName=</code><code class="string">"DancingGoat"</code><code class="plain"> TransformationName=</code><code class="string">"dancinggoat.article.preview"</code><code class="plain"> SelectedItemTransformationName=</code><code class="string">"dancinggoat.article.detail"</code><code class="plain"> /&gt;</code></div>
</div>
    </div>
<p></p>
</li></ul></li><li class=" "><p>Save the web form.</p>
</li><li class=" "><p>Right-click the web form in the Solution explorer and select <strong class=" ">View in Browser</strong>.</p>
</li></ol><p>The page will display the data that you loaded in the <i class=" ">CMSRepeater</i> control.</p>
    <h5 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Handling page links in external applications</span></h5>
<p>The <a href="configuring-page-urls">default URLs</a> of Kentico pages are based on the structure of the content tree and the settings of individual pages. These URLs will not work correctly outside of the Kentico application.</p>
<p>The following steps extend the previous example so that links in transformations used in the repeater control work in external applications.</p>
<ol class=" "><li class=" "><p>Log in to the Kentico administration interface and open the <strong class=" ">Page types</strong> application.</p>
</li><li class=" "><p>Edit (<img class="confluence-embedded-image" src="images/download/attachments/68879208/edit.png" alt="images/download/attachments/68879208/edit.png">
) the page type that contains the transformation that you specified in the <i class=" ">TransformationName</i> property of the repeater.</p>
</li><li class=" "><p>Select the <strong class=" ">Transformations</strong> tab and edit the transformation.</p>
</li><li class=" "><p>Place a link in the transformation code that defines the link URL:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;a href=</code><code class="string">"?aliasPath=&lt;%# Eval("</code><code class="plain">NodeAliasPath</code><code class="string">") %&gt;"</code><code class="plain">&gt;</code></div>
</div>
    </div>
</li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li></ol><p>You could also use the <i class=" ">GetDocumentUrl()</i> transformation method generates page URLs in the default Kentico format. The link URL that you created leads to the same page containing the listing control, but with an <strong class=" ">aliasPath</strong> parameter in the query string of the URL. The parameter contains the alias path of the corresponding page.</p>
<p>Kentico listing controls automatically process the <i class=" ">aliasPath</i> URL parameter and insert its value into the <strong class=" ">Path</strong> property. In this case, the link URLs ensure that the CMSRepeater control only loads one specific page. When the source data only contains one page, the control uses the transformation specified by the <strong class=" ">SelectedItemTransformationName</strong> property to display the details of the given page.</p>
<p><strong class=" ">Note</strong>: Controls cache transformations, so you need to restart your application to apply the changes.</p>
    <h5 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Implementing custom page selection for listing controls</span></h5>
<p>You can alternatively use your own custom logic to dynamically set the path of listing controls according to the URL or other variables.</p>
<p>For example, the following steps demonstrate how to ensure page selection based on a custom URL parameter:</p>
<ol class=" "><li class=" "><p>Edit the transformation that you specified in the <i class=" ">TransformationName</i> property of the repeater again and change the name of the URL parameter in the link code to <i class=" ">customParameter</i>.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;a href=</code><code class="string">"?customParameter=&lt;%# Eval("</code><code class="plain">NodeAliasPath</code><code class="string">") %&gt;"</code><code class="plain">&gt;</code></div>
</div>
    </div>
</li><li class=" "><p>Open the markup of the page in Visual Studio and set the <strong class=" ">DataBindByDefault</strong> property of the CMSRepeater control to <i class=" ">false</i>.</p>
</li><li class=" "><p>In the page's code behind, add the following code into the <strong class=" ">Page_Load</strong> method:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">protected</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> Page_Load(</code><code class="keyword">object</code><code class="plain"> sender, EventArgs e)</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Checks whether the URL contains the 'customParameter' query string parameter</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">if</code><code class="plain"> (Request.QueryString[</code><code class="string">"customParameter"</code><code class="plain">] != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Limits the path of the CMSRepeater to the page specified by the URL parameter</code></div>
<div class="line"><code class="plain">		CMSRepeater1.Path = Request.QueryString[</code><code class="string">"customParameter"</code><code class="plain">];</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Sets a "detail view" transformation</code></div>
<div class="line"><code class="plain">		CMSRepeater1.TransformationName = </code><code class="string">"dancinggoat.article.detail"</code><code class="plain">;</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">else</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="comments">// Loads pages from the entire website if the URL doesn't contain the 'customParameter' parameter</code></div>
<div class="line"><code class="plain">		CMSRepeater1.Path = </code><code class="string">"/%"</code><code class="plain">;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Sets a "list view" transformation</code></div>
<div class="line"><code class="plain">		CMSRepeater1.TransformationName = </code><code class="string">"dancinggoat.article.preview"</code><code class="plain">;</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Loads and binds the data of the CMSRepeater control (with regard to the dynamically set Path)</code></div>
<div class="line"><code class="plain">	CMSRepeater1.ReloadData(</code><code class="keyword">true</code><code class="plain">);</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <div class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Setting control properties dynamically</strong></p>
<p>By default, Kentico listing controls load content during the <i class=" ">Init</i> stage of the <a class="external-link" href="http://msdn.microsoft.com/en-us/library/ms178472%28v=vs.100%29.aspx">control life cycle</a>. If you need to programmatically assign control properties that affect the content, use one of the following approaches:</p>
<ol class=" "><li class=" "><p>Set the <strong class=" ">DelayedLoading</strong> property to <i class=" ">true</i> in the control's markup.</p>
<ul class=" "><li class=" "><p>This moves the automatic data binding to the control's <i class=" ">Load</i> event.</p>
</li></ul></li><li class=" "><p>Assign the required properties during the page's <i class=" ">Load</i> event (in the <strong class=" ">Page_Load</strong> handler) or sooner.</p>
</li></ol><p>OR</p>
<ol class=" "><li class=" "><p>Set the <strong class=" ">DataBindByDefault</strong> property to <i class=" ">false</i> in the control's markup.</p>
<ul class=" "><li class=" "><p>This completely disables automatic data binding for the control.</p>
</li></ul></li><li class=" "><p>Assign the required properties at any appropriate point in the page life cycle.</p>
</li><li class=" "><p>Explicitly call the control's <strong class=" ">ReloadData(true)</strong> method.</p>
</li></ol><p>The control then loads the content based on the dynamically assigned properties.</p>
        </div>
    </div>
</li></ol><p>The page now uses the <i class=" ">customParameter</i> query string parameter to select specific pages. The custom parameter works the same way as the default <i class=" ">aliasPath</i> parameter.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>