<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Customizing Azure Search - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=76022192"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Configuring-Kentico.html">Configuring Kentico</a></li>
                                                                                                         <li class="shortcut"><a href="Setting-up-search-on-your-website.html">Setting up search on your website</a></li>
                                                                                     <li><a href="Using-Azure-Search.html">Using Azure Search</a></li>
                                                            </ul>
</div>            <h1 id="src-76022192"> <span>Customizing Azure Search</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<p   
>Kentico provides a customization model that allows developers to extend or adjust how the system builds and maintains   <a   href="Using-Azure-Search">Azure Search</a> indexes. Customization provides a way to set up Azure Search features that require advanced configuration, as well as adapt to changes in the Azure Search functionality and leverage new features.</p>
<p   
>For example, you can achieve the following scenarios by customizing the Azure Search:</p>
<ul class=" "><li class=" "><p   
>  <a   href="Adding-scoring-profiles-to-Azure-Search-indexes">Add scoring profiles for indexes</a></p>
</li><li class=" "><p   
>  <a   href="Implementing-suggestions-for-Azure-Search">Add suggesters for indexes</a></p>
</li><li class=" "><p   
>  <a   href="Setting-analyzers-for-Azure-Search">Set language analyzers for index fields</a></p>
</li><li class=" "><p   
>  <a   href="Registering-custom-data-types-for-Azure-Search">Register custom data types for Azure Search</a></p>
</li><li class=" "><p   
>  <a   href="#src-76022192_CustomizingAzureSearch-ConfiguringtheAzureSearchretrypolicyandbatchsize">Configure the retry policy and batch size used by indexing operations</a></p>
</li></ul><p   
>To perform Azure Search customizations, you need to run code during the initialization of the application. Add the required code by creating a custom module class:</p>
<ol class=" "><li class=" "><p   
>Open your Kentico solution in Visual Studio.</p>
</li><li class=" "><p   
>Create a new <i class=" ">Class Library</i> project in the Kentico solution (or reuse an existing custom project).</p>
</li><li class=" "><p   
>Add references to the required Kentico libraries (DLLs) for the new project:<br/></p>
<ol class=" "><li class=" "><p   
>Right-click the project and select <strong class=" ">Add -&gt; Reference</strong>.</p>
</li><li class=" "><p   
>Switch to the <strong class=" ">Browse</strong> tab, click <strong class=" ">Browse</strong>, and navigate to the <i class=" "><strong class=" ">Lib</strong> </i>folder of your Kentico web project.</p>
</li><li class=" "><p   
>Add references to the following libraries (and any others required for your code):</p>
<ul class=" "><li class=" "><p   
><strong class=" ">CMS.Base.dll</strong></p>
</li><li class=" "><p   
><strong class=" ">CMS.Core.dll</strong></p>
</li><li class=" "><p   
><strong class=" ">CMS.DataEngine.dll</strong></p>
</li><li class=" "><p   
><strong class=" ">CMS.Search.Azure.dll</strong></p>
</li></ul></li></ol></li><li class=" "><p   
>Reference the custom project from the Kentico web project <i class=" ">(CMSApp</i> or <i class=" ">CMS)</i>.</p>
</li><li class=" "><p   
>Edit the project&#39;s <strong class=" ">AssemblyInfo.cs</strong> file (in the <i class=" ">Properties</i> folder).</p>
</li><li class=" "><p   
>Add the <strong class=" ">AssemblyDiscoverable</strong> assembly attribute:<br/></p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">using</code><code class="plain"> CMS;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">[assembly:AssemblyDiscoverable]</code></div>
</div>
    </div>
</li><li class=" "><p   
>Create the   <a   href="Initializing-modules-to-run-custom-code">custom module class</a> under your project.</p>
</li></ol>    <div  class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
>  <a   href="#src-76022192_CustomizingAzureSearch-ConfiguringtheAzureSearchretrypolicyandbatchsize">Configuring the Azure Search retry policy and batch size</a></p>
</li><li class=" "><p   
>  <a   href="#src-76022192_CustomizingAzureSearch-Reference-AzureSearchevents">Reference - Azure Search events</a></p>
</li></ul><p   
></p>
        </div>
    </div>
    <div  class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p   
>  <a   href="Creating-Azure-Search-indexes">Creating Azure Search indexes</a></p>
</li><li class=" "><p   
>  <a   href="Integrating-Azure-Search-into-pages">Integrating Azure Search into pages</a></p>
</li></ul>        </div>
    </div>
<p   
>You can now add Azure Search customizations by overriding the module&#39;s <strong class=" ">OnInit</strong> method. For most typical scenarios, you need to assign handler methods for   <a   href="#src-76022192_CustomizingAzureSearch-Reference-AzureSearchevents">Azure Search indexing events</a>.</p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Azure Search SDK requirement<br/></strong></p>
<p   
>Most types of customizations additionally require usage of the <a  class="external-link" href="https://docs.microsoft.com/en-us/azure/search/search-howto-dotnet-sdk">Azure Search .NET SDK</a>, which you can integrate by installing the <strong class=" ">Microsoft.Azure.Search </strong><a  class="external-link" href="https://www.nuget.org/packages/Microsoft.Azure.Search">NuGet package</a> into your custom project.</p>
        </div>
    </div>
    <h3 id="src-76022192_CustomizingAzureSearch-ConfiguringtheAzureSearchretrypolicyandbatchsize" class="heading "><span>Configuring the Azure Search retry policy and batch size</span></h3>
<p   
>In addition to custom handling of   <a   href="#src-76022192_CustomizingAzureSearch-Reference-AzureSearchevents">Azure Search indexing events</a>, the Kentico API allows developers to configure the retry policy and batch size that the system uses when performing Azure Search indexing operations.</p>
<p   
>Get an <strong class=" ">instance</strong> of the <strong class=" ">SearchEngineConfiguration</strong> class within the initialization code of your custom module class and set its properties (see the sections below).</p>
    <h4 id="src-76022192_CustomizingAzureSearch-Retrypolicy" class="heading "><span>Retry policy</span></h4>
<p   
>Because Azure Search indexes are cloud-based and hosted outside of the Kentico application, requests that interact with indexes may fail due to network errors, service unavailability, etc. To deal with such issues, the system sends all indexing requests using a retry policy with exponential backoff. Requests that fail are automatically repeated several times with exponentially growing time intervals.</p>
<p   
>If necessary, you can adjust the parameters of the retry policy by setting the following properties of the <strong class=" ">SearchEngineConfiguration</strong> class:</p>
<ul class=" "><li class=" "><p   
><strong class=" ">RetryCount</strong> &ndash; sets the maximum number of retry attempts that the system performs after an indexing operation fails. Setting the value to 0 disables the retry functionality (not recommended). The default value is 5.</p>
</li><li class=" "><p   
><strong class=" ">MaxBackoffTimeSeconds</strong> &ndash; sets the ceiling for the time interval between retry attempts (in seconds). The default value is 8.</p>
</li></ul><p   
>For example, if you set <strong class=" ">RetryCount</strong> to 7 and <strong class=" ">MaxBackoffTimeSeconds</strong> to 16, the system retries failed indexing operations up to 7 times, with the following intervals between the attempts (in seconds): 0, 1, 2, 4, 8, 16, 16</p>
    <h4 id="src-76022192_CustomizingAzureSearch-Batchsize" class="heading "><span>Batch size</span></h4>
<p   
>The <strong class=" ">DocumentsBatchSize</strong> property of the <strong class=" ">SearchEngineConfiguration</strong> class sets the maximum number of <a  class="external-link" href="https://docs.microsoft.com/en-us/azure/search/search-what-is-an-index">search documents</a> processed by a single request to the Azure Search service. For example, when building a new index that covers 2500 pages in Kentico with a maximum batch size of 1000, the system first creates the Azure Search index with 1000 documents, and then updates the index twice by adding 1000 and 500 documents.</p>
<p   
>The default document batch size value is <strong class=" ">1000.</strong> When setting a custom value, you need to respect the <a  class="external-link" href="https://docs.microsoft.com/en-us/azure/search/search-limits-quotas-capacity">API Request limits of the Azure Search service</a>. For example, you may need to decrease the batch size if the total request size exceeds the maximum limit of 16 MB (when indexing a large number of objects with long text values).</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Azure Search document batch size vs. Index batch size</strong></p>
<p   
>The maximum number of search documents processed per request is also limited by the <strong class=" ">Batch size</strong> setting of individual search indexes, which can be configured in the Kentico administration interface. The index batch size sets the maximum number of records that the system retrieves per query when loading data from the Kentico database, which effectively also limits the document batch size of Azure Search requests. By default, the index batch size is <strong class=" ">500</strong>.</p>
<p   
>The <strong class=" ">SearchEngineConfiguration.DocumentsBatchSize</strong> property only has an effect for indexes whose batch size setting is greater than the property&#39;s value.</p>
        </div>
    </div>
    <h4 id="src-76022192_CustomizingAzureSearch-Example" class="heading "><span>Example</span></h4>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">using</code><code class="plain"> CMS;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.DataEngine;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.Search.Azure;</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">// Registers the custom module into the system</code></div>
<div class="line"><code class="plain">[assembly: RegisterModule(</code><code class="keyword">typeof</code><code class="plain">(CustomAzureSearchModule))]</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> CustomAzureSearchModule : Module</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    </code><code class="comments">// Module class constructor, the system registers the module under the name "CustomAzureSearch"</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> CustomAzureSearchModule()</code></div>
<div class="line"><code class="plain">        : </code><code class="keyword">base</code><code class="plain">(</code><code class="string">"CustomAzureSearch"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">// Contains initialization code that is executed when the application starts</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">protected</code><code class="plain"> </code><code class="keyword">override</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> OnInit()</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">base</code><code class="plain">.OnInit();</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">        </code><code class="keyword">var</code><code class="plain"> azureSearchConfiguration = SearchEngineConfiguration.Instance;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">        </code><code class="comments">// Customizes the Azure Search retry policy</code></div>
<div class="line"><code class="plain">        azureSearchConfiguration.RetryCount = 7;</code></div>
<div class="line"><code class="plain">        azureSearchConfiguration.MaxBackoffTimeSeconds = 16;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">        </code><code class="comments">// Sets the maximum number of search documents processed by each request to the Azure Search service</code></div>
<div class="line"><code class="plain">        azureSearchConfiguration.DocumentsBatchSize = 500;</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <h3 id="src-76022192_CustomizingAzureSearch-Reference-AzureSearchevents" class="heading "><span>Reference - Azure Search events</span></h3>
<p   
>This section provides an overview of system events that developers can handle to customize how the system builds and maintains Azure Search indexes.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>For general information about Azure Search indexes and their structure, refer to the <a  class="external-link" href="https://docs.microsoft.com/en-us/azure/search/search-what-is-an-index">Create an Azure Search index</a> article.</p>
        </div>
    </div>
    <h4 id="src-76022192_CustomizingAzureSearch-Indexes" class="heading "><span>Indexes</span></h4>
<p   
>Class: <strong class=" ">SearchServiceManager</strong></p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Event</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Event types</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CreatingOrUpdatingIndex<br/>    <span style="color: #ffffff;">
_____________________    </span>
</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Execute<br/>    <span style="color: #ffffff;">
___________    </span>
</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Occurs when the system sends requests to create or update the definition of an index within an Azure Search service, for example when rebuilding Azure Search indexes in Kentico.</p>
<p   
>The event is NOT triggered when adding, updating or removing documents within an existing index, unless an update of the index&#39;s definition is required (e.g. when adding a document with new fields for the first time).</p>
<p   
>Depending on the number of indexed pages or objects and the used batch size, the event may occur multiple times when building a single search index &ndash; separately for each batch of processed search documents that include a new field not yet contained by the index. When implementing handlers for the event, always consider cases where the related index already exists and does not yet contain all possible fields.</p>
<p   
>Examples of use:</p>
<ul class=" "><li class=" "><p   
>  <a   href="Adding-scoring-profiles-to-Azure-Search-indexes">Adding a scoring profile for an index</a></p>
</li><li class=" "><p   
>  <a   href="Implementing-suggestions-for-Azure-Search">Adding a suggester for an index</a></p>
</li></ul><p   
>Handler parameters: <strong class=" ">CreateOrUpdateIndexEventArgs</strong></p>
<ul class=" "><li class=" "><p   
><strong class=" ">Index</strong> (Microsoft.Azure.Search.Models.Index) &ndash; Azure Search .NET SDK object representing the related index.</p>
</li><li class=" "><p   
><strong class=" ">SearchService</strong> (CMS.Search.Azure.SearchService) &ndash; provides information about the Azure Search service specified for the index.</p>
</li></ul>            </td>
        </tr>
</tbody>        </table>
            </div>
    <h4 id="src-76022192_CustomizingAzureSearch-Documents" class="heading "><span>Documents</span></h4>
<p   
>Class: <strong class=" ">DocumentCreator</strong> (access an <strong class=" ">Instance</strong> of the class to assign event handlers)</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Event</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Event types</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CreatingDocument</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Before<br/>After<br/>Failure</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Occurs when the system creates individual documents within an Azure Search index. Triggered separately for every indexed object.</p>
<p   
>Use the <strong class=" ">Before</strong> event if you wish to modify the processed source data for the given document (<i class=" ">SearchDocument</i> property of the handler&#39;s <i class=" ">CreateDocumentEventArgs</i> parameter). Use the <strong class=" ">After</strong> event to adjust the properties of the resulting <i class=" ">Document</i> object (<i class=" ">Document</i> property of the handler&#39;s <i class=" ">CreateDocumentEventArgs</i> parameter).</p>
<p   
>Handler parameters: <strong class=" ">CreateDocumentEventArgs</strong></p>
<ul class=" "><li class=" "><p   
><strong class=" ">Document</strong> (Microsoft.Azure.Search.Models.Document) &ndash; Azure Search .NET SDK object representing the related document.</p>
</li><li class=" "><p   
><strong class=" ">SearchDocument</strong> (CMS.DataEngine.SearchDocument) &ndash; object holding the fields and values of the indexed data for the given object.</p>
</li><li class=" "><p   
><strong class=" ">Searchable</strong> (CMS.DataEngine.ISearchable) &ndash; the Kentico object whose data is being indexed. Can be converted to a specific   <a   href="Database-table-API">Info object</a>.</p>
</li><li class=" "><p   
><strong class=" ">SearchIndex</strong> (CMS.DataEngine.ISearchIndexInfo) &ndash; object representing the related search index in Kentico.</p>
</li></ul>            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>AddingDocumentValue<br/>    <span style="color: #ffffff;">
    <span style="color: #ffffff;">
_____________________    </span>
<br/>    </span>
</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Execute<br/>    <span style="color: #ffffff;">
___________    </span>
</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Occurs when the system sets the values of individual fields for documents within an Azure Search index. Triggered separately for each field of every indexed object.</p>
<p   
>You can use the event to modify the <strong class=" ">AzureName</strong> and <strong class=" ">Value</strong> properties of the handler&#39;s <i class=" ">AddDocumentValueEventArgs</i> parameter before the value is converted to an   <a   href="Registering-custom-data-types-for-Azure-Search">Azure Search data type</a> and saved to the document.</p>
<p   
>Handler parameters: <strong class=" ">AddDocumentValueEventArgs</strong></p>
<ul class=" "><li class=" "><p   
><strong class=" ">AzureName</strong> (string) &ndash; name of the resulting field in the Azure Search document (Microsoft.Azure.Search.Models.Document).</p>
</li><li class=" "><p   
><strong class=" ">Document</strong> (Microsoft.Azure.Search.Models.Document) &ndash; Azure Search .NET SDK object representing the related document.</p>
</li><li class=" "><p   
><strong class=" ">Name</strong> (string) &ndash; the name of the source field in the <i class=" ">SearchDocument</i> data.</p>
</li><li class=" "><p   
><strong class=" ">SearchDocument</strong> (CMS.DataEngine.SearchDocument) &ndash; object holding the fields and values of the indexed data for the given object.</p>
</li><li class=" "><p   
><strong class=" ">Searchable</strong> (CMS.DataEngine.ISearchable) &ndash; the Kentico object whose data is being indexed. Can be converted to a specific   <a   href="Database-table-API">Info object</a>.</p>
</li><li class=" "><p   
><strong class=" ">SearchIndex</strong> (CMS.DataEngine.ISearchIndexInfo) &ndash; object representing the related search index in Kentico.</p>
</li><li class=" "><p   
><strong class=" ">Value</strong> (object) &ndash; the value assigned to the resulting field in the Azure Search document.</p>
</li></ul>            </td>
        </tr>
</tbody>        </table>
            </div>
    <h4 id="src-76022192_CustomizingAzureSearch-Fields" class="heading "><span>Fields</span></h4>
<p   
>Class: <strong class=" ">DocumentFieldCreator</strong> (access an <strong class=" ">Instance</strong> of the class to assign event handlers)</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Event</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Event types</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CreatingField</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Before<br/>After<br/>Failure</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Occurs when the system creates individual fields for a document within an Azure Search index. Triggered separately for each field of every indexed object.</p>
<p   
>Use the <strong class=" ">Before</strong> event if you wish to manually initialize the <i class=" ">Field</i> object (Microsoft.Azure.Search.Models.Field). Use the <strong class=" ">After</strong> event to adjust the properties of the resulting <i class=" ">Field</i> object (<i class=" ">Field</i> property of the handler&#39;s <i class=" ">CreateFieldEventArgs</i> parameter).</p>
<p   
>Example of use:   <a   href="Setting-analyzers-for-Azure-Search">Setting language analyzers for index fields</a></p>
<p   
>Handler parameters: <strong class=" ">CreateFieldEventArgs</strong></p>
<ul class=" "><li class=" "><p   
><strong class=" ">Field</strong> (Microsoft.Azure.Search.Models.Field) &ndash; Azure Search .NET SDK object representing the related field.</p>
</li><li class=" "><p   
><strong class=" ">SearchField</strong> (CMS.DataEngine.ISearchField) &ndash; object representing the search settings of the field in Kentico.</p>
</li><li class=" "><p   
><strong class=" ">Searchable</strong> (CMS.DataEngine.ISearchable) &ndash; the Kentico object whose data is being indexed. Can be converted to a specific   <a   href="Database-table-API">Info object</a>.</p>
</li><li class=" "><p   
><strong class=" ">SearchIndex</strong> (CMS.DataEngine.ISearchIndexInfo) &ndash; object representing the related search index in Kentico.</p>
</li></ul>            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>CreatingFields<br/>    <span style="color: #ffffff;">
    <span style="color: #ffffff;">
_____________________    </span>
<br/>    </span>
</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Before<br/>After<br/>Failure<br/>    <span style="color: #ffffff;">
___________    </span>
</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Occurs when the system creates the set of fields for a document within an Azure Search index. Triggered separately for every indexed object.</p>
<p   
>Use the <strong class=" ">Before</strong> event if you wish to modify or extend the collection of processed source fields (<i class=" ">SearchFields</i> property of the handler&#39;s <i class=" ">CreateFieldsEventArgs</i> parameter). Use the <strong class=" ">After</strong> event to modify the resulting list of Azure Search fields (<i class=" ">Fields</i> property of the handler&#39;s <i class=" ">CreateFieldsEventArgs</i> parameter).</p>
<p   
>Handler parameters: <strong class=" ">CreateFieldsEventArgs</strong></p>
<ul class=" "><li class=" "><p   
><strong class=" ">Fields</strong> (List&lt;Microsoft.Azure.Search.Models.Field&gt;) &ndash; list of Azure Search .NET SDK objects representing the related fields.</p>
</li><li class=" "><p   
><strong class=" ">SearchFields</strong> (IEnumerage&lt;CMS.DataEngine.ISearchField&gt;) &ndash; collection of objects representing the search settings of the given fields in Kentico.</p>
</li><li class=" "><p   
><strong class=" ">Searchable</strong> (CMS.DataEngine.ISearchable) &ndash; the Kentico object whose data is being indexed. Can be converted to a specific   <a   href="Database-table-API">Info object</a>.</p>
</li><li class=" "><p   
><strong class=" ">SearchIndex</strong> (CMS.DataEngine.ISearchIndexInfo) &ndash; object representing the related search index in Kentico.</p>
</li></ul>            </td>
        </tr>
</tbody>        </table>
            </div>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Kentico system fields</strong></p>
<p   
>Search indexes in Kentico contain special system fields that are required for general functionality and various other features. For example <i class=" ">_content</i>, <i class=" ">_index</i>, <i class=" ">_idcolumnname</i>. We do not recommend modifying or renaming the system fields within custom handlers of field or search document events.</p>
<p   
>In most cases, the names of system fields in Kentico start with an underscore. When creating matching fields within Azure Search indexes, the <strong class=" ">sys_</strong> prefix is used instead (to comply with the <a  class="external-link" href="https://docs.microsoft.com/en-us/rest/api/searchservice/naming-rules">Azure Search naming rules</a>).</p>
        </div>
    </div>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
