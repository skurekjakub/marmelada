<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Macro syntax - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68882641"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                     <li><a href="Macro-expressions.html">Macro expressions</a></li>
                                                            </ul>
</div>            <h1 id="src-68882641"> <span>Macro syntax</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="section-left"><p>The system identifies macros using special parentheses. You need to enclose macro expressions into curly brackets and the percentage symbol: <i class=" "><strong class=" ">{% expression %}</strong></i></p><p>Kentico provides an object-oriented language named <strong class=" ">K#</strong>, which defines the syntax of macro expressions. The macro language is very similar to the C# programming language. This page provides an overview of the features available in K# and describes the differences from C#.</p><p>The K# syntax is <i class=" "><strong class=" ">case-insensitive</strong> </i>– the system does not differentiate between upper and lower case letters in commands. However, letter case may have an effect in the values of constants and variables (for the purposes of comparisons and similar).</p><div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">What is the # character at the end of macros?</strong></p>
<p>When you save a macro expression, the system automatically adds the <strong class=" ">#</strong> character before the closing parentheses. The character indicates that the macro is signed.</p>
<p>See <a href="working-with-macro-signatures">Working with macro signatures</a> for more information.</p>
        </div>
    </div><p>In addition to the primary macro syntax, the system also supports several special macro types:</p><div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Special macro type</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Query string macros</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>To load the values of query string parameters from the URL, use macros in format: <strong class=" "><i class=" ">{? parameter ?}</i></strong></p>
<p>Query string macros support all K# syntax. The names of all available query string parameters automatically work as variables that store the value of the corresponding parameter.</p>
<p>For example, on pages with URLs like <i class=" ">/Home.aspx?nodeid=10</i>, <i class=" ">{? nodeid ?}</i> resolves into 10.</p>
<p>Alternatively, you can get the values of query string parameters inside standard macros: <i class=" ">{% QueryString.parameter %}</i></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Localization strings</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>To add <a href="working-with-resource-strings">localization strings</a> into text values, use macros in format: <i class=" "><strong class=" ">{$ ResourceStringKey $}</strong></i></p>
<p>The localization macro resolves into the string version that matches the currently selected language. See also: <a href="localizing-text-fields">Localizing text fields</a></p>
<p>Localization macros do NOT support K# syntax, or any expressions except for resource string keys.</p>
<p>To localize strings inside standard macros: <i class=" ">{% GetResourceString("ResourceStringKey") %}</i></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Cookie macros<br>(standardized)</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>To load values from the current user's browser cookies, use the following standard macro: <i class=" ">{% Cookies["CookieName"] %}</i></p>
<p>For example:</p>
<p><i class=" ">The code of the currently selected language is: {% Cookies["CMSPreferredCulture"] %}</i></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Path expression macros<br>(standardized)<br>    <span style="color: #ffffff;">
_____________________    </span>
</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>To resolve <a href="writing-page-path-expressions">page path expressions</a>, use the following standard macro: <i class=" ">{% Path["path"] %}</i></p>
<p>For example, you can enter the following into an SQL where condition field:</p>
<p><i class=" ">NodeAliasPath LIKE {% Path["../%"] %}<br> </i>(the macro's result matches the path of all pages under the current page's parent)</p>
            </td>
        </tr>
</tbody>        </table>
            </div><div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>The macro engine no longer supports custom macros in format <i class=" ">{# expression #}</i>. If you are upgrading from an older version of Kentico, and your data contains custom macros, the system automatically converts all occurrences to <i class=" ">{% ProcessCustomMacro("expression", "parameters") %}</i> to ensure backward compatibility.</p>
<p>We strongly recommend implementing all custom macro functionality using the approaches described in <a href="extending-the-macro-engine">Extending the macro engine</a>.</p>
        </div>
    </div></div>


    

    
    
    <div class="section-right"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882641_macrosyntax-valuesandobjects">Values and objects</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-operators">Operators</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-macromethods">Macro methods</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-compoundexpressionsanddeclaringvariables">Compound expressions and declaring variables</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-conditionalstatements">Conditional statements</a></p>
</li><li class=" "><p><a href="#src-68882641_safe-id-twfjcm9zew50yxgtsxrlcmf0aw9ukgxvb3bzkq">Iteration (loops)</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882641_macrosyntax-nestedloopsandadvancedexpressions">Nested loops and advanced expressions</a></p>
</li></ul></li><li class=" "><p><a href="#src-68882641_macrosyntax-returncommand">Return command</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-consoleoutput">Console output</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-indexing">Indexing</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-comments">Comments</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-lambdaexpressions">Lambda expressions</a></p>
</li><li class=" "><p><a href="#src-68882641_macrosyntax-macroparameters">Macro parameters</a></p>
</li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="entering-macro-expressions">Entering macro expressions</a></p>
</li><li class=" "><p><a href="reference---macro-methods">Reference - Macro methods</a></p>
</li><li class=" "><p><a href="extending-the-macro-engine">Extending the macro engine</a></p>
</li></ul>        </div>
    </div></div>
    
    <h3 id="src-68882641_Macrosyntax-Valuesandobjects" class="heading "><span>Values and objects</span></h3>
<p>When the system resolves a macro expression, the result is an object (value). Macros support the following types of objects:</p>
<ul class=" "><li class=" "><p>Standard scalar C# types (int, double, string, DateTime etc.).</p>
</li><li class=" "><p>Kentico system types (objects representing pages, users etc.).</p>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong>: Kentico objects in macros provide properties according to the underlying database structure. This does not always match the properties available in the API of the corresponding <i class=" ">Info</i> classes.</p>
        </div>
    </div>
</li><li class=" "><p>Collections based on the <i class=" ">IEnumerable</i> interface, which contain various types of objects. For example, <i class=" ">InfoObjectCollection</i> stores sets of Kentico objects.</p>
</li><li class=" "><p>Context objects containing data related to the currently processed request (information about the current user, the currently viewed page, etc.). For example: <i class=" ">CMSContext</i>, <i class=" ">SiteContext</i>, <i class=" ">DocumentContext</i>, <i class=" ">ECommerceContext</i>.</p>
</li><li class=" "><p>Macro namespaces that allow you to access other properties or methods (a namespace object itself does not return any data).</p>
</li></ul><p>To work with fixed values (literals) in macro expressions:</p>
<ul class=" "><li class=" "><p><strong class=" ">numbers</strong> - type the numbers directly. You can use integers or numbers with decimal points (double type).</p>
</li><li class=" "><p><strong class=" ">text</strong> - enclose text (string) values into quotes, for example: <i class=" ">"administrator"</i></p>
</li><li class=" "><p><strong class=" ">booleans</strong> - use the<i class=" "> true</i> and <i class=" ">false</i> keywords.</p>
</li><li class=" "><p><strong class=" ">date and time</strong> - enclose date and time values into quotes. The date format depends on the culture context. For example: <i class=" ">"1/1/2014"</i>, <i class=" ">"9/3/2014 9:20:00 AM"</i></p>
</li></ul>    <h3 id="src-68882641_Macrosyntax-Operators" class="heading "><span>Operators</span></h3>
<p>K# uses the same basic operators as C#. See the <a class="external-link" href="http://msdn.microsoft.com/en-us/library/6a71f45d.aspx">Reference of C# operators</a> to learn more.</p>
<p>The following table summarizes the differences in operator behavior that you need to keep in mind when writing macros.</p>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Operator</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Examples</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>x.y</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>CurrentUser.UserName</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Accesses the members (methods, properties) of macro objects or namespaces.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>+</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>10+5<br>CurrentPageInfo.DocumentPageTitle + " | suffix"</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Adds two operands together. Adding is supported for numbers, and the following types:</p>
<ul class=" "><li class=" "><p><strong class=" ">String + String</strong>: Returns the concatenation as a <i class=" ">String</i></p>
</li><li class=" "><p><strong class=" ">DateTime + TimeSpan</strong>: Adds the <i class=" ">TimeSpan</i> to the <i class=" ">DateTime</i> and returns the result as <i class=" ">DateTime</i></p>
</li><li class=" "><p><strong class=" ">TimeSpan + TimeSpan</strong>: Returns the sum as a <i class=" ">TimeSpan</i></p>
</li></ul><p>String concatenation is the default option if none of the combinations above are detected – the operator returns the concatenation of the operands' <i class=" ">String</i> representations.</p>
<p>For example, <i class=" ">{% "string" + 5 %}</i> returns <strong class=" ">string5</strong>.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>-</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>-10<br>10-5</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Unary - returns the numeric negation of a number.<br>Binary - subtracts the second operand from the first.</p>
<p>In addition to numeric types, you can subtract objects of the following types:</p>
<ul class=" "><li class=" "><p><strong class=" ">DateTime - TimeSpan</strong>: Subtracts the <i class=" ">TimeSpan</i> from the <i class=" ">DateTime</i> and returns the result as <i class=" ">DateTime</i></p>
</li><li class=" "><p><strong class=" ">DateTime - DateTime</strong>: Subtracts the second <i class=" ">DateTime</i> from the first, and returns the difference as a <i class=" ">TimeSpan</i></p>
</li><li class=" "><p><strong class=" ">TimeSpan - TimeSpan</strong>: Returns the difference as a <i class=" ">TimeSpan</i></p>
</li></ul>            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>==<br>!=</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>50 == 5*10<br>CurrentUser.UserName != "administrator"<br>CurrentDocument == Documents["/Services/WebDesign"]</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Operators that check for equality or inequality of the operands. Return a boolean value.</p>
<p>Equality checks support all available object types, with the following special rules:</p>
<ul class=" "><li class=" "><p>Empty strings are equal to <i class=" ">null</i></p>
</li><li class=" "><p>Simple data types are equal to their string representation</p>
</li><li class=" "><p><i class=" ">Info</i> objects are equal to string constants that match the object's display name or code name</p>
</li><li class=" "><p>Two <i class=" ">Info</i> objects are equal when they have the same object type and ID</p>
</li><li class=" "><p>GUID values are equal to the string representation of the GUID (always case insensitive)</p>
</li><li class=" "><p>Enumeration values are equal to constants of the enum's underlying type (integer or string)</p>
</li></ul><p><strong class=" ">Tip</strong>: Use <a href="#src-68882641_macrosyntax-macroparameters">macro parameters</a> to specify case sensitivity and the culture context in equality checks.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>&lt;<br>&lt;=<br>&gt;<br>&gt;=</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>CurrentPageInfo.DocumentPublishFrom &lt;= DateTime.Now</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Comparison operators that return boolean values:</p>
<ul class=" "><li class=" "><p><strong class=" ">&lt;</strong> (true if the left operand is lesser than the right)</p>
</li><li class=" "><p><strong class=" ">&lt;=</strong> (true if the left operand is lesser than or equal to the right)</p>
</li><li class=" "><p><strong class=" ">&gt;</strong> (true if the left operand is greater than the right)</p>
</li><li class=" "><p><strong class=" ">&gt;=</strong> (true if the left operand is greater than or equal to the right)</p>
</li></ul><p>You can compare objects of the following types:</p>
<ul class=" "><li class=" "><p>numeric (Int, Double)</p>
</li><li class=" "><p>String (comparison based on lexicographical order)</p>
</li><li class=" "><p>DateTime</p>
</li><li class=" "><p>TimeSpan</p>
</li></ul><p><strong class=" ">Note</strong>: When comparing strings, use <a href="#src-68882641_macrosyntax-macroparameters">macro parameters</a> to specify case sensitivity and the culture context.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>mod</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>5 mod 2</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Performs the <a class="external-link" href="http://en.wikipedia.org/wiki/Modulo_operation">modulo operation</a> – computes the remainder after division of two integer operands.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>%</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>30%</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>In K#, the % character represents percentage values. You <strong class=" ">cannot</strong> use the % operator for the modulo operation.</p>
<p>Adding the percentage sign converts the preceding number to a double equivalent (multiplies the number by 0.01).</p>
<p>For example, <i class=" ">{% 30% %}</i> returns <strong class=" ">0.3</strong>.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>??</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>CurrentDocument.Children.FirstItem ?? "No child pages"<br>    <span style="color: #ffffff;">
___________________________________________________    </span>
</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Null-coalescing operator. Returns the left operand if the operand is not <i class=" ">null</i>, otherwise returns the right operand.</p>
<p><strong class=" ">Note</strong>: Empty strings are not considered as null values by the operator.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <h3 id="src-68882641_Macrosyntax-Macromethods" class="heading "><span>Macro methods</span></h3>
<p>Methods allow you to perform tasks (execute code) inside macro expressions. You typically call methods with at least one argument.</p>
<p>The recommended K# syntax for method calls is <strong class=" ">infix</strong> notation for the first argument. Prefix notation is also supported. For example:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Returns "WORD"</code></div>
<div class="line"><code class="plain">{% </code><code class="string">"word"</code><code class="plain">.ToUpper() %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Returns "The sky is red on red planets"</code></div>
<div class="line"><code class="plain">{% </code><code class="string">"The sky is blue on blue planets"</code><code class="plain">.Replace(</code><code class="string">"blue"</code><code class="plain">, </code><code class="string">"red"</code><code class="plain">) %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Alternative method calls with prefix notation (not supported by the autocomplete help)</code></div>
<div class="line"><code class="plain">{% ToUpper(</code><code class="string">"word"</code><code class="plain">) %}</code></div>
<div class="line"><code class="plain">{% Replace(</code><code class="string">"The sky is blue on blue planets"</code><code class="plain">, </code><code class="string">"blue"</code><code class="plain">, </code><code class="string">"red"</code><code class="plain">) %}</code></div>
</div>
    </div>
<p>Kentico provides an extensive set of default methods that you can use in macro expressions. See: <a href="reference---macro-methods">Reference - Macro methods</a></p>
<p>Developers can also extend the macro engine and <a href="registering-custom-macro-methods">register custom macro methods</a>.</p>
    <h3 id="src-68882641_Macrosyntax-Compoundexpressionsanddeclaringvariables" class="heading "><span>Compound expressions and declaring variables</span></h3>
<p>K# allows you to write compound expressions, containing any number of simple macro expressions. You need to terminate each expressions (except for the last) using a semicolon. The overall result of a compound expression is the result of the last expression.</p>
<p>Variables allow you to store and manipulate values inside macro expressions. You do not need to explicitly declare the type of variables.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "12"</code></div>
<div class="line"><code class="plain">{% x = 5; x + 7 %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// returns "10"</code></div>
<div class="line"><code class="plain">{% x = 5; y = 3; x += 2; x + y %}</code></div>
</div>
    </div>
<p>The scope of variables spans from the point of declaration to the end of the area containing the macro (such as text fields, <a href="managing-email-templates">email templates</a> or <a href="writing-transformations">Text / XML transformations</a>), including all separate macro expressions in the given area.</p>
    <h3 id="src-68882641_Macrosyntax-Conditionalstatements" class="heading "><span>Conditional statements</span></h3>
<p>Use the <strong class=" ">if</strong> command to create conditions in format: <i class=" "><strong class=" ">if (&lt;condition&gt;) {&lt;expressions&gt;}</strong> </i>. The condition statement returns the value of <i class=" ">&lt;expressions&gt;</i> if the condition is true, and a <i class=" ">null</i> value if false.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "z is less than 3"</code></div>
<div class="line"><code class="plain">{% z = 1; </code><code class="keyword">if</code><code class="plain"> (z&lt;3) {</code><code class="string">"z is less than 3"</code><code class="plain">} %}</code></div>
</div>
    </div>
<p>To create conditions with a result for the false branch, use the following syntax: <i class=" "><strong class=" ">if (&lt;condition&gt;) {&lt;expressions 1&gt;} else {&lt;expressions 2&gt;}</strong></i></p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "z is greater than or equal to 3"</code></div>
<div class="line"><code class="plain">{% z = 5; </code><code class="keyword">if</code><code class="plain"> (z&lt;3) {</code><code class="string">"z is less than 3"</code><code class="plain">} </code><code class="keyword">else</code><code class="plain"> {</code><code class="string">"z is greater than or equal to 3"</code><code class="plain">} %}</code></div>
</div>
    </div>
<p>The <strong class=" ">ternary operator</strong> allows you to create compact conditions with a different result for each branch. Use the following syntax: <i class=" "><strong class=" ">&lt;condition&gt; ? &lt;expressions 1&gt; : &lt;expressions 2&gt;</strong></i></p>
<p>If the condition is true, the statement returns the value of <i class=" ">&lt;expressions 1&gt;</i>. In the case of a false condition, the return value is <i class=" ">&lt;expressions 2&gt;</i>.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "The second parameter is greater"</code></div>
<div class="line"><code class="plain">{% x=1; y=2; x &gt; y ? </code><code class="string">"The first parameter is greater"</code><code class="plain"> : </code><code class="string">"The second parameter is greater"</code><code class="plain"> %}</code></div>
</div>
    </div>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Open conditions and loops</strong></p>
<p>When defining conditions or loops, you can leave the body of the loop/condition open and close it later in another macro expression. This allows you to apply the command to text content or HTML code placed between the macro expressions. Open commands can be particularly useful in macro-based <a href="writing-transformations">transformations</a> or various types of HTML templates.</p>
<p>You can also nest additional macro expressions inside open loops or conditions.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Displays a message including the current date if the year is 2014 or more</code></div>
<div class="line"><code class="plain">{% date = CurrentDateTime; </code><code class="keyword">if</code><code class="plain"> (date.Year &gt; 2013) { %}</code></div>
<div class="line"><code class="plain">The current date </code><code class="keyword">is</code><code class="plain">: {% date %}. The registration period has ended.</code></div>
<div class="line"><code class="plain">{% } %}</code></div>
</div>
    </div>
        </div>
    </div>
    <h3 id="src-68882641_safe-id-TWFjcm9zeW50YXgtSXRlcmF0aW9uKGxvb3BzKQ" class="heading "><span>Iteration (loops)</span></h3>
<p>K# provides several types of loop commands:</p>
<ul class=" "><li class=" "><p><strong class=" ">while</strong> (&lt;condition&gt;) {&lt;executed expressions&gt;}</p>
</li><li class=" "><p><strong class=" ">for</strong> (&lt;init expression&gt;; &lt;condition&gt;; &lt;increment expression&gt;) {&lt;executed expressions&gt;}</p>
</li><li class=" "><p><strong class=" ">foreach</strong> (&lt;variable&gt; in &lt;enumerable object&gt;) {&lt;executed expressions&gt;}</p>
</li></ul><p>If a loop command is the last expression in a macro, the return value is a concatenated list containing the results of the sub-expressions executed by all iterations of the loop.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">While loop example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="While loop example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "10"</code></div>
<div class="line"><code class="plain">{% z = 1; </code><code class="keyword">while</code><code class="plain"> (z&lt;10) {++z}; z %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// returns "2 3 4 5 6 7 8 9 10"</code></div>
<div class="line"><code class="plain">{% z = 1; </code><code class="keyword">while</code><code class="plain"> (z&lt;10) {++z} %}</code></div>
</div>
    </div>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">For loop example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="For loop example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "5"</code></div>
<div class="line"><code class="plain">{% z = 0; </code><code class="keyword">for</code><code class="plain"> (i = 0; i &lt; 5; i++) { z += 1 }; z %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// returns "1 2 3 4 5"</code></div>
<div class="line"><code class="plain">{% z = 0; </code><code class="keyword">for</code><code class="plain"> (i = 0; i &lt; 5; i++) { z += 1 } %}</code></div>
</div>
    </div>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Foreach example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Foreach example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "HELLO"</code></div>
<div class="line"><code class="plain">{% z = </code><code class="string">""</code><code class="plain">; </code><code class="keyword">foreach</code><code class="plain"> (x </code><code class="keyword">in</code><code class="plain"> </code><code class="string">"hello"</code><code class="plain">) {z += x.toupper()}; z %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// returns "H HE HEL HELL HELLO"</code></div>
<div class="line"><code class="plain">{% z = </code><code class="string">""</code><code class="plain">; </code><code class="keyword">foreach</code><code class="plain"> (x </code><code class="keyword">in</code><code class="plain"> </code><code class="string">"hello"</code><code class="plain">) {z += x.toupper()}%}</code></div>
</div>
    </div>
<p>Use the <strong class=" ">break</strong> command to terminate loops. For nested loops, the command closes the innermost loop.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "1 2 3 4 5"</code></div>
<div class="line"><code class="plain">{% z = 0; </code><code class="keyword">while</code><code class="plain"> (z &lt; 10) {</code><code class="keyword">if</code><code class="plain"> (z &gt; 4) {</code><code class="keyword">break</code><code class="plain">}; ++z} %}</code></div>
</div>
    </div>
<p>The <strong class=" ">continue</strong> command skips to the next iteration of the current loop.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "0 1 2 4 5"</code></div>
<div class="line"><code class="plain">{% </code><code class="keyword">for</code><code class="plain"> (i=0; i&lt;=5 ; i++) {</code><code class="keyword">if</code><code class="plain"> (i == 3) {</code><code class="keyword">continue</code><code class="plain">}; i} %}</code></div>
</div>
    </div>
    <h4 id="src-68882641_Macrosyntax-Nestedloopsandadvancedexpressions" class="heading "><span>Nested loops and advanced expressions</span></h4>
<p>Do not use the automatic return value for loops that are nested inside another loop or in compound expressions. Instead, choose one of the following approaches:</p>
<ul class=" "><li class=" "><p>Use <a href="#src-68882641_macrosyntax-consoleoutput">console output</a> (the <i class=" ">print(...)</i> method) to directly output the results of individual loop iterations<br>OR</p>
</li><li class=" "><p>Concatenate the iteration results into a variable that you return at the end of the expression</p>
</li></ul>    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example - Nested loop with console output</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example - Nested loop with console output" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Returns an HTML list of all items from all orders made by the current customer</code></div>
<div class="line"><code class="plain">{%</code></div>
<div class="line"><code class="plain">	orders = ECommerceContext.CurrentCustomer.AllOrders;</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">if</code><code class="plain"> (orders.Count &gt; 0) {</code></div>
<div class="line"><code class="plain">		print(</code><code class="string">"&lt;ul&gt;"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">foreach</code><code class="plain"> (order </code><code class="keyword">in</code><code class="plain"> orders) {</code></div>
<div class="line"><code class="plain">			</code><code class="keyword">foreach</code><code class="plain"> (item </code><code class="keyword">in</code><code class="plain"> order.OrderItems)</code></div>
<div class="line"><code class="plain">				{ print(</code><code class="string">"&lt;li&gt;"</code><code class="plain"> + item.OrderItemSKUName + </code><code class="string">"&lt;/li&gt;"</code><code class="plain">) }</code></div>
<div class="line"><code class="plain">		};</code></div>
<div class="line"><code class="plain">		print(</code><code class="string">"&lt;/ul&gt;"</code><code class="plain">);</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">%}&nbsp;</code></div>
</div>
    </div>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example - Nested loop with concatenation into a variable</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example - Nested loop with concatenation into a variable" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// Returns an HTML list of all items from all orders made by the current customer</code></div>
<div class="line"><code class="plain">{%</code></div>
<div class="line"><code class="plain">	orders = ECommerceContext.CurrentCustomer.AllOrders;</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">if</code><code class="plain"> (orders.Count &gt; 0) {</code></div>
<div class="line"><code class="plain">		result = </code><code class="string">"&lt;ul&gt;"</code><code class="plain">;</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">foreach</code><code class="plain"> (order </code><code class="keyword">in</code><code class="plain"> orders) {</code></div>
<div class="line"><code class="plain">			</code><code class="keyword">foreach</code><code class="plain"> (item </code><code class="keyword">in</code><code class="plain"> order.OrderItems)</code></div>
<div class="line"><code class="plain">				{ result += </code><code class="string">"&lt;li&gt;"</code><code class="plain"> + item.OrderItemSKUName + </code><code class="string">"&lt;/li&gt;"</code><code class="plain"> }</code></div>
<div class="line"><code class="plain">		};</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">return</code><code class="plain"> result + </code><code class="string">"&lt;/ul&gt;"</code><code class="plain">;</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">%}</code></div>
</div>
    </div>
    <h3 id="src-68882641_Macrosyntax-Returncommand" class="heading "><span>Return command</span></h3>
<p>Use the <strong class=" ">return</strong> command to terminate the processing of a macro, and set the attached expression as the macro's final result. You can use the return command inside loops, or anywhere in compound macro expressions.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns green</code></div>
<div class="line"><code class="plain">{% </code><code class="string">"red"</code><code class="plain">; </code><code class="string">"yellow"</code><code class="plain">; </code><code class="keyword">return</code><code class="plain"> </code><code class="string">"green"</code><code class="plain">; </code><code class="string">"blue"</code><code class="plain"> %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// returns "ignore the loop"</code></div>
<div class="line"><code class="plain">{% z = </code><code class="string">""</code><code class="plain">; </code><code class="keyword">foreach</code><code class="plain"> (x </code><code class="keyword">in</code><code class="plain"> </code><code class="string">"hello"</code><code class="plain">) {</code><code class="keyword">return</code><code class="plain"> </code><code class="string">"ignore the loop"</code><code class="plain">; z += x } %}</code></div>
</div>
    </div>
    <h3 id="src-68882641_Macrosyntax-Consoleoutput" class="heading "><span>Console output</span></h3>
<p>Console output allows you to build the results of macro expressions without declaring variables. Use the <strong class=" ">print(&lt;expressions&gt;)</strong> or <strong class=" ">println(&lt;expressions&gt;)</strong> syntax. Each console output expression adds to the macro's return value, and the system continues processing the macro.</p>
<p>Console output has higher priority than the standard result of macro expressions, but lower than the <strong class=" ">return</strong> command.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "123"</code></div>
<div class="line"><code class="plain">{% i = 1; </code><code class="keyword">while</code><code class="plain"> (i &lt; 4) {print(i++)}; </code><code class="string">"ignored"</code><code class="plain"> %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// returns "result"</code></div>
<div class="line"><code class="plain">{% i = 1; </code><code class="keyword">while</code><code class="plain"> (i &lt; 4) {print(i++)}; </code><code class="keyword">return</code><code class="plain"> </code><code class="string">"result"</code><code class="plain"> %}</code></div>
</div>
    </div>
    <div class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Tip</strong>: To explicitly set the current console output as the return value of a macro, use the plain <strong class=" ">return</strong> command without an attached expression.</p>
        </div>
    </div>
    <h3 id="src-68882641_Macrosyntax-Indexing" class="heading "><span>Indexing</span></h3>
<p>K# supports indexing for collections and objects that serve as containers for other data:</p>
<ul class=" "><li class=" "><p><strong class=" ">DataRow</strong>, <strong class=" ">DataRowView</strong>, <strong class=" ">DataRowContainer</strong> (returns the value at the specified index)</p>
</li><li class=" "><p><strong class=" ">DataTableContainer</strong> (returns the row at the specified index)</p>
</li><li class=" "><p><strong class=" ">DataSetContainer</strong> (returns the table at the specified index)</p>
</li><li class=" "><p><strong class=" ">String</strong> (returns the character at the specified index)</p>
</li><li class=" "><p><strong class=" ">IEnumerable</strong> collections, such as <i class=" ">InfoObjectCollection</i> (returns the object at the specified index in the collection)</p>
</li></ul>    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "e"</code></div>
<div class="line"><code class="plain">{% </code><code class="string">"hello"</code><code class="plain">[1] %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// returns the value of the FirstName column from the DataRow</code></div>
<div class="line"><code class="plain">{% dataRow[</code><code class="string">"FirstName"</code><code class="plain">] %}</code></div>
</div>
    </div>
    <h3 id="src-68882641_Macrosyntax-Comments" class="heading "><span>Comments</span></h3>
<p>To add explanatory text inside macro expressions, use one-line, multi-line or inline comments.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">{%</code></div>
<div class="line"><code class="comments">// This is a one-line comment. Initiated by two forward slashes, spans across one full line.</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">/* </code></div>
<div class="line"><code class="comments">This is a multi-line comment.</code></div>
<div class="line"><code class="comments">Opened by a forward slash-asterisk sequence and closed with the asterisk-forward slash sequence.</code></div>
<div class="line"><code class="comments">Can span across any number of lines.</code></div>
<div class="line"><code class="comments">*/</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">x = 5; y = 3; </code><code class="comments">/* This is an inline comment nested in the middle of an expression. */</code><code class="plain"> x+= 2; x + y</code></div>
<div class="line"><code class="plain">%}</code></div>
</div>
    </div>
    <h3 id="src-68882641_Macrosyntax-Lambdaexpressions" class="heading "><span>Lambda expressions</span></h3>
<p>Lambda expressions are ad-hoc declarations of inline functions that you can use inside macro expressions.</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="comments">// returns "4"</code></div>
<div class="line"><code class="plain">{% lambdaSucc = (x =&gt; x + 1); lambdaSucc(3) %}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// returns "6"</code></div>
<div class="line"><code class="plain">{% lambdaMultiply = ((x, y) =&gt; x * y); lambdaMultiply(2,3) %}</code></div>
</div>
    </div>
<p>The scope of lambda expressions spans from the point of declaration to the end of the area containing the macro (such as text fields, <a href="managing-email-templates">email templates</a> or <a href="writing-transformations">Text / XML transformations</a>), including all separate macro expressions in the given area.</p>
    <h3 id="src-68882641_Macrosyntax-Macroparameters" class="heading "><span>Macro parameters</span></h3>
<p>Macro parameters allow you to modify how the system resolves individual expressions. To append parameters to macro expressions, use the following syntax:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">{% ...|(&lt;parameter&gt;)&lt;value&gt; %}</code></div>
</div>
    </div>
<p>You can add multiple parameters to a single expression. Use backslashes to escape the | separator in parameter values if necessary.</p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong>: The | separator must be placed directly between the macro expression and the parameter <i class=" "><strong class=" ">without any whitespace characters</strong> </i>.</p>
        </div>
    </div>
<p>The following macro parameters are available:</p>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Parameter</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Example</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>default</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <pre class=" ">{% CurrentUser.UserDateOfBirth|(default)N\|A %}</pre>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets a default value that the macro returns if the result of the expression is an empty value.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>encode</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <pre class=" ">{% <tt class="html plain ">ArticleSummary|(encode)true %}</tt>                </pre>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Enables HTML encoding for the result of the macro (converts reserved HTML characters to equivalent character entities).</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>recursive</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <pre class=" ">{% <tt class="html plain ">ArticleText|(encode)true|(recursive)true %}</tt>                </pre>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If true, the system resolves macro expressions contained in the macro's result recursively.</p>
<p>Note: If a macro returns text containing localization expressions in the <i class=" ">{$ResourceStringKey$}</i> format, these are automatically resolved recursively.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>culture</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <pre class=" ">{% DocumentPublishFrom|(culture)en-us %}</pre>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets the culture (language) used when formatting numbers and dates in the macro result.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>casesensitive</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <pre class=" ">{% Contains("term", ArticleText)|(casesensitive)true %}</pre>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Determines whether string comparisons and other operations inside the macro expression are case sensitive. False by default.</p>
<p>You can enable case sensitivity globally for all expressions by adding the following key to the <i class=" ">appSettings</i> section of your web.config file:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;</code><code class="keyword">add</code><code class="plain"> </code><code class="color1">key</code><code class="plain">=</code><code class="string">"CMSMacrosCaseSensitiveComparison"</code><code class="plain"> </code><code class="color1">value</code><code class="plain">=</code><code class="string">"true"</code><code class="plain">&gt;</code></div>
</div>
    </div>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>timeout</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p><tt class="html string ">{% GetDocumentUrl()|(timeout)2000 %}</tt></p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets the maximum time allowed to resolve the expression (in milliseconds). If unspecified, the default timeout is 1000 ms.</p>
<p>If the timeout is reached, the system aborts the resolving process. The macro returns a null value and an entry is logged in the <a href="working-with-the-system-event-log">event log</a>.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>handlesqlinjection</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p><tt class="html string ">{% QueryString.Param|(handlesqlinjection)true %}</tt></p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If true, the system replaces single quote characters (') in the macro result with two single quotes ('').</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>debug</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <pre class=" ">{% Documents["/News"].Children.WithAllData|(debug)true %}</pre>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Enables <a href="debugging-macros">detailed macro debugging</a> (only for the given expression).</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>