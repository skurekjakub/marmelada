<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Adding portal engine functionality to ASPX page templates - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68880706"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Developing-websites.html">Developing websites</a></li>
                                                                                     <li><a href="Developing-websites-using-ASPX-templates.html">Developing websites using ASPX templates</a></li>
                                                            </ul>
</div>            <h1 id="src-68880706"> <span>Adding portal engine functionality to ASPX page templates</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="section-left"></div><p>When developing or maintaining websites built on <a href="developing-websites-using-aspx-templates">ASPX page templates</a>, one of the drawbacks is that you need to manually modify the code of pages whenever you wish to change the design. You can add flexibility to ASPX templates by defining areas that are editable directly through the browser in the <strong class=" ">Pages</strong> application, just like when using the <a href="developing-websites-using-the-portal-engine">Portal engine development model</a>. These areas allow you to add <a href="using-and-configuring-web-parts">Web parts</a> or <a href="preparing-widgets-for-users">Widgets</a> onto ASPX page templates.</p>
<p>Add the following elements to the code of your page templates to integrate portal engine areas:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&nbsp;&lt;cms:CMSPagePlaceholder ID=</code><code class="string">"plcZones"</code><code class="plain"> runat=</code><code class="string">"server"</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">    &lt;LayoutTemplate&gt;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">        ...</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">        &lt;cms:CMSWebPartZone ID=</code><code class="string">"zoneCenter"</code><code class="plain"> runat=</code><code class="string">"server"</code><code class="plain"> /&gt;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">        ...</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">    &lt;/LayoutTemplate&gt;</code></div>
<div class="line"><code class="plain">&lt;/cms:CMSPagePlaceholder&gt;</code></div>
</div>
    </div>
<ul class=" "><li class=" "><p>The <strong class=" ">CMSPagePlaceholder</strong> control creates an area on the page that behaves like a portal engine page template. You can place multiple <i class=" ">CMSPagePlaceholder</i> controls onto a single page.</p>
</li><li class=" "><p>The content of the <strong class=" ">&lt;LayoutTemplate&gt;</strong> element defines the layout of the area. You can specify a table structure or a CSS-based layout applies through HTML elements (&lt;div&gt;, &lt;span&gt;, etc.).</p>
</li><li class=" "><p>The layout may contain multiple <strong class=" ">CMSWebPartZone</strong> controls, which represent fully functional portal engine zones. You can configure every zone to serve as either a standard web part zone or any type of widget zone. Users can manage these zones when editing pages based on the page template on the <strong class=" ">Design</strong> tab of the<strong class=" "> Pages</strong> application. When web part or widget content is added to a zone, information about it is stored in the database along with the respective page template object, not in the actual code of the ASPX page.</p>
</li></ul>    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">CMSPortalManager control required</strong></p>
<p>The <strong class=" ">CMSPortalManager</strong> control must be present on ASPX templates that contain portal engine functionality. The typical solution is to provide the control through the <a href="creating-master-pages-for-aspx-templates">master page</a> of your templates.</p>
        </div>
    </div>
    <div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="creating-aspx-page-templates">Creating ASPX page templates</a></p>
</li><li class=" "><p><a href="creating-master-pages-for-aspx-templates">Creating master pages for ASPX templates</a><br><br></p>
</li><li class=" "><p><a href="developing-websites-using-the-portal-engine">Developing websites using the Portal engine</a></p>
</li><li class=" "><p><a href="using-and-configuring-web-parts">Using and configuring web parts</a></p>
</li><li class=" "><p><a href="preparing-widgets-for-users">Preparing widgets for users</a></p>
</li></ul>        </div>
    </div>
<p>When registering ASPX page templates with portal engine functionality in the <strong class=" ">Page templates</strong> application, you need to set the <strong class=" ">Template type</strong> to <i class=" "><strong class=" ">ASPX + Portal page</strong></i>. This enables the <strong class=" ">Design</strong> tab when editing pages based on the template in the <strong class=" ">Pages</strong> application.</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68880706/Mixed_Template.png" alt="images/download/attachments/68880706/Mixed_Template.png" width="500">
    </p>
    <h3 id="src-68880706_AddingportalenginefunctionalitytoASPXpagetemplates-Example" class="heading "><span>Example</span></h3>
<p>The following example demonstrates how to create an ASPX page template with zones that users can design via the portal engine:</p>
<ol class=" "><li class=" "><p>Build a new page template according to the example on the <a href="creating-aspx-page-templates">Creating ASPX page templates</a> page.<br><br></p>
<ul class=" "><li class=" "><p>When writing the template's ASPX code, place the following inside the<strong class=" "> &lt;asp:Content&gt;</strong> element:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;</code><code class="keyword">cms</code><code class="plain">:CMSPagePlaceholder </code><code class="color1">ID</code><code class="plain">=</code><code class="string">"plcZones"</code><code class="plain"> </code><code class="color1">runat</code><code class="plain">=</code><code class="string">"server"</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">    &lt;</code><code class="keyword">LayoutTemplate</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">        &lt;</code><code class="keyword">table</code><code class="plain"> </code><code class="color1">style</code><code class="plain">=</code><code class="string">"width:100%"</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">            &lt;</code><code class="keyword">tr</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">              &lt;</code><code class="keyword">td</code><code class="plain"> </code><code class="color1">style</code><code class="plain">=</code><code class="string">"width: 50%"</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">                &lt;</code><code class="keyword">cms</code><code class="plain">:CMSWebPartZone </code><code class="color1">ID</code><code class="plain">=</code><code class="string">"zoneLeft"</code><code class="plain"> </code><code class="color1">runat</code><code class="plain">=</code><code class="string">"server"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">              &lt;/</code><code class="keyword">td</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">              &lt;</code><code class="keyword">td</code><code class="plain"> </code><code class="color1">style</code><code class="plain">=</code><code class="string">"width: 50%"</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">                &lt;</code><code class="keyword">cms</code><code class="plain">:CMSWebPartZone </code><code class="color1">ID</code><code class="plain">=</code><code class="string">"zoneRight"</code><code class="plain"> </code><code class="color1">runat</code><code class="plain">=</code><code class="string">"server"</code><code class="plain"> /&gt;</code></div>
<div class="line"><code class="plain">              &lt;/</code><code class="keyword">td</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">            &lt;/</code><code class="keyword">tr</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">        &lt;/</code><code class="keyword">table</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">    &lt;/</code><code class="keyword">LayoutTemplate</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">&lt;/</code><code class="keyword">cms</code><code class="plain">:CMSPagePlaceholder&gt;</code></div>
</div>
    </div>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>This code defines two editable web part zones in a basic two column table layout.</p>
        </div>
    </div>
<p><br><br></p>
</li><li class=" "><p>When registering the template in the <strong class=" ">Page templates</strong> application, set the <strong class=" ">Template type</strong> to <i class=" "><strong class=" ">ASPX + Portal page</strong></i>.<br><br></p>
</li></ul></li><li class=" "><p>Open the <strong class=" ">Pages</strong> application and <a href="creating-new-pages">add</a> a <strong class=" ">Page (Menu item)</strong> page to the content tree using the new page template.</p>
</li><li class=" "><p>Switch to the <strong class=" ">Design</strong> tab of the new page. You can see two web part zones on the page.</p>
</li><li class=" "><p>Expand the menu (<img class="confluence-embedded-image" src="images/download/attachments/68879208/menu.png" alt="images/download/attachments/68879208/menu.png">
) of the <strong class=" ">zoneLeft</strong> zone and click <strong class=" ">Configure</strong>.</p>
</li><li class=" "><p>Switch the <strong class=" ">Widget zone type</strong> property from <i class=" ">None</i> to <i class=" ">Customization by page editor</i>.</p>
</li><li class=" "><p>Click <strong class=" ">Save &amp; Close</strong>.</p>
<ul class=" "><li class=" "><p>The zone now serves as a widget zone for page editors.<br><br></p>
</li></ul></li><li class=" "><p><a href="using-and-configuring-web-parts">Add a web part</a> to <strong class=" ">zoneRight</strong>, for example <strong class=" ">Editable text</strong>.<br><br><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68880706/ASPX_Mixed_Design.png" alt="images/download/attachments/68880706/ASPX_Mixed_Design.png" width="500">
    <br><br></p>
</li><li class=" "><p>Open the <strong class=" ">Page</strong> tab.</p>
<ul class=" "><li class=" "><p>Here you can manage the editor widget zone on the left and enter content into the editable text region displayed by the web part on the right.<br><br></p>
</li></ul></li><li class=" "><p>Open the menu of the editor zone (<img class="confluence-embedded-image" src="images/download/attachments/68879208/menu.png" alt="images/download/attachments/68879208/menu.png">
) and click <strong class=" ">Add new widget</strong> to place some widgets onto the page.</p>
</li><li class=" "><p><strong class=" ">Save</strong> the page.</p>
</li></ol><p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68880706/ASPX_Mixed_Result.png" alt="images/download/attachments/68880706/ASPX_Mixed_Result.png" width="500" height="314">
        <br><span class="caption">Editing widgets and editable region content of a page based on a mixed template</span>
    </p>
<p>The example demonstrates how to use web parts or widgets to build the design of pages based on ASPX page templates. This approach combines the standard architecture and development process of ASPX templates with the flexibility and userâ€‘friendliness of the portal engine.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>