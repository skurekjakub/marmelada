<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Creating machine translation services - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260" elementpageid="68882111">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68882111"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Custom-development.html">Custom development</a></li>
                                                                                                         <li class="shortcut"><a href="Miscellaneous-custom-development-tasks.html">Miscellaneous custom development tasks</a></li>
                                                                                     <li><a href="Developing-custom-translation-services.html">Developing custom translation services</a></li>
                                                            </ul>
</div>            <h1 id="src-68882111"> <span>Creating machine translation services</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="sp-grid-section"><div class="sp-grid-cell sp-grid-60"><p>To develop a custom machine translation service, you need to define a class that inherits from <strong class=" ">AbstractMachineTranslationService</strong> (found in the <strong class=" ">CMS.TranslationServices</strong> namespace).</p><p>The service class must override and implement the following abstract methods:</p><div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Method</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Translate</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>The main translation method which calls the appropriate web service (Google Translator, Microsoft Translator etc.) or otherwise translates the specified text from the source language into a target language.</p>
<p>When a user submits a translation to the service, the system calls the <strong class=" ">Translate</strong> method for every translation unit (<i class=" ">&lt;trans-unit&gt;</i> element) in the XLIFF source data. The method's <i class=" ">text</i> parameter contains the source text of the unit.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Detect</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>You can use this method to call the logic of the translation service to automatically determine the language of the source text.</p>
<p>Kentico does not use the <i class=" ">Detect</i> method by default, but you can implement it if you need language detection functionality in your custom API.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Speak</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Converts text to a stream of sound using the given service's text-to-speech engine.</p>
<p>Kentico does not use the <i class=" ">Speak</i> method by default, but you can implement it if you need text-to-speech functionality in your custom API. If your service does not support such an option, throw a not implemented exception.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>IsAvailable</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Checks whether the service is appropriately configured and ready to be used. For example, you can confirm that the target service is currently online, or load any credentials and API keys required by the service from the website settings and confirm their validity.</p>
<p>The system only offers the service when translating pages and resource strings if the <i class=" ">IsAvailable</i> method returns a <i class=" ">true</i> value.</p>
            </td>
        </tr>
</tbody>        </table>
            </div><div class="sp-grid-section"></div></div><div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882111_creatingmachinetranslationservices-definingmachineserviceclasses">Defining machine service classes</a></p>
</li><li class=" "><p><a href="#src-68882111_creatingmachinetranslationservices-registeringmachineservicesinthesystem">Registering machine services in the system</a></p>
</li><li class=" "><p><a href="#src-68882111_creatingmachinetranslationservices-result">Result</a></p>
</li></ul><p></p>
        </div>
    </div></div></div>

    
    
<p></p>
    <div class="confbox admonition admonition-info">
                    <p class="title">Kentico EMS required</p>
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>Features described on this page require the <strong class=" ">Kentico EMS</strong> license.</p>
        </div>
    </div>
<p></p>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Defining machine service classes</span></h3>
<p>This example demonstrates how to write a class providing functionality for a machine translation service. The sample class does not use a real translation service, it only converts the source text to upper case. When creating your own classes, replace the code of the methods with your own translation logic or call the API of the appropriate web service.</p>
<ol class=" "><li class=" "><p>Open your web project in Visual Studio.</p>
</li><li class=" "><p>Add a new class into the <strong class=" ">App_Code</strong> folder (or <strong class=" ">Old_App_Code</strong><i class=" "> </i>on web application installations). For example, name the class <strong class=" ">SampleMachineTS.cs</strong>.</p>
</li><li class=" "><p>Edit the class and change its code to the following:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">using System;</code></div>
<div class="line"><code class="plain">using System.IO;</code></div>
<div class="line"><code class="plain"> </code></div>
<div class="line"><code class="plain">using CMS.TranslationServices;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="comments">/// Sample machine translation service.</code></div>
<div class="line"><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> SampleMachineTS : AbstractMachineTranslationService</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Translates the specified text from the source language to the target language.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Must return the translated text as a string.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;param name="text"&gt;Text to translate&lt;/param&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;param name="sourceLang"&gt;Source language culture code&lt;/param&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;param name="targetLang"&gt;Target language culture code&lt;/param&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> override string Translate(string text, string sourceLang, string targetLang)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// "Translates" the text to upper case.</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> text.ToUpper();</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Automatically attempts to detect the language of the source text.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Returns the culture code of the detected language.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;param name="text"&gt;Text to be processed&lt;/param&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> override string Detect(string text)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// Use your service to detect the language. This example always returns English. </code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> </code><code class="string">"en-US"</code><code class="plain">;</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Returns a stream of sound generated by text-to-speech services (if supported).</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;param name="text"&gt;Text to be processed&lt;/param&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;param name="lang"&gt;Culture code of the text's language&lt;/param&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> override Stream Speak(string text, string lang)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// This service provider does not support Text-to-speech.</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">throw</code><code class="plain"> </code><code class="keyword">new</code><code class="plain"> NotImplementedException();</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Checks the necessary prerequisities needed for the service to work,</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// e.g. availability of credentials for connecting to the service etc.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> override bool IsAvailable()</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// This sample provider does not require any settings and does not depend on</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// any other services, therefore is always available.</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> </code><code class="keyword">true</code><code class="plain">;</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}&nbsp;</code></div>
</div>
    </div>
<p>The system calls the methods of the class as needed when the given translation service is used.<br>    <span style="color: #ffffff;">
_    </span>
</p>
</li><li class=" "><p>Follow the instructions on the <a href="loading-translation-service-classes-from-app_code">Loading translation service classes from App_Code</a> page to ensure that the application can access the custom class.</p>
</li></ol>    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Registering machine services in the system</span></h3>
<p>Once you have implemented the class with the required functionality, you need to register the translation service:</p>
<ol class=" "><li class=" "><p>Log in to the Kentico administration interface.</p>
</li><li class=" "><p>Open the <strong class=" ">Translation services</strong> application.</p>
</li><li class=" "><p>Click <strong class=" ">New translation service</strong>.</p>
</li><li class=" "><p>Enter the following values into the service's <a href="reference---translation-service-properties">properties</a>:<br><br></p>
<ul class=" "><li class=" "><p><strong class=" ">Display name</strong>: Sample machine service</p>
</li><li class=" "><p><strong class=" ">Code name</strong>: Leave the <i class=" ">(automatic)</i> option. The system generates the code name as <i class=" ">SampleMachineService</i> (based on the display name).</p>
</li><li class=" "><p><strong class=" ">Service provider - Assembly name</strong>: (custom classes)</p>
</li><li class=" "><p><strong class=" ">Service provider - Class</strong>: SampleMachineTS</p>
</li><li class=" "><p><strong class=" ">Is machine translation service</strong>: Yes (checked)</p>
</li><li class=" "><p><strong class=" ">Service is enabled</strong>: yes (checked)<br><br></p>
</li></ul></li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li></ol><p>The service is now ready to be used.</p>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Result</span></h3>
<p>When submitting pages for translation, users can select the <strong class=" ">Sample machine service</strong> as one of the translation service options. Using this option creates the new language version of the page as a copy of the original content, with all characters converted to upper case.</p>
<p>Users can also call the custom translation service when localizing <a href="working-with-resource-strings">resource strings</a>.</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68882111/Sample_Machine_Service_Strings.png" alt="images/download/attachments/68882111/Sample_Machine_Service_Strings.png" width="500">
        <br><span class="caption">'Translating' a resource string using the sample service</span>
    </p>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Changing the translation service icon</strong></p>
<p>The system uses font icons for the graphics representing machine translation services in the localization dialog. If you wish to change the icon of your custom machine service, <a href="working-with-font-icons">add a font icon</a> using a class name in the following format: <i class=" "><strong class=" ">icon-&lt;translation service code name&gt;</strong></i></p>
        </div>
    </div>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>