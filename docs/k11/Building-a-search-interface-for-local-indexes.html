<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Building a search interface for local indexes - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68881995"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Configuring-Kentico.html">Configuring Kentico</a></li>
                                                                                                         <li class="shortcut"><a href="Setting-up-search-on-your-website.html">Setting up search on your website</a></li>
                                                                                     <li><a href="Using-locally-stored-search-indexes.html">Using locally stored search indexes</a></li>
                                                            </ul>
</div>            <h1 id="src-68881995"> <span>Building a search interface for local indexes</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="section-left"><p>Kentico provides a set of smart search <a href="using-and-configuring-web-parts">web parts</a> that you can use to build a search interface on the pages of your website.</p><div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Important</strong>: The default search web parts only work with <a href="using-locally-stored-search-indexes">locally stored indexes</a>. When using <a href="using-azure-search">Azure Search indexes</a>, you need to build the search components yourself according to your website's requirements. See <a href="integrating-azure-search-into-pages">Integrating Azure Search into pages</a> for more information.</p>
        </div>
    </div><p>You can find the smart search web parts in the <strong class=" ">Full-text search -&gt; Smart search</strong> category.</p><p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881995/SmartSearch_WebParts.png" alt="images/download/attachments/68881995/SmartSearch_WebParts.png" width="500">
        <br><span class="caption">Smart search web parts</span>
    </p><div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong>: This page only describes the most important properties of search web parts. For a complete list and explanations of the web part properties, configure one of the web parts in the <i class=" ">Pages</i> application and click the help icon in the top right corner of the configuration dialog.</p>
        </div>
    </div></div>
    


    
    <div class="section-right"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68881995_buildingasearchinterfaceforlocalindexes-smartsearchdialogwithresults">Smart search dialog with results</a></p>
</li><li class=" "><p><a href="#src-68881995_buildingasearchinterfaceforlocalindexes-smartsearchdialog">Smart search dialog</a></p>
</li><li class=" "><p><a href="#src-68881995_buildingasearchinterfaceforlocalindexes-smartsearchbox">Smart search box</a></p>
</li><li class=" "><p><a href="#src-68881995_buildingasearchinterfaceforlocalindexes-smartsearchresults">Smart search results</a></p>
</li><li class=" "><p><a href="#src-68881995_buildingasearchinterfaceforlocalindexes-smartsearchfilter">Smart search filter</a></p>
</li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="using-and-configuring-web-parts">Using and configuring web parts</a></p>
</li><li class=" "><p><a href="displaying-local-index-search-results-using-transformations">Displaying local index search results using transformations</a></p>
</li><li class=" "><p><a href="setting-up-predictive-search-using-local-indexes">Setting up predictive search using local indexes</a></p>
</li></ul>        </div>
    </div></div>
    
    <h3 id="src-68881995_Buildingasearchinterfaceforlocalindexes-Smartsearchdialogwithresults" class="heading "><span>Smart search dialog with results</span></h3>
<p>The Smart search dialog with results is an all-in-one web part that:</p>
<ul class=" "><li class=" "><p>Allows users to search</p>
</li><li class=" "><p>Displays the results</p>
</li></ul><p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881995/image2013-3-12-12_9_6.png" alt="images/download/attachments/68881995/image2013-3-12-12_9_6.png" width="500">
        <br><span class="caption">Smart search dialog with results web part</span>
    </p>
<p>The following properties are the most important for setting up the smart search:</p>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Property name</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Indexes</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Determines which <a href="creating-local-search-indexes">indexes</a> the search uses. You can select multiple search indexes.</p>
<p><strong class=" ">Note</strong>: The web part only allows you to select <a href="using-locally-stored-search-indexes">locally stored search indexes</a>.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Transformation name</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Name of the <a href="displaying-local-index-search-results-using-transformations">transformation</a> that displays the search results.</p>
<p>There are two default transformations suitable for this purpose:</p>
<ul class=" "><li class=" "><p><strong class=" ">CMS.Root.SmartSearchResults</strong></p>
</li><li class=" "><p><strong class=" ">CMS.Root.SmartSearchResultsWithImages</strong></p>
</li></ul>            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Search options</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets the level of syntax that is allowed in search expressions:</p>
<ul class=" "><li class=" "><p><strong class=" ">Basic</strong> –<strong class=" "> </strong>users are allowed to input special syntax, but cannot search specific fields.</p>
</li><li class=" "><p><strong class=" ">None</strong> – users can only enter text, everything is processed as a part of the search expression.</p>
</li><li class=" "><p><strong class=" ">Full</strong> – all search options can be used, including field searching.</p>
</li></ul><p>See: <a href="smart-search-syntax">Smart search syntax</a></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Search condition</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets a condition that is added to any submitted search expressions. The condition is built using the smart search syntax, i.e. special symbols (+ -) and field conditions.</p>
<p>For example: <i class=" ">+articleid:[(int)25 TO (int)150]</i></p>
<p>Note: To be usable in search conditions, fields must have the <strong class=" ">Searchable</strong> option enabled in the <strong class=" ">Local</strong> search field configuration of individual object types.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Search sort</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Defines the order in which search results are displayed.</p>
<p>You can specify one or more search fields (separated by commas) according to which the results will be sorted. Use the ##SCORE## macro to order results by their score (relevance). The default order is ascending — you can reverse the order by adding the DESC keyword (e.g. articleid DESC).</p>
<p>If you encounter the "Field &lt;fieldname&gt; does not appear to be indexed" error when using multiple indexes, try specifying the type of the field, for example: <i class=" ">(date)documentcreatedwhen</i></p>
<p>Note: To be usable in search sort expressions, fields must have the <strong class=" ">Searchable</strong> option enabled in the <strong class=" ">Local</strong> search field configuration of individual object types. Additionally, we recommend having the <strong class=" ">Tokenized</strong> option disabled for the fields (dividing the field's value into searchable tokens may interfere with the sorting).</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <h3 id="src-68881995_Buildingasearchinterfaceforlocalindexes-Smartsearchdialog" class="heading "><span>Smart search dialog</span></h3>
<p>The Smart search dialog allows visitors to submit search requests and select the <a href="configuring-search-assistance-features-for-local-indexes">Search mode</a>.</p>
<p>You need to place the dialog on a page together with the <strong class=" ">Smart search results</strong> web part. The combined functionality of the two web parts is nearly identical to the <strong class=" ">Smart search dialog with results</strong>. Using separate web parts allows you to place the dialog and results into different locations on the page.</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881995/image2013-3-12-12_18_12.png" alt="images/download/attachments/68881995/image2013-3-12-12_18_12.png" width="412" height="121">
        <br><span class="caption">Smart search dialog web part</span>
    </p>
<p>If you enable the dialog's <strong class=" ">Show only search button</strong> property, the web part only displays the submit button without the search textbox and mode selector. This functionality is intended for scenarios that utilize <a href="adding-filters-for-local-search-indexes">Smart search filters</a> to specify all of the search parameters. You can add the textbox separately from the search button by connecting a <strong class=" ">Smart search filter</strong> web part in <i class=" ">textbox</i> mode.</p>
    <h3 id="src-68881995_Buildingasearchinterfaceforlocalindexes-Smartsearchbox" class="heading "><span>Smart search box</span></h3>
<p>The Smart search box allows visitors to submit search requests. The search box is useful for pages that have limited space and are not primarily dedicated to searching. For example, you can add a search box to your website's main header. The web part handles search requests by redirecting users to a different page, where the <strong class=" ">Smart search results</strong> or <strong class=" ">Smart search dialog with results</strong> web part displays the results.</p>
<p>You can configure the Smart search box to <i class=" "><strong class=" ">display results instantly while users type the search text</strong></i>. See <a href="setting-up-predictive-search-using-local-indexes">Setting up predictive search using local indexes</a> for more information.</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881995/image2013-3-12-12_19_57.png" alt="images/download/attachments/68881995/image2013-3-12-12_19_57.png" width="219" height="52">
        <br><span class="caption">Smart search box web part</span>
    </p>
    <h3 id="src-68881995_Buildingasearchinterfaceforlocalindexes-Smartsearchresults" class="heading "><span>Smart search results</span></h3>
<p>The Smart search results web part displays the results of search requests sent from <strong class=" ">Smart search box</strong> or <strong class=" ">Smart search dialog</strong> web parts.</p>
<p>To connect the search box or dialog to the search results:</p>
<ul class=" "><li class=" "><p><strong class=" ">Search dialog</strong> – place the dialog on the same page as the search results, copy the <i class=" ">Web part control ID</i> of the search results web part into the dialog's <i class=" ">Result webpart ID</i> property.</p>
</li><li class=" "><p><strong class=" ">Search box</strong> – enter the relative URL of the page containing the search results into the search box web part's <i class=" ">Search results page URL</i> property.</p>
</li></ul><p>You can configure the Smart search results using the properties described for the Smart search dialog with results.</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881995/image2013-3-12-12_25_29.png" alt="images/download/attachments/68881995/image2013-3-12-12_25_29.png" width="500">
        <br><span class="caption"> Smart search results web part</span>
    </p>
    <h3 id="src-68881995_Buildingasearchinterfaceforlocalindexes-Smartsearchfilter" class="heading "><span>Smart search filter</span></h3>
<p>The Smart search filter web part allows users to set parameters that affect the scope of the search or the order of the displayed results. You can also use the search filter to add a separate search textbox to pages.</p>
<p>See <a href="adding-filters-for-local-search-indexes">Adding filters for local search indexes</a> for more information.</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881995/image2013-3-12-12_27_42.png" alt="images/download/attachments/68881995/image2013-3-12-12_27_42.png" width="279" height="52">
        <br><span class="caption">Smart search filter web part in radiobutton mode</span>
    </p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>