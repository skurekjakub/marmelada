<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Working with order discounts - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260" elementpageid="68881360">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68881360"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="E-commerce-features.html">E-commerce features</a></li>
                                                                                                         <li class="shortcut"><a href="Managing-your-store.html">Managing your store</a></li>
                                                                                     <li><a href="Discounts.html">Discounts</a></li>
                                                            </ul>
</div>            <h1 id="src-68881360"> <span>Working with order discounts</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="sp-grid-cell sp-grid-60"><p>Order discounts in Kentico reduce the overall price of entire orders by a percentage. You can use order discounts to motivate selected customers to purchase more <a href="products">products</a>. For example, order discounts are particularly suitable:</p><ul class=" "><li class=" "><p>During special seasons, for example Christmas</p>
</li><li class=" "><p>For the first <a href="orders">order</a> made by customers</p>
</li><li class=" "><p>For orders with a total price exceeding a specific amount of money</p>
</li><li class=" "><p>For customers who spend a certain amount of money in your store or buy selected products</p>
</li></ul><p>Order discounts are dynamically configurable, and you can adjust them via rules and conditions according to your needs. These rules are based on properties of the customer's shopping cart and can include the shopping cart content, billing/shipping address, order currency, etc. You can also specify periods of validity.</p><p>When calculating the price of a shopping cart or order, the system applies order discounts to the sum of all purchased products <strong class=" ">after</strong> processing other types of <a href="discounts">discounts</a>, but <strong class=" ">before</strong> adding <a href="configuring-shipping-options">shipping costs</a> and <a href="configuring-taxes">taxes</a>.</p><div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Order discounts on instances with multiple sites<br></strong></p>
<p>If you run <a href="choosing-site-or-global-e-commerce-configuration">multiple sites</a>, each site has its own set of order discounts. Therefore, if you want to use the same discount on multiple sites, you need to create it on all of the given sites.</p>
        </div>
    </div></div>


    
    <div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68881360_workingwithorderdiscounts-addingandeditingorderdiscounts">Adding and editing order discounts</a></p>
</li><li class=" "><p><a href="#src-68881360_workingwithorderdiscounts-displayingorderdiscountvaluestocustomers">Displaying order discount values to customers</a></p>
</li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p class="with-breadcrumbs"><a href="working-with-coupon-codes">Working with coupon codes</a></p>
</li><li class=" "><p><a href="configuring-discount-rules">Configuring discount rules</a></p>
</li><li class=" "><p><a href="example---applying-a-coupon-code-to-receive-a-discount-on-your-order">Example - Applying a coupon to receive a discount on your order</a></p>
</li><li class=" "><p class="with-breadcrumbs"><a href="adding-a-discount-rule-with-a-custom-method">Example - Adding an order rule</a></p>
</li></ul>        </div>
    </div></div>
    
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Adding and editing order discounts</span></h3>
<p>You can add or edit order discounts in the <strong class=" ">Order discounts</strong> application.</p>
<p></p>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Effects of discount modification on already existing orders</strong></p>
<p>If you edit or delete a discount, existing orders do not change and remain with the original discount. To update existing orders according to the new rules, you need to edit the orders manually.</p>
        </div>
    </div>
<p></p>
<p>To create or edit an order discount:</p>
<ol class=" "><li class=" "><p><a href="getting-familiar-with-the-e-commerce-solution">Open</a> the <strong class=" ">Order discounts</strong> application.</p>
</li><li class=" "><p>To add a new discount, click <strong class=" ">New order discount</strong>. To edit an existing discount, click <strong class=" ">Edit</strong> (<img class="confluence-embedded-image" src="images/download/attachments/68879208/edit.png" alt="images/download/attachments/68879208/edit.png">
) next to the given discount.</p>
</li><li class=" "><p class="auto-cursor-target">Set the discount's properties:</p>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>General</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Name</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>The name of the order discount displayed in the administration interface, shopping cart, invoices, etc.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Code name</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>The unique identifier of the order discount (for example used by developers in custom code).</p>
<p>Unless there is a reason to set a particular value, you can leave the default <i class=" ">(automatic)</i> option, and the system generates an appropriate code name automatically.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>You can add an explanation about the scenarios for which the order discount is intended. The description does not affect the discount's functionality, apart from providing information to store managers working in the <i class=" ">Order discounts</i> application.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Enabled</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Indicates whether the order discount is available for use by customers. If the check box is cleared, the order discount cannot be applied.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Discount value</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Amount</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets the percentage by which the discount reduces the price of orders. The amount must be a valid decimal number between 0 and 100.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Discount conditions</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Minimum order amount</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Specifies the minimum price total that orders must have for the discount to be applicable. The price is evaluated <strong class=" ">before</strong> the system adds <a href="configuring-shipping-options">shipping costs</a> and <a href="configuring-taxes">taxes</a> to the order total.</p>
<p>Set the value in the site's <a href="configuring-currencies">main currency</a>.</p>
<p>If you leave an empty value, all orders are eligible for the order discount unless limited by the <strong class=" ">Further conditions</strong> field.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Further conditions</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Adds further conditions that must be fulfilled to apply the order discount.</p>
<p>Click <strong class=" ">Edit</strong> to open the <strong class=" ">Edit macro condition</strong> dialog, which allows you to add conditions through a graphical interface.</p>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881360/selecting_discount_rules.png" alt="images/download/attachments/68881360/selecting_discount_rules.png" width="500">
        <br><span class="caption">Selecting the discount rules</span>
    </p>
<ul class=" "><li class=" "><p>To add rules to the condition, double-click rules on the right or click <strong class=" ">Add rule</strong> (<img class="confluence-embedded-image confluence-external-resource" src="images/docs.kentico.com/download/attachments/57442434/left.png" alt="images/docs.kentico.com/download/attachments/57442434/left.png">
).</p>
</li><li class=" "><p>To remove a rule from the condition, select it and click <strong class=" ">Delete</strong> (<img class="confluence-embedded-image confluence-external-resource" src="images/docs.kentico.com/download/attachments/57442434/delete_cross.png" alt="images/docs.kentico.com/download/attachments/57442434/delete_cross.png">
). Click <strong class=" ">Clear all rules</strong> (<img class="confluence-embedded-image confluence-external-resource" src="images/docs.kentico.com/download/attachments/57442434/clear.png" alt="images/docs.kentico.com/download/attachments/57442434/clear.png">
) to remove all added rules.</p>
</li><li class=" "><p>Click on underlined words in the rule text to configure various rule options:<br></p>
<img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68881360/specifying_rule_parameters.png" alt="images/download/attachments/68881360/specifying_rule_parameters.png" width="500">
        <br><span class="caption">Specifying the rule parameters</span>
    </li></ul><p>If you are a developer, conditions are <a href="macro-expressions">Kentico macros</a>, and you can edit them directly on the <strong class=" ">Code</strong> tab in the <strong class=" ">Edit macro condition</strong> dialog.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Coupons</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Customer has to redeem a coupon to get the discount</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If selected, only customers who enter a valid coupon code are able to apply the discount.</p>
<p>You can define coupon codes on the <strong class=" ">Coupons</strong> tab. See <a href="working-with-coupon-codes">Working with coupon codes</a> to learn more.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Duration</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Valid from</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Specifies the time and date from which the discount can be applied. If you leave the value empty, the discount can be applied at any time before the <strong class=" ">Valid to</strong> date.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Valid to</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Specifies the time and date until which the discount can be applied. If you leave the value empty, the discount is valid permanently (starting from the <strong class=" ">Valid from</strong> date).</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Target customers</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Available for</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Determines which types of users are able to apply the discount:</p>
<ul class=" "><li class=" "><p><strong class=" ">All visitors</strong> – all customers are eligible for the discount.</p>
</li><li class=" "><p><strong class=" ">Registered users</strong> – only <a href="customers">registered customers</a> are eligible for the discount.</p>
</li><li class=" "><p><strong class=" ">Registered users in selected roles</strong> – only registered customers in selected <a href="role-management">roles</a> are eligible for the discount. To add roles:<br></p>
<ol class=" "><li class=" "><p>Click<strong class=" "> Select </strong>to open the <strong class=" ">Select roles</strong> dialog.</p>
</li><li class=" "><p>Select the required roles.</p>
</li><li class=" "><p>Click <strong class=" ">Select</strong>.</p>
</li></ol></li></ul>    <div class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>You can add registered customers to roles in the <strong class=" ">Customers</strong> application while editing customers on the <strong class=" ">Roles</strong> tab.</p>
        </div>
    </div>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="2">
    <p>Discount processing</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Priority</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Determines the sequence in which the system applies order discounts. The priority must be a number greater than or equal to 1. Enter <i class=" ">1</i> for the highest priority.</p>
    <div class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Tip</strong>: Keep intervals between priority numbers. If you want to add a new discount between two existing ones, it is easier if their priority values are 10 and 20 rather than 1 and 2. If necessary, you can use decimal numbers to set priorities between whole numbers.</p>
        </div>
    </div>
<p>The priority determines how the system combines multiple order discounts:</p>
<ul class=" "><li class=" "><p>Discounts on the same level use additive stacking – all discounts are calculated from the same base price.</p>
</li><li class=" "><p>Discounts on different levels use multiplicative stacking – discounts are calculated based on the reduced price of the previous priority level.</p>
</li></ul><p>Examples:</p>
<ul class=" "><li class=" "><p>Two 5% discounts with the same priority – the total order discount is 10%.</p>
</li><li class=" "><p>A 10% discount with priority 1 and 10% discount with priority 2 – the total discount is 19% (10% for the first discount, then 10% calculated from the reduced 90% price for the second discount).</p>
</li></ul>            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Apply lower priority discounts</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If selected, other order discounts with lower priority can be applied to the order as well.</p>
<p>If the check box is cleared, the system processes order discounts from the top priority level (1) to the level of the edited discount (including other discounts with the same level) and then stops.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
</li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li><li class=" "><p>If you have enabled the <strong class=" ">Customer has to redeem a coupon to get the discount</strong> option, switch to the <strong class=" ">Coupons</strong> tab and generate coupon codes. See <a href="working-with-coupon-codes">Working with coupon codes</a> for more information.</p>
</li></ol><p>If enabled and valid, the system applies the order discount to orders that fulfill the configured conditions.</p>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Displaying order discount values to customers</span></h3>
<p>In <a href="configuring-invoices">invoices</a> and other <a href="configuring-e-commerce-email-notifications">e-commerce notification emails</a>, you can show the values of applied order discounts by including the <i class=" ">{%OrderDiscount%}</i> or <i class=" ">{%OrderDiscountSummary%}</i> macros in the corresponding templates.</p>
<p>To display the price total of applied order discounts on your store's <a href="checkout-process">checkout</a> pages, use the <a href="configuring-the-shopping-cart-totals-web-part">Shopping cart totals web part</a> with the <strong class=" ">Total to display</strong> property set to <i class=" ">Order discounts total</i>.</p>
<p>If you wish to display detailed information including the names of individual order discounts, use the <strong class=" ">Static text</strong> web part with the <i class=" ">{%ECommerceContext.CurrentShoppingCart.<i class=" ">OrderDiscountSummary</i>%}</i> macro. See: <a href="displaying-shopping-cart-details-on-pages">Displaying shopping cart details on pages</a></p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>