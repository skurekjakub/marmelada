<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Defining local page indexes - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260" elementpageid="68882020">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15">
                    <input type="submit" style="display:none" tabindex="-4">
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo">
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68882020"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Configuring-Kentico.html">Configuring Kentico</a></li>
                                                                                                         <li class="shortcut"><a href="Setting-up-search-on-your-website.html">Setting up search on your website</a></li>
                                                                                                         <li class="shortcut"><a href="Using-locally-stored-search-indexes.html">Using locally stored search indexes</a></li>
                                                                                     <li><a href="Creating-local-search-indexes.html">Creating local search indexes</a></li>
                                                            </ul>
</div>            <h1 id="src-68882020"> <span>Defining local page indexes</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<div class="sp-grid-cell sp-grid-60"><p>You can use two types of locally stored search indexes for the pages of websites (i.e. pages in the content tree):</p><div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Pages</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Index the following page data:</p>
<ul class=" "><li class=" "><p>The content of text web parts placed on pages (<i class=" ">Editable text</i>, <i class=" ">Static text</i> and similar)</p>
</li><li class=" "><p>Page metadata</p>
</li><li class=" "><p>Selected fields of individual page types (see <a href="#src-68882020_defininglocalpageindexes-configuringsearchsettingsforpagefields">Configuring search settings for page fields</a>)</p>
</li></ul><p><strong class=" ">Note</strong>: Pages indexes do NOT include the text of other pages or objects displayed through web parts (such as the content of News page displayed through a <i class=" ">Repeater</i> web part).</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Pages crawler</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Directly parse the HTML output generated by pages, which allows the search to find any text located on pages. Crawler indexes provide more accurate searches of page content than standard <strong class=" ">Pages </strong>indexes. However, building and updating crawler indexes may require more time and resources, particularly in the case of large indexes and complex pages.</p>
<p>See also: <a href="#src-68882020_defininglocalpageindexes-configuringpagecrawlerindexes">Configuring page crawler indexes</a></p>
            </td>
        </tr>
</tbody>        </table>
            </div><div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Note</strong>: Page indexes only cover pages that are <a href="using-workflows">published</a> on the live site.</p>
        </div>
    </div><p>To define which pages an index covers, specify allowed or excluded content:</p><ol class=" "><li class=" "><p>Open the <strong class=" ">Smart search</strong> application.</p>
</li><li class=" "><p>Select the <strong class=" ">Local indexes</strong> tab.</p>
</li><li class=" "><p>Edit (<img class="confluence-embedded-image" src="images/download/attachments/68879208/edit.png" alt="images/download/attachments/68879208/edit.png">
) the index.</p>
</li><li class=" "><p>Select the <strong class=" ">Indexed content</strong> tab.</p>
</li><li class=" "><p>Click <strong class=" ">Add allowed content</strong> or <strong class=" ">Add excluded content</strong>.</p>
</li><li class=" "><p>Open the <strong class=" ">Sites</strong> tab and assign the websites where you wish to use the index.</p>
</li><li class=" "><p>Switch to the <strong class=" ">Cultures</strong> tab and select which language versions of the website's pages are indexed.</p>
<ul class=" "><li class=" "><p>At least one culture must be assigned in order for the index to be functional.</p>
</li></ul></li></ol><p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68882020/Indexed_Content_Documents.png" alt="images/download/attachments/68882020/Indexed_Content_Documents.png" width="500">
        <br><span class="caption">Specifying allowed or excluded content for a page index</span>
    </p></div>
    
    


    <div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="sp-grid-cell sp-grid-40 sp-grid-sidebar"><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882020_defininglocalpageindexes-addingallowedcontent">Adding allowed content</a></p>
</li><li class=" "><p><a href="#src-68882020_defininglocalpageindexes-addingexcludedcontent">Adding excluded content</a></p>
</li><li class=" "><p><a href="#src-68882020_defininglocalpageindexes-configuringsearchsettingsforpagefields">Configuring search settings for page fields</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882020_safe-id-rgvmaw5pbmdsb2nhbhbhz2vpbmrlegvzlvnlvshwcm9kdwn0kwfuzgdlbmvyywxwywdlzmllbgrz">SKU (product) and general page fields</a></p>
</li></ul></li><li class=" "><p><a href="#src-68882020_defininglocalpageindexes-configuringpagecrawlerindexes">Configuring page crawler indexes</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882020_safe-id-rgvmaw5pbmdsb2nhbhbhz2vpbmrlegvzlun1c3rvbwl6aw5nag93y3jhd2xlcnnwcm9jzxnzcgfnzwnvbnrlbnqoqvbjkq">Customizing how crawlers process page content (API)</a></p>
</li></ul></li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="creating-local-search-indexes">Creating local search indexes</a></p>
</li><li class=" "><p><a href="creating-azure-search-indexes">Creating Azure Search indexes</a></p>
</li></ul>        </div>
    </div></div><div class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882020_defininglocalpageindexes-addingallowedcontent">Adding allowed content</a></p>
</li><li class=" "><p><a href="#src-68882020_defininglocalpageindexes-addingexcludedcontent">Adding excluded content</a></p>
</li><li class=" "><p><a href="#src-68882020_defininglocalpageindexes-configuringsearchsettingsforpagefields">Configuring search settings for page fields</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882020_safe-id-rgvmaw5pbmdsb2nhbhbhz2vpbmrlegvzlvnlvshwcm9kdwn0kwfuzgdlbmvyywxwywdlzmllbgrz">SKU (product) and general page fields</a></p>
</li></ul></li><li class=" "><p><a href="#src-68882020_defininglocalpageindexes-configuringpagecrawlerindexes">Configuring page crawler indexes</a></p>
<ul class="toc-indentation "><li class=" "><p><a href="#src-68882020_safe-id-rgvmaw5pbmdsb2nhbhbhz2vpbmrlegvzlun1c3rvbwl6aw5nag93y3jhd2xlcnnwcm9jzxnzcgfnzwnvbnrlbnqoqvbjkq">Customizing how crawlers process page content (API)</a></p>
</li></ul></li></ul><p></p>
        </div>
    </div><div class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p><a href="creating-local-search-indexes">Creating local search indexes</a></p>
</li><li class=" "><p><a href="creating-azure-search-indexes">Creating Azure Search indexes</a></p>
</li></ul>        </div>
    </div></div>
    
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Adding allowed content</span></h3>
<p>Allowed content defines which of the website's pages are included in the index. Specify pages using a combination of the following options:</p>
<ul class=" "><li class=" "><p><strong class=" ">Path</strong> – <a href="writing-page-path-expressions">path expression</a> identifying the pages that should be indexed.</p>
</li><li class=" "><p><strong class=" ">Page types</strong> – allows you to limit which <a href="page-types">page types</a> are included in the index.</p>
</li></ul><p>The following properties define types of additional content that you can include in <i class=" ">Page </i>search indexes. The settings are not available for <i class=" ">Pages crawler</i> indexes:</p>
<ul class=" "><li class=" "><p><strong class=" ">Include ad-hoc forums</strong> – includes the content of ad-hoc <a href="forums">forums</a> placed on the specified pages (if there are any).</p>
</li><li class=" "><p><strong class=" ">Include blog comments</strong> – includes blog comments posted for blog post pages.</p>
</li><li class=" "><p><strong class=" ">Include message boards</strong> – includes message boards placed on the specified pages.<br><br></p>
</li><li class=" "><p><strong class=" ">Include attachment content</strong> – if selected, the index includes the text content of files attached to the specified pages. See <a href="searching-attachment-files">Searching attachment files</a> for more information.</p>
</li><li class=" "><p><strong class=" ">Include categories</strong> – if selected, the index stores the display names of <a href="categorizing-pages">Categories</a> assigned to the specified pages. This allows users to find pages that belong to categories whose name matches the search expression.</p>
</li></ul>    <h5 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Examples</span></h5>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Allowed content settings</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Result</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <ul class=" "><li class=" "><p><strong class=" ">Path</strong>: /%</p>
</li><li class=" "><p><strong class=" ">Page types</strong>: empty</p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Indexes all pages on the site.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <ul class=" "><li class=" "><p><strong class=" ">Path: </strong>/Partners</p>
</li><li class=" "><p><strong class=" ">Page types</strong>: empty</p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Only indexes the <i class=" ">/Partners</i> page, without the child pages placed under it.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <ul class=" "><li class=" "><p><strong class=" ">Path</strong>: /%</p>
</li><li class=" "><p><strong class=" ">Page types</strong>: CMS.News</p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Indexes all pages of the <i class=" ">CMS.News</i> page type on the entire site.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <ul class=" "><li class=" "><p><strong class=" ">Path</strong>: /Products/%</p>
</li><li class=" "><p><strong class=" ">Page types</strong>: CMS.Smartphone;CMS.Laptop</p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Indexes all pages of the <i class=" ">CMS.Smartphone</i> and <i class=" ">CMS.Laptop</i> page types found under the <i class=" ">/Products</i> section.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Adding excluded content</span></h3>
<p>Excluded content allows you to remove pages or entire website sections from the allowed content. For example, if you allow <strong class=" ">/% </strong>and exclude <strong class=" ">/Special‑pages/%</strong> at the same time, the index will include all pages on the site except for the ones found under the <strong class=" ">/Special-pages</strong> node.</p>
<p>You can specify the following options:</p>
<ul class=" "><li class=" "><p><strong class=" ">Path</strong> – <a href="writing-page-path-expressions">path expression</a> identifying the pages that should be excluded.</p>
</li><li class=" "><p><strong class=" ">Page types</strong> – allows you to limit which <a href="page-types">page types</a> are excluded from the index.</p>
</li></ul>    <h5 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Examples</span></h5>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Excluded content settings</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Result</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <ul class=" "><li class=" "><p><strong class=" ">Path: </strong>/Partners</p>
</li><li class=" "><p><strong class=" ">Page types</strong>: empty</p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Excludes the <i class=" ">/Partners</i> page from the index. Child pages are not excluded.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <ul class=" "><li class=" "><p><strong class=" ">Path</strong>: /%</p>
</li><li class=" "><p><strong class=" ">Page types</strong>: CMS.News</p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Excludes all pages of the <i class=" ">CMS.News</i> page type from the index.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <ul class=" "><li class=" "><p><strong class=" ">Path</strong>: /Products/%</p>
</li><li class=" "><p><strong class=" ">Page types</strong>: CMS.Smartphone;CMS.Laptop</p>
</li></ul>            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Excludes all pages of the <i class=" ">CMS.Smartphone</i> and <i class=" ">CMS.Laptop</i> page types found under the <i class=" ">/Products</i> section from the index.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <div class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Excluding individual pages from all indexes</strong></p>
<p>You can also exclude specific pages from all smart search indexing:</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Pages</strong> application.</p>
</li><li class=" "><p>Select the given page in the content tree.</p>
</li><li class=" "><p>In <strong class=" ">Edit</strong> mode, open the <strong class=" ">Properties -&gt; Navigation</strong> tab.</p>
</li><li class=" "><p>Enable the <strong class=" ">Exclude from search</strong> property.</p>
</li><li class=" "><p>Click <strong class=" ">Save</strong>.</p>
</li></ol>        </div>
    </div>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Configuring search settings for page fields</span></h3>
<p>Pages are often complex data structures with many different fields. Not all fields may be relevant to the search that you are implementing. <a href="page-types">Page types</a> allow you to adjust how the system indexes specific fields. We recommend indexing only necessary fields to keep your indexes as small (and fast) as possible.</p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Pages crawler</strong> search indexes directly index the HTML output of pages. As a result, crawler indexes are not affected by the field settings of page types.</p>
        </div>
    </div>
<p>To edit the field search settings for page types:</p>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Page types</strong> application.</p>
</li><li class=" "><p>Edit (<img class="confluence-embedded-image" src="images/download/attachments/68879208/edit.png" alt="images/download/attachments/68879208/edit.png">
) a page type.</p>
</li><li class=" "><p>Open the <strong class=" ">Search fields</strong> tab.</p>
</li></ol><p>The options in the top part of the tab allow you to configure how the system displays pages of the given type in search results. Note that the final appearance of the search results always depends on the used <a href="displaying-local-index-search-results-using-transformations">search result transformation</a>.</p>
<ul class=" "><li class=" "><p><strong class=" ">Title field</strong> – select the page field whose value is used for the title of search results.</p>
</li><li class=" "><p><strong class=" ">Content field</strong> – the field whose value is used for the content extract of search results.</p>
</li><li class=" "><p><strong class=" ">Image field</strong> – the field that contains the image displayed in search results.</p>
</li><li class=" "><p><strong class=" ">Date field</strong> – the field whose value is used for the date and time displayed in search results.</p>
</li></ul><p>The grid in the bottom section of the tab determines how the smart search indexes the page type's fields (as defined on the <strong class=" ">Fields</strong> tab).</p>
<p>For <a href="using-locally-stored-search-indexes">locally stored search indexes</a>, only the options under the <strong class=" ">Local</strong> and <strong class=" ">General</strong> sections of the grid apply (to learn about Azure Search page indexes, see <a href="creating-azure-search-indexes">Creating Azure Search indexes</a>). You can set the following search options for individual fields:</p>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Content</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If selected, the content of the field is indexed and searchable in the standard way. Within search indexes, the values of all fields with the <i class=" ">Content</i> option enabled are combined into a system field named <strong class=" ">_content</strong> (this field is used to find or filter matching search items, but is NOT suitable for reading and displaying human-readable information such as search result extracts).</p>
<p>For the purposes of standard search, <i class=" ">Content</i> fields are automatically tokenized by the analyzer of the used search index.</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Searchable</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>If selected, the field is stored separately within indexes and its content can be searched using expressions in format:</p>
<p><i class=" ">&lt;field code name&gt;:&lt;searched phrase&gt;</i></p>
<p>See <a href="smart-search-syntax">Smart search syntax</a> for more information about field searches.</p>
<p>Fields must be set as <i class=" ">Searchable</i> to be usable in <a href="adding-filters-for-local-search-indexes">Search filters</a> and general search result filtering or ordering conditions (such as the <i class=" ">Search condition</i> and <i class=" ">Search sort</i> properties of Smart search result web parts)<a class="external-link" href="http://preview/Documentation/devguide/smart_search_filter.htm">.</a></p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Tokenized</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Relevant for <strong class=" ">Searchable</strong> fields. Indicates if the content of the field is processed by the analyzer when indexing. This allows the search to find results that match individual tokens (subsets) of the field's value. If disabled, the search only returns items if the full value of the field exactly matches the search expression.</p>
<p>If a field has both the <i class=" ">Content</i> and <i class=" ">Searchable</i> options enabled, the <i class=" ">Tokenized</i> option only affects the content used for field searches (content is always automatically tokenized for the purposes of standard search).</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Custom search name</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Relevant for <strong class=" ">Searchable</strong> fields. The specified value is used as a substitute for the field code name in <i class=" ">&lt;field code name&gt;:&lt;searched phrase&gt;</i> search expressions.</p>
<p><strong class=" ">Note</strong>: If you enter a Custom search name value, the original field name cannot be used.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p><img class="confluence-embedded-image confluence-content-image-border" src="images/download/attachments/68882020/Search_Fields_Documents.png" alt="images/download/attachments/68882020/Search_Fields_Documents.png" width="500">
        <br><span class="caption">Configuring a page type's search field settings for locally stored indexes</span>
    </p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p>After you <strong class=" ">Save</strong> changes of the field settings, you need to <strong class=" ">Rebuild</strong> all indexes that cover pages of the given type.</p>
        </div>
    </div>
<p>When running searches using page indexes, the system returns results according to the field search settings of individual page types. The page type search settings are shared by all page indexes in the system.</p>
    <h4 $stringutils.tolowercase(${idattribute})="" class="heading "><span>SKU (product) and general page fields</span></h4>
<p>To configure the field search settings for <a href="products">E-commerce SKUs</a> (products):</p>
    <div class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Warning</strong>: It is highly recommended to modify only the settings of custom SKU fields. Changing the settings of the default fields may prevent the system from searching through products correctly.</p>
        </div>
    </div>
<ol class=" "><li class=" "><p>Open the <strong class=" ">Modules</strong> application.</p>
</li><li class=" "><p>Edit (<img class="confluence-embedded-image" src="images/download/attachments/68879208/edit.png" alt="images/download/attachments/68879208/edit.png">
) the <strong class=" ">E-commerce</strong> module.</p>
</li><li class=" "><p>Open the <strong class=" ">Classes</strong> tab.</p>
</li><li class=" "><p>Edit the <strong class=" ">SKU</strong> class.</p>
</li><li class=" "><p>Select the <strong class=" ">Search</strong> tab.</p>
</li><li class=" "><p>Click <strong class=" ">Customize</strong>.</p>
</li></ol><p>You can configure the search settings for fields just like for page types. The SKU fields are joined together with general page fields, such as fields that store the content of editable regions on pages (<i class=" ">DocumentContent</i>) or the content of text widgets (<i class=" ">DocumentWebParts</i>).</p>
    <div class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p><strong class=" ">Important</strong>: The search settings of general fields affect all pages, even those that are not products.</p>
        </div>
    </div>
    <h3 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Configuring page crawler indexes</span></h3>
<p>Page crawler search indexes read the content of pages while logged in under a user account. You can configure the following properties for every page crawler index (on the <strong class=" ">General</strong> tab of the index editing interface):</p>
<p></p>
    <div class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col>
                                    <col>
                            </colgroup>
        <thead class=" ">    <tr>
            <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Index property</p>
            </td>
                <td class="confluenceTh" rowspan="1" colspan="1">
    <p>Description</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>User<br>    <span style="color: #ffffff;">
______________    </span>
</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets the user account that the crawler uses to index pages. Reading pages under a user allows the crawler to:</p>
<ul class=" "><li class=" "><p>Load user-personalized content for the given user</p>
</li><li class=" "><p>Avoid indexing of pages that the user is not allowed to access</p>
</li></ul><p>If empty, the index uses the user account specified in <strong class=" ">Settings -&gt; System -&gt; Default user ID</strong> (or the default <i class=" ">administrator</i> user account if the setting is empty).</p>
<p>On websites that use <a href="configuring-windows-ad-authentication">Windows authentication</a>, you need to type the user name (including the Active Directory domain in format <i class=" "><strong class=" ">domain\username</strong></i>) and password. To guarantee that the crawler indexes under the specified Active Directory user, the covered pages cannot be accessible by public users (i.e. Windows authentication must be required).</p>
<p><strong class=" ">Note</strong>: The specified user account <i class=" "><strong class=" ">must be enabled</strong></i> (content will not be indexed if the user is disabled).</p>
            </td>
        </tr>
    <tr>
            <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Domain</p>
            </td>
                <td class="confluenceTd" rowspan="1" colspan="1">
    <p>Sets the domain that the crawler uses when indexing sites. Enter the domain name without the protocol, for example: <i class=" ">www.domain.com</i></p>
<p>If empty, the crawler automatically uses the <a href="setting-domain-names-for-sites">main domain</a> of the site where the indexed pages belong.</p>
<p>For example, you can set a custom domain for <a href="setting-up-web-farms">web farm servers</a> that do not have access to the main domain.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
<p></p>
<p>By default, page crawlers also index pages that use redirection from the site's main domain name to a <a href="setting-domain-names-for-sites">domain alias</a>. To only allow indexing for pages that use the website's main domain, set the <strong class=" ">CMSCrawlerAllowSiteAliasRedirect</strong> key to <i class=" ">false</i> in your application's web.config file:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;</code><code class="keyword">add</code><code class="plain"> </code><code class="color1">key</code><code class="plain">=</code><code class="string">"CMSCrawlerAllowSiteAliasRedirect"</code><code class="plain"> </code><code class="color1">value</code><code class="plain">=</code><code class="string">"false"</code><code class="plain"> /&gt;</code></div>
</div>
    </div>
<p>The key applies to all page crawler indexes in the system.</p>
    <h4 $stringutils.tolowercase(${idattribute})="" class="heading "><span>Customizing how crawlers process page content (API)</span></h4>
<p>By default, the system converts the HTML output of pages to plain text before saving it to page crawler indexes:</p>
<ul class=" "><li class=" "><p>Strips all HTML tags</p>
</li><li class=" "><p>Removes the <i class=" ">Head</i> tag, <i class=" ">Style</i> tags and all JavaScript</p>
</li><li class=" "><p>Converts all whitespace formatting to simple spaces</p>
</li></ul><p>If you wish to index the content of any tags or exclude parts of the page output, you can customize how the crawlers process the HTML. You need to implement your custom functionality in a <a href="handling-global-events">handler</a> of the <strong class=" ">OnHtmlToPlainText</strong> event of the <strong class=" ">CMS.Search.SearchCrawler</strong> class. This event occurs whenever a page search crawler processes the HTML output of a page.</p>
<p>To assign a method as the handler for the <i class=" ">OnHTMLToPlainText</i> event, create a <a href="initializing-modules-to-run-custom-code">custom module class</a> and override its <strong class=" ">OnInit</strong> method. Either add the class into a custom project within the Kentico solution (recommended) or directly into the Kentico web project (into a custom folder under the <strong class=" ">CMSApp</strong> project for <i class=" ">web application</i> installations, into the <strong class=" ">App_Code</strong> folder for <i class=" ">web site</i> installations). For example, you can define the content of the class as shown below:</p>
    <div class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">using</code><code class="plain"> System.Web;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.DataEngine;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.Search;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.Helpers;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="comments">// Registers the custom module into the system</code></div>
<div class="line"><code class="plain">[assembly: RegisterModule(</code><code class="keyword">typeof</code><code class="plain">(CustomSearchCrawlerModule))]</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> CustomSearchCrawlerModule : Module</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">	</code><code class="comments">// Module class constructor, the system registers the module under the name "CustomSearchCrawler"</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">public</code><code class="plain"> CustomSearchCrawlerModule()</code></div>
<div class="line"><code class="plain">		: </code><code class="keyword">base</code><code class="plain">(</code><code class="string">"CustomSearchCrawler"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">	}    </code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Contains initialization code that is executed when the application starts</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">protected</code><code class="plain"> </code><code class="keyword">override</code><code class="plain"> </code><code class="keyword">void</code><code class="plain"> OnInit()</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">base</code><code class="plain">.OnInit();</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Assigns a handler for the OnHtmlToPlainText event</code></div>
<div class="line"><code class="plain">		SearchCrawler.OnHtmlToPlainText += </code><code class="keyword">new</code><code class="plain"> SearchCrawler.HtmlToPlainTextHandler(SearchHelper_OnHtmlToPlainText);</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">	</code><code class="comments">// Add your custom HTML processing actions and return the result as a string</code></div>
<div class="line"><code class="plain">	</code><code class="keyword">static</code><code class="plain"> </code><code class="keyword">string</code><code class="plain"> SearchHelper_OnHtmlToPlainText(</code><code class="keyword">string</code><code class="plain"> plainText, </code><code class="keyword">string</code><code class="plain"> originalHtml)</code></div>
<div class="line"><code class="plain">	{</code></div>
<div class="line"><code class="plain">		</code><code class="keyword">string</code><code class="plain"> outputResult = originalHtml;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Removes new line entities</code></div>
<div class="line"><code class="plain">		outputResult = outputResult.Replace(</code><code class="string">"\n"</code><code class="plain">, </code><code class="string">" "</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Removes tab spaces</code></div>
<div class="line"><code class="plain">		outputResult = outputResult.Replace(</code><code class="string">"\t"</code><code class="plain">, </code><code class="string">" "</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Removes JavaScript</code></div>
<div class="line"><code class="plain">		outputResult = HTMLHelper.RegexHtmlToTextScript.Replace(outputResult, </code><code class="string">" "</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Removes tags</code></div>
<div class="line"><code class="plain">		outputResult = HTMLHelper.RegexHtmlToTextTags.Replace(outputResult, </code><code class="string">" "</code><code class="plain">);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="comments">// Decodes HTML entities</code></div>
<div class="line"><code class="plain">		outputResult = HttpUtility.HtmlDecode(outputResult);</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">		</code><code class="keyword">return</code><code class="plain"> outputResult;</code></div>
<div class="line"><code class="plain">	}</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
<p>The <i class=" ">OnHTMLToPlainText</i> event provides the following string parameters to the handler:</p>
<ul class=" "><li class=" "><p><strong class=" ">plainText</strong> – the page output already stripped of all tags and converted to plain text</p>
</li><li class=" "><p><strong class=" ">originalHTML</strong> – the raw page HTML code without any modifications</p>
</li></ul>        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>


</body></html>