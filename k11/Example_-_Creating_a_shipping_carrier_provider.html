<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Example - Creating a shipping carrier provider - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico_11_Documentation_Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68881666"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico_11_Documentation_Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="E-commerce_features.html">E-commerce features</a></li>
                                                                                                         <li class="shortcut"><a href="Customizing_and_developing_your_store.html">Customizing and developing your store</a></li>
                                                                                     <li><a href="Shipping-related_customizing.html">Shipping-related customizing</a></li>
                                                            </ul>
</div>            <h1 id="src-68881666"> <span>Example - Creating a shipping carrier provider</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
        $page.content
<p   
>The example on this page demonstrates how to create a <a   href="Implementing_custom_shipping_carrier_providers.html">custom shipping carrier provider</a>. The sample carrier provider has the following features:</p>
<ul class=" "><li class=" "><p   
>Shipping costs are determined based on the country to which the order is shipped. The costs are defined directly in the code, without a user interface for setting the values.</p>
    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>If you want to have a user interface for configuring the shipping costs (or other options), you can create a configuration tab as described in <a   href="Implementing_custom_shipping_carrier_providers.html">Implementing custom shipping carrier providers</a> or <a   href="Creating_custom_tables.html">create a custom table</a> and use the custom table API to load the shipping cost values from the given table. Do not forget to <a   href="Configuring_caching.html">set caching</a> (you can use the <a   href="Caching_in_custom_code.html">CacheHelper</a> class).</p>
        </div>
    </div>
</li><li class=" "><p   
><a   href="Configuring_shipping_options.html">Shipping options</a> that use the sample <a   href="Configuring_shipping_carriers.html">shipping carrier</a> are available only for orders whose shipping address is in the USA, Canada or Mexico.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>If your site&#39;s <a   href="Configuring_steps_of_the_checkout_process.html">checkout process</a> has the <strong class=" ">Customer address</strong> web part (where customer enter the shipping address) and the <strong class=" ">Shipping option selection</strong> web part (where customers select the desired shipping option) on the same page, you need to enable the <strong class=" ">Propagate changes on postback</strong> property for the <strong class=" ">Customer address</strong> web part.</p>
<p   
>This ensures that when the customer changes the shipping country, the shipping options that the <strong class=" ">Shipping option selection</strong> web part offers are recalculated based on the selected shipping country.</p>
        </div>
    </div>
</li><li class=" "><p   
>Does NOT use a <a   href="Creating_installation_packages_for_modules.html">packageable module</a> for distribution to other instances. See <a   href="Example_-_Creating_a_packageable_module.html">Example - Creating a packageable module</a> to learn how to create a module package containing custom functionality (such as the shipping carrier provider).</p>
</li></ul>    <div  class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p   
><a   href="Implementing_custom_shipping_carrier_providers.html">Implementing custom shipping carrier providers</a></p>
</li><li class=" "><p   
><a   href="Configuring_shipping_carriers.html">Configuring shipping carriers</a></p>
</li><li class=" "><p   
><a   href="Configuring_shipping_options.html">Configuring shipping options</a></p>
</li></ul>        </div>
    </div>
<p   
>Start by preparing a separate project for custom classes in your Kentico solution:</p>
<ol class=" "><li class=" "><p   
>Open your Kentico solution in Visual Studio.</p>
</li><li class=" "><p   
>Create a new <i class=" ">Class Library</i> project in the Kentico solution (or reuse an existing custom project).</p>
</li><li class=" "><p   
>Add references to the required Kentico libraries (DLLs) for the new project:<br/></p>
<ol class=" "><li class=" "><p   
>Right-click the project and select <strong class=" ">Add -&gt; Reference</strong>.</p>
</li><li class=" "><p   
>Select the <strong class=" ">Browse</strong> tab of the <strong class=" ">Reference manager</strong> dialog, click <strong class=" ">Browse</strong> and navigate to the <i class=" "><strong class=" ">Lib</strong> </i>folder of your Kentico web project.</p>
</li><li class=" "><p   
>Add references to the following libraries (and any others that you may need in your custom code):</p>
<ul class=" "><li class=" "><p   
><strong class=" ">CMS.Base.dll</strong></p>
</li><li class=" "><p   
><strong class=" ">CMS.Core.dll</strong></p>
</li><li class=" "><p   
><strong class=" ">CMS.DataEngine.dll</strong></p>
</li><li class=" "><p   
><strong class=" ">CMS.Ecommerce.dll</strong></p>
</li><li class=" "><p   
><strong class=" ">CMS.Globalization.dll</strong></p>
</li><li class=" "><p   
><strong class=" ">CMS.Helpers.dll</strong></p>
</li></ul></li></ol></li><li class=" "><p   
>Reference the custom project from the Kentico web project <i class=" ">(CMSApp</i> or <i class=" ">CMS)</i>.</p>
</li><li class=" "><p   
>Edit the custom project&#39;s <strong class=" ">AssemblyInfo.cs</strong> file (in the <i class=" ">Properties</i> folder).</p>
</li><li class=" "><p   
>Add the <strong class=" ">AssemblyDiscoverable</strong> assembly attribute:<br/></p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">using</code><code class="plain"> CMS;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">[assembly:AssemblyDiscoverable]</code></div>
</div>
    </div>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>For custom shipping carrier provider classes, the <strong class=" ">AssemblyDiscoverable</strong> attribute is not required (the <strong class=" ">Carrier provider</strong> selector in the administration interface can find the class even without the attribute). However, we recommend adding the attribute to your custom Class Library project to ensure that other possible types of customizations work correctly if you (for example registration of custom modules, interface implementations or inherited providers).</p>
        </div>
    </div>
</li></ol><p   
>Continue by implementing the shipping carrier provider:</p>
<ol class=" "><li class=" "><p   
>Add a new class under the custom project, implementing the<strong class=" "> ICarrierProvider</strong> interface. For example, name the class <i class=" ">CountryCarrierProvider</i>.</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">using</code><code class="plain"> System;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> System.Collections.Generic;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> System.Linq;</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.Ecommerce;</code></div>
<div class="line"><code class="keyword">using</code><code class="plain"> CMS.Globalization;</code></div>
<div class="line"> </div>
<div class="line"><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="comments">/// Sample carrier provider that sets shipping costs based on the delivery country.</code></div>
<div class="line"><code class="comments">/// The carrier allows creation of shipping options that are available for addresses in the USA, Canada and Mexico.</code></div>
<div class="line"><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="keyword">public</code><code class="plain"> </code><code class="keyword">sealed</code><code class="plain"> </code><code class="keyword">class</code><code class="plain"> CountryCarrierProvider : ICarrierProvider</code></div>
<div class="line"><code class="plain">{</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">private</code><code class="plain"> </code><code class="keyword">const</code><code class="plain"> </code><code class="keyword">string</code><code class="plain"> NAME = </code><code class="string">"Custom carrier provider"</code><code class="plain">;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">private</code><code class="plain"> List&lt;KeyValuePair&lt;</code><code class="keyword">string</code><code class="plain">, </code><code class="keyword">string</code><code class="plain">&gt;&gt; services;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">private</code><code class="plain"> Dictionary&lt;</code><code class="keyword">string</code><code class="plain">, </code><code class="keyword">decimal</code><code class="plain">&gt; countryCosts;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Gets a dictionary of 3-letter country codes and shipping costs.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// The dictionary also defines all countries where delivery is available.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">private</code><code class="plain"> Dictionary&lt;</code><code class="keyword">string</code><code class="plain">, </code><code class="keyword">decimal</code><code class="plain">&gt; CountryCosts</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">get</code></div>
<div class="line"><code class="plain">        {</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">return</code><code class="plain"> countryCosts ?? (countryCosts = </code><code class="keyword">new</code><code class="plain"> Dictionary&lt;</code><code class="keyword">string</code><code class="plain">, </code><code class="keyword">decimal</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">                {</code></div>
<div class="line"><code class="plain">                    { </code><code class="string">"CAN"</code><code class="plain">, 12.99m },</code></div>
<div class="line"><code class="plain">                    { </code><code class="string">"MEX"</code><code class="plain">, 33.33m },</code></div>
<div class="line"><code class="plain">                    { </code><code class="string">"USA"</code><code class="plain">, 5.0m }</code></div>
<div class="line"><code class="plain">                });</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Gets the name of the carrier provider.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">string</code><code class="plain"> CarrierProviderName</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">get</code></div>
<div class="line"><code class="plain">        {</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">return</code><code class="plain"> NAME;</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Returns a list of service code names and display names.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> List&lt;KeyValuePair&lt;</code><code class="keyword">string</code><code class="plain">, </code><code class="keyword">string</code><code class="plain">&gt;&gt; GetServices()</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> services ?? (services = </code><code class="keyword">new</code><code class="plain"> List&lt;KeyValuePair&lt;</code><code class="keyword">string</code><code class="plain">, </code><code class="keyword">string</code><code class="plain">&gt;&gt;</code></div>
<div class="line"><code class="plain">        {</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">new</code><code class="plain"> KeyValuePair&lt;</code><code class="keyword">string</code><code class="plain">, </code><code class="keyword">string</code><code class="plain">&gt;(</code><code class="string">"CostByCountry"</code><code class="plain">, </code><code class="string">"Shipping cost to USA, CAN and MEX"</code><code class="plain">)</code></div>
<div class="line"><code class="plain">        });</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Calculates the shipping cost of the given delivery.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;param name="delivery"&gt;The shipped delivery.&lt;/param&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;param name="currencyCode"&gt;The code of the currency in which the shipping price should be calculated (e.g. USD or EUR).&lt;/param&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;returns&gt;The price in the currency specified by currencyCode.&lt;/returns&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">decimal</code><code class="plain"> GetPrice(Delivery delivery, </code><code class="keyword">string</code><code class="plain"> currencyCode)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">if</code><code class="plain"> (delivery.DeliveryAddress != </code><code class="keyword">null</code><code class="plain">)</code></div>
<div class="line"><code class="plain">        {</code></div>
<div class="line"><code class="plain">            </code><code class="comments">// Gets the 3-letter country code of the delivery's target country</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">var</code><code class="plain"> country = CountryInfoProvider.GetCountryInfo(delivery.DeliveryAddress.AddressCountryID);</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">string</code><code class="plain"> countryCode = country?.CountryThreeLetterCode;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">            </code><code class="comments">// Checks whether the shipping option is available for the specified country code</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">if</code><code class="plain"> (CountryCosts.ContainsKey(countryCode))</code></div>
<div class="line"><code class="plain">            {</code></div>
<div class="line"><code class="plain">                </code><code class="comments">// Returns the shipping price converted to the specified currency</code></div>
<div class="line"><code class="plain">                </code><code class="keyword">return</code><code class="plain"> CurrencyConverter.Convert(CountryCosts[countryCode], </code><code class="string">"USD"</code><code class="plain">, currencyCode, delivery.ShippingOption.ShippingOptionSiteID);</code></div>
<div class="line"><code class="plain">            }</code></div>
<div class="line"><code class="plain">        }    </code></div>
<div class="line"> </div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> 0;</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Checks whether the shipping option is available for the specified shipping address.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// The only supported shipping addresses are to USA, Canada or Mexico.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> </code><code class="keyword">bool</code><code class="plain"> CanDeliver(Delivery delivery)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// Checks whether a shipping option and delivery address is assigned to the delivery</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// and evaluates whether the shipping option is available for the specified shipping country</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">if</code><code class="plain"> ((delivery.ShippingOption == </code><code class="keyword">null</code><code class="plain">) || (delivery.DeliveryAddress == </code><code class="keyword">null</code><code class="plain">) || !CanDeliverToCountry(delivery.DeliveryAddress))</code></div>
<div class="line"><code class="plain">        {</code></div>
<div class="line"><code class="plain">            </code><code class="keyword">return</code><code class="plain"> </code><code class="keyword">false</code><code class="plain">;</code></div>
<div class="line"><code class="plain">        }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">        </code><code class="comments">// Returns true if the carrier provider supports the shipping service</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> SupportsService(delivery.ShippingOption.ShippingOptionCarrierServiceName);</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Returns Guid.Empty. This carrier does not have a configuration interface.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> Guid GetConfigurationUIElementGUID()</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> Guid.Empty;</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Returns Guid.Empty. This carrier does not have a carrier service configuration interface.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">public</code><code class="plain"> Guid GetServiceConfigurationUIElementGUID(</code><code class="keyword">string</code><code class="plain"> serviceName)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> Guid.Empty;</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Returns true if the carrier provider can handle the specified shipping service.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">private</code><code class="plain"> </code><code class="keyword">bool</code><code class="plain"> SupportsService(</code><code class="keyword">string</code><code class="plain"> serviceName)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> GetServices().Any(item =&gt; item.Key == serviceName);</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// Checks whether the package can be delivered to the selected country.</code></div>
<div class="line"><code class="plain">    </code><code class="comments">/// &lt;/summary&gt;</code></div>
<div class="line"><code class="plain">    </code><code class="keyword">private</code><code class="plain"> </code><code class="keyword">bool</code><code class="plain"> CanDeliverToCountry(IAddress address)</code></div>
<div class="line"><code class="plain">    {</code></div>
<div class="line"><code class="plain">        </code><code class="comments">// Gets the 3-letter country code from the delivery address</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">var</code><code class="plain"> country = CountryInfoProvider.GetCountryInfo(address.AddressCountryID);</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">string</code><code class="plain"> countryCode = country?.CountryThreeLetterCode;</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">        </code><code class="comments">// Returns true if the country code is found among the codes supported by the carrier provider</code></div>
<div class="line"><code class="plain">        </code><code class="keyword">return</code><code class="plain"> CountryCosts.ContainsKey(countryCode);</code></div>
<div class="line"><code class="plain">    }</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
</li><li class=" "><p   
>Save all changes and <strong class=" ">Build</strong> the custom project.</p>
</li></ol><p   
>Register the custom carrier in the Kentico administration interface:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Store configuration</strong> application (or <strong class=" ">Multistore configuration</strong>).</p>
</li><li class=" "><p   
>Select the <strong class=" ">Shipping -&gt; Carriers</strong> tab.</p>
</li><li class=" "><p   
>Click <strong class=" ">New carrier</strong>.</p>
</li><li class=" "><p   
>Type a <strong class=" ">Name</strong> for the carrier, and choose your custom assembly and <i class=" ">ICarrierProvider</i> class via the <strong class=" ">Carrier provider</strong> selector.</p>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong>.<br/></p>
</li></ol><p   
>You can now create <a   href="Configuring_shipping_options.html">shipping options</a> that use the custom carrier and its     <span style="color: #262524;">
&quot;Shipping cost to USA, CAN and MEX    </span>
&quot; service. If customers create an order with <a   href="Products.html">products</a> that need shipping, and their delivery address is in the USA, Canada or Mexico, the given shipping options are available for selection and their cost is calculated by the custom shipping carrier provider.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
