<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Working with users on MVC sites - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico-11-Documentation-Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68880520"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Developing-websites.html">Developing websites</a></li>
                                                                                                         <li class="shortcut"><a href="Developing-sites-using-ASP.NET-MVC.html">Developing sites using ASP.NET MVC</a></li>
                                                                                     <li><a href="Developing-MVC-applications.html">Developing MVC applications</a></li>
                                                            </ul>
</div>            <h1 id="src-68880520"> <span>Working with users on MVC sites</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<p   
>Kentico provides an integration package that allows you to work with Kentico membership data on websites presented by a   <a   href="Developing-sites-using-ASP.NET-MVC">separate MVC application</a>.</p>
<p   
>You can set up the following scenarios:</p>
<ul class=" "><li class=" "><p   
>Allow visitors to sign in with Kentico   <a   href="User-management">user accounts</a></p>
</li><li class=" "><p   
>Allow users to register new accounts from the MVC site (the user data is stored in the shared Kentico database)</p>
</li><li class=" "><p   
>Allow users to reset their passwords</p>
</li><li class=" "><p   
>Authorize actions based on Kentico   <a   href="Role-management">roles</a></p>
</li><li class=" "><p   
>Use external services for authentication</p>
</li></ul><p   
>The membership integration is based on <a  class="external-link" href="http://www.asp.net/identity">ASP.NET Identity</a> and the <a  class="external-link" href="http://owin.org/">OWIN</a> standard. As a result, you can work with user data through the standard approaches that you would use in any ASP.NET MVC application.</p>
    <h3 id="src-68880520_WorkingwithusersonMVCsites-IntegratingKenticomembershipintoyourproject" class="heading "><span>Integrating Kentico membership into your project</span></h3>
<p   
>Before you can start working with Kentico membership data in your MVC application, you need to integrate the required API:</p>
    <div  class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
>  <a   href="#src-68880520_WorkingwithusersonMVCsites-IntegratingKenticomembershipintoyourproject">Integrating Kentico membership into your project</a></p>
</li><li class=" "><p   
>  <a   href="#src-68880520_WorkingwithusersonMVCsites-Settingupauthentication">Setting up authentication</a></p>
</li><li class=" "><p   
>  <a   href="#src-68880520_WorkingwithusersonMVCsites-Authorizingactionsorcontrollersbasedonroles">Authorizing actions or controllers based on roles</a></p>
</li></ul><p   
></p>
        </div>
    </div>
    <div  class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p   
>  <a   href="User-registration-on-MVC-sites">User registration on MVC sites</a></p>
</li><li class=" "><p   
>  <a   href="Resetting-passwords-on-MVC-sites">Resetting passwords on MVC sites</a></p>
</li><li class=" "><p   
>  <a   href="External-authentication-on-MVC-sites">External authentication on MVC sites</a></p>
</li><li class=" "><p   
>  <a   href="User-management">User management in Kentico</a></p>
</li></ul>        </div>
    </div>
<ol class=" "><li class=" "><p   
>Open your MVC project in Visual Studio.</p>
</li><li class=" "><p   
>Install the <strong class=" ">Kentico.Membership</strong> NuGet   <a   href="Installing-Kentico-integration-packages">integration package</a>.</p>
</li><li class=" "><p   
>Install the <strong class=" ">Microsoft.Owin.Host.SystemWeb</strong> NuGet package.</p>
</li><li class=" "><p   
>Add a <strong class=" ">Startup.Auth</strong> class to your project&#39;s <strong class=" ">App_Start</strong> folder (or modify your existing authentication startup file):<img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Registering authentication cookies</strong></p>
<p   
>We strongly recommend   <a   href="Registering-custom-cookies">registering</a> all authentication cookies used on your website with an appropriate   <a   href="Cookie-levels">cookie level</a> (typically <strong class=" ">Essential</strong> when working with the default cookie level values).</p>
<p   
>Otherwise you may encounter problems with the cookies being cleared after adjusting the allowed cookie level for visitors (for example when managing   <a   href="Working-with-consents-on-MVC-sites">tracking consent</a>). Changes of the allowed cookie level automatically remove all cookies above the given level. Any unregistered cookies are processed with the <i class=" ">Visitor</i> level, which is usually too high for basic authentication cookies.</p>
<p   
>To register a cookie, call the <strong class=" ">CookieHelper.RegisterCookie</strong> method (available in the <strong class=" ">CMS.Helpers</strong> namespace of the Kentico API) in your application&#39;s startup code. You can access the default level values in the <strong class=" ">CookieLevel</strong> enumeration.</p>
        </div>
    </div>
</li></ol><p   
>The Kentico identity implementation is now registered and you can access the <i class=" ">Kentico.Membership</i> API in your application&#39;s code. Continue by setting up   <a   href="#src-68880520_WorkingwithusersonMVCsites-Settingupauthentication">user authentication</a>. You can also implement the following features:</p>
<ul class=" "><li class=" "><p   
>  <a   href="User-registration-on-MVC-sites">User registration</a></p>
</li><li class=" "><p   
>  <a   href="Resetting-passwords-on-MVC-sites">Password reset functionality</a></p>
</li><li class=" "><p   
>  <a   href="#src-68880520_WorkingwithusersonMVCsites-Authorizingactionsorcontrollersbasedonroles">Role-based authorization</a> for your controller actions</p>
</li><li class=" "><p   
>  <a   href="External-authentication-on-MVC-sites">Integration of external authentication services</a></p>
</li></ul>    <h3 id="src-68880520_WorkingwithusersonMVCsites-Settingupauthentication" class="heading "><span>Setting up authentication</span></h3>
<p   
>Once you   <a   href="#src-68880520_WorkingwithusersonMVCsites-IntegratingKenticomembershipintoyourproject">integrate Kentico membership into the project</a>, you can implement actions that allow visitors to sign in and out of your MVC website with Kentico   <a   href="User-management">user accounts.</a></p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Kentico user-related features<br/></strong></p>
<p   
>The following settings in Kentico affect authentication on MVC sites:</p>
<ul class=" "><li class=" "><p   
>Only user accounts that are <strong class=" ">Enabled</strong> in Kentico can be used for authentication. Accounts that have the enabled flag disabled (either manually or due to an account lock) cannot sign in. You can manage the enabled status of users in the <i class=" ">Users</i> application within the Kentico administration interface.</p>
</li><li class=" "><p   
><strong class=" ">Settings -&gt; Security &amp; Membership</strong>:<br/></p>
<ul class=" "><li class=" "><p   
><strong class=" ">Share user accounts on all sites</strong> - if enabled, users from any site in the system can be used for authentication on MVC sites. Otherwise users must be assigned to the corresponding MVC site (in the <i class=" ">Users</i> application).</p>
</li><li class=" "><p   
><strong class=" ">Use site prefixes for user names</strong> - must be disabled. Site prefixes for user names are not compatible with authentication on MVC sites.</p>
</li></ul></li></ul><p   
>All other user-related settings and features are NOT supported for authentication on MVC sites. For example, successful authentication does not update the <i class=" ">Last sign-in</i> date in Kentico and failed authentication attempts are not tracked (e.g. for the purposes of account locking).</p>
        </div>
    </div>
<p   
>Use the following approach to develop sign-in actions:</p>
<p   
></p>
    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Tip</strong>: To view the full code of a functional example directly in Visual Studio, download the <a  class="external-link" href="https://github.com/Kentico/Mvc">Kentico MVC solution</a> from GitHub and inspect the <strong class=" ">LearningKit</strong> project. You can also run the Learning Kit website after connecting the project to a Kentico database.</p>
        </div>
    </div>
<p   
></p>
<ol class=" "><li class=" "><p   
>Create a new controller class in your MVC project or edit an existing one.</p>
</li><li class=" "><p   
>Prepare a property that gets an instance of the <strong class=" ">Kentico.Membership.SignInManager</strong> class for the current request &ndash; call <i class=" ">HttpContext.GetOwinContext().Get&lt;SignInManager&gt;()</i>.</p>
</li><li class=" "><p   
>Implement two sign-in actions &ndash; one basic GET action to display the sign-in form and a second POST action to handle the authentication when the form is submitted.</p>
</li><li class=" "><p   
>Call the <strong class=" ">PasswordSignInAsync</strong> method of the <i class=" ">SignInManager</i> instance to authenticate users against the Kentico database (within the code of the POST action).<img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
<img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
</p>
</li><li class=" "><p   
>We recommend creating a view model for your sign-in action <i class=" ">(SignInViewModel</i> in the example above). The view model allows you to:</p>
<ul class=" "><li class=" "><p   
>Pass parameters from the sign-in form (username, password and sign-in persistence status).</p>
</li><li class=" "><p   
>Use data annotations to define validation and formatting rules for the sign-in parameters. See <a  class="external-link" href="https://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations%28v=vs.110%29.aspx">System.ComponentModel.DataAnnotations</a> on MSDN for more information about the available data annotation attributes.</p>
</li></ul></li></ol><p   
>To allow users to sign out on your website, extend your sign-in controller class:</p>
<ol class=" "><li class=" "><p   
>Prepare a property that provides access to the authentication middleware functionality (<i class=" ">Microsoft.Owin.Security.IAuthenticationManager</i> instance) &ndash; use the <i class=" ">HttpContext.GetOwinContext().Authentication</i> property.</p>
</li><li class=" "><p   
>Add another action for handling of sign-out requests.</p>
</li><li class=" "><p   
>Call the <strong class=" ">SignOut(DefaultAuthenticationTypes.ApplicationCookie)</strong> method of the authentication manager to sign out the current user.<img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
</p>
</li></ol><p   
>Finally, you need to design a user interface for the authentication logic:</p>
<ul class=" "><li class=" "><p   
>Create a view for the <i class=" ">SignIn</i> action and display an appropriate sign-in form for your website. We recommend using a strongly typed view based on your sign-in view model.</p>
</li><li class=" "><p   
>Add a sign in button or link that targets the <i class=" ">SignIn</i> action (for example within your site&#39;s main layout page).</p>
</li><li class=" "><p   
>Add a sign out button or link that targets the <i class=" ">SignOut</i> action.</p>
</li></ul><p   
>Visitors can now sign in to your site with Kentico user accounts from the connected database. If you wish to allow users to register new accounts, see   <a   href="User-registration-on-MVC-sites">User registration on MVC sites</a>.</p>
    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Tip</strong>: When writing additional code or views for your website, you can access information about the currently authenticated user via the standard <strong class=" ">User.Identity</strong> object. For example, <i class=" ">User.Identity.Name</i> returns the username of the currently signed in user.</p>
        </div>
    </div>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Ensuring the correct password format</strong></p>
<p   
>If your Kentico application uses custom salt values when generating password hashes, you also need to set the same values for the MVC application. Authentication will always fail if the password hashes are not identical for both applications.</p>
<p   
>Check the <i class=" ">appSettings</i> section of your Kentico application&#39;s web.config for the following keys:</p>
<ul class=" "><li class=" "><p   
><strong class=" ">CMSPasswordSalt</strong></p>
</li><li class=" "><p   
><strong class=" ">CMSUserSaltColumn</strong> (obsolete key used only for backward compatibility)</p>
</li></ul><p   
>If either of the keys are present, copy them to the web.config of your MVC project.</p>
<p   
>See also:   <a   href="Setting-the-user-password-format">Setting the user password format</a></p>
        </div>
    </div>
    <h3 id="src-68880520_WorkingwithusersonMVCsites-Authorizingactionsorcontrollersbasedonroles" class="heading "><span>Authorizing actions or controllers based on roles</span></h3>
<p   
>After you   <a   href="#src-68880520_WorkingwithusersonMVCsites-IntegratingKenticomembershipintoyourproject">integrate Kentico membership into the project</a> and   <a   href="#src-68880520_WorkingwithusersonMVCsites-Settingupauthentication">set up authentication</a>, you can use   <a   href="Role-management">Kentico roles</a> to restrict access to your MVC site&#39;s functionality or content.</p>
<p   
>Add the standard <a  class="external-link" href="https://msdn.microsoft.com/en-us/library/system.web.mvc.authorizeattribute%28v=vs.118%29.aspx"><strong class=" ">Authorize</strong> </a>attribute from the <i class=" ">System.Web.Mvc</i> API to your controller classes or action methods. Set the attribute&#39;s <strong class=" ">Roles</strong> property and identify the required Kentico roles using their <i class=" "><strong class=" ">Role name</strong> </i>(not the display name).<img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
The standard MVC framework behavior applies if an unauthorized user tries to access an action or controller &ndash; the application returns a 401 HTTP status code. The 401 status code causes a redirect to your site&#39;s sign-in page if one is configured.</p>
<p   
>When determining whether a user is a member of a Kentico role on an MVC site, the following conditions apply:</p>
<ul class=" "><li class=" "><p   
>The role must be assigned to the user for the given MVC site or as a global role. Roles assigned for other sites in the Kentico system are not recognized.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>Kentico matches   <a   href="Managing-sites">sites</a> to MVC applications based on the <strong class=" ">Presentation URL</strong> or <strong class=" ">Domain name</strong> set for sites in the <strong class=" ">Sites</strong> application.</p>
        </div>
    </div>
</li><li class=" "><p   
>Roles limited by the <strong class=" ">Valid to</strong> setting are not recognized by MVC applications after their expiration date.</p>
</li><li class=" "><p   
>Roles assigned indirectly through   <a   href="Membership-management">memberships</a> are also valid and recognized by MVC applications.</p>
</li></ul>    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Notes</strong>:</p>
<ul class=" "><li class=" "><p   
>When a user&#39;s roles are modified in Kentico, the changes apply only after the user signs out and in again on the MVC site.</p>
</li><li class=" "><p   
>The <strong class=" ">Privilege level</strong> set for users in Kentico does NOT affect authorization on MVC sites. This means administrators cannot bypass role requirements like they would on standard Kentico sites.</p>
</li><li class=" "><p   
>Kentico permission settings for roles do NOT have any effect on MVC sites (for example   <a   href="Page-level-permissions-%28ACLs%29">page-level permissions</a>). The only relevant factor is whether a user belongs to the roles specified by the <strong class=" ">Authorize</strong> attributes in the code of your controllers.</p>
</li></ul>        </div>
    </div>
    <h4 id="src-68880520_WorkingwithusersonMVCsites-ManaginguserrolesfromtheMVCapplication" class="heading "><span>Managing user roles from the MVC application</span></h4>
<p   
>You can use the ASP.NET Identity API to add or remove Kentico roles for users. For example, this allows you to assign roles to new users immediately after   <a   href="User-registration-on-MVC-sites">registration</a>.</p>
<p   
>To use the available role management methods:</p>
<ul class=" "><li class=" "><p   
>Prepare a property that gets an instance of the <strong class=" ">Kentico.Membership.UserManager</strong> class for the current request &ndash; call <i class=" ">HttpContext.GetOwinContext().Get&lt;UserManager&gt;()</i>.</p>
</li><li class=" "><p   
>Get the ID of the user whose roles you wish to manage (the methods require the ID as a parameter).</p>
</li></ul><p   
><img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
<img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
To add roles, call the <strong class=" ">AddToRolesAsync</strong> method of the <i class=" ">UserManager</i> instance. You can add one or more roles, each specified by a separate string parameter (equal to the corresponding role name).<img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
To remove roles, call the <strong class=" ">RemovesFromRolesAsync</strong> method of the <i class=" ">UserManager</i> instance. You can remove one or more roles, each specified by a separate string parameter.<img  class="wysiwyg-unknown-macro"  src="images/plugins/servlet/confluence/placeholder/unknown-macro.png" alt="images/plugins/servlet/confluence/placeholder/unknown-macro.png"   />
</p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Note</strong>: You cannot use the ASP.NET Identity API to remove roles assigned to users indirectly through Kentico   <a   href="Membership-management">memberships</a>.</p>
        </div>
    </div>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Managing membership data through the Kentico API</strong></p>
<p   
>In addition to the ASP.NET Identity API, you can alternatively work with Kentico membership data using the <i class=" ">CMS.Membership</i> API (provided as part of the Kentico.Libraries   <a   href="Installing-Kentico-integration-packages">integration package</a>).</p>
        </div>
    </div>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
