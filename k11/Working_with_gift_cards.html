<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Working with gift cards - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico_11_Documentation_Home.html" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=72975642"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico_11_Documentation_Home.html">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="E-commerce_features.html">E-commerce features</a></li>
                                                                                                         <li class="shortcut"><a href="Managing_your_store.html">Managing your store</a></li>
                                                                                     <li><a href="Discounts.html">Discounts</a></li>
                                                            </ul>
</div>            <h1 id="src-72975642"> <span>Working with gift cards</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
        $page.content
<p   
>The Kentico E-commerce Solution allows you to define coupon-based <strong class=" ">gift cards</strong>. If you create a gift card and generate coupon codes, your <a   href="Customers.html">customers</a> can use the codes to reduce or completely cover the final price of their orders. In other words, gift cards can be considered as a form of payment.</p>
<p   
>When calculating the final price of a shopping cart or order, the system subtracts the value of applied gift cards <strong class=" ">after</strong> processing all other types of <a   href="Discounts.html">discounts</a>, <a   href="Configuring_shipping_options.html">shipping costs</a> and <a   href="Configuring_taxes.html">taxes</a>. If the gift card value is greater than the order&#39;s price, the remaining amount is saved for the given <a   href="Working_with_coupon_codes.html">coupon code</a> and can be redeemed in future orders.</p>
<p   
>You can use gift cards to motivate customers to purchase more <a   href="Products.html">products</a>. For example, gift cards are particularly suitable:</p>
<ul class=" "><li class=" "><p   
>During special seasons, for example Christmas</p>
</li><li class=" "><p   
>As a reward for customers who spend a certain amount of money in your store or buy selected products</p>
</li></ul><p   
>Gift cards are dynamically configurable, and you can adjust them via rules and conditions according to your needs. These rules are based on properties of the customer&#39;s shopping cart and can include the cart content, billing/shipping address, order currency, etc. You can also specify periods of validity.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Limitations<br/></strong></p>
<ul class=" "><li class=" "><p   
>Kentico does not provide a built-in way to directly sell gift cards as <a   href="Products.html">products</a>.</p>
</li><li class=" "><p   
>If you run <a   href="Choosing_site_or_global_e-commerce_configuration.html">multiple sites</a>, each site has its own set of gift cards. Therefore, if you want to use the same gift cards across multiple sites, you need to create them on all of the given sites.</p>
</li></ul>        </div>
    </div>
    <div  class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="#src-72975642_Workingwithgiftcards-Managinggiftcards">Managing gift cards</a></p>
</li><li class=" "><p   
><a   href="#src-72975642_Workingwithgiftcards-Configuringpagestoallowcustomerstoentercouponcodes">Configuring pages to allow customers to enter coupon codes</a></p>
</li><li class=" "><p   
><a   href="#src-72975642_Workingwithgiftcards-Displayinggiftcardvaluestocustomers">Displaying gift card values to customers</a></p>
</li><li class=" "><p   
><a   href="#src-72975642_Workingwithgiftcards-Handlingpaymentsfullycoveredbygiftcards">Handling payments fully covered by gift cards</a></p>
</li></ul><p   
></p>
        </div>
    </div>
    <div  class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p   
><a   href="Working_with_coupon_codes.html">Working with coupon codes</a></p>
</li><li class=" "><p   
><a   href="Discounts.html">Discounts</a></p>
</li></ul>        </div>
    </div>
    <h3 id="src-72975642_Workingwithgiftcards-Managinggiftcards" class="heading "><span>Managing gift cards</span></h3>
<p   
>To create new gift cards or edit existing ones</p>
<ol class=" "><li class=" "><p   
><a   href="Getting_familiar_with_the_E-commerce_Solution.html">Open</a> the <strong class=" ">Gift cards</strong> application.</p>
</li><li class=" "><p   
>To add a new gift card, click <strong class=" ">New Gift card</strong>. To edit an existing gift card, click <strong class=" ">Edit</strong> (<img  class="confluence-embedded-image"  src="images/download/attachments/68879208/edit.png" alt="images/download/attachments/68879208/edit.png"   />
) next to the given item in the list.</p>
</li><li class=" "><p   
>Set the gift card&#39;s properties:</p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="2">
    <p   
>General</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Name</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The name of the gift card displayed in the administration interface, shopping cart, invoices, etc.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Code name</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>The unique identifier of the gift card (for example used by developers in custom code).</p>
<p   
>Unless there is a reason to set a particular value, you can leave the default <i class=" ">(automatic)</i> option, and the system generates an appropriate code name automatically.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>You can add an explanation about the scenarios for which the gift card is intended. The description does not affect the gift card&#39;s functionality, apart from providing information to store managers working in the <i class=" ">Gift cards</i> application.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Enabled</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Indicates whether the gift card is available for use by customers. If the check box is cleared, the gift card cannot be redeemed.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="2">
    <p   
>Gift card value</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Amount</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Specifies the exact value of the gift card. The amount must be a valid decimal number greater than 0. Enter the value in the site&#39;s <a   href="Configuring_currencies.html">main currency</a>.</p>
<p   
>When a customer redeems one of the gift card&#39;s <a   href="Working_with_coupon_codes.html">coupon codes</a> during checkout, the system subtracts the amount from the total price of the order. If the gift card amount is greater than the order&#39;s price, the remainder is stored for the given coupon code, and it can be redeemed in future orders (with a reduced value equal to the remaining amount).</p>
<p   
><strong class=" ">Note</strong>: You cannot change the <i class=" ">Amount</i> value for gift cards that already have coupon codes added on the <strong class=" ">Coupons</strong> tab. In these cases, you need to create a completely new gift card.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="2">
    <p   
>Gift card conditions</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Minimum order amount</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Specifies the minimum price total that orders must have for the gift card to be applicable. The price is evaluated <strong class=" ">after</strong> the system calculates all <a   href="Discounts.html">discounts</a> and adds <a   href="Configuring_shipping_options.html">shipping costs</a> and <a   href="Configuring_taxes.html">taxes</a> to the order total.</p>
<p   
>Set the value in the site&#39;s <a   href="Configuring_currencies.html">main currency</a>.</p>
<p   
>If you leave an empty value, all orders are eligible for the gift card unless limited by the <strong class=" ">Further conditions</strong> field.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Further conditions</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Adds further conditions that must be fulfilled for the system to accept the gift card.</p>
<p   
>Click <strong class=" ">Edit</strong> to open the <strong class=" ">Edit macro condition</strong> dialog, which allows you to add conditions through a graphical interface.</p>
<p   
><img  class="confluence-embedded-image confluence-content-image-border"  src="images/download/attachments/72975642/selecting_discount_rules.png" alt="images/download/attachments/72975642/selecting_discount_rules.png" width="500"  />
        <br/><span class="caption">Selecting order rules</span>
    </p>
<ul class=" "><li class=" "><p   
>To add rules to the condition, double-click rules on the right or click <strong class=" ">Add rule</strong> (<img  class="confluence-embedded-image confluence-external-resource"  src="images/docs.kentico.com/download/attachments/57442434/left.png" alt="images/docs.kentico.com/download/attachments/57442434/left.png"   />
).</p>
</li><li class=" "><p   
>To remove a rule from the condition, select it and click <strong class=" ">Delete</strong> (<img  class="confluence-embedded-image confluence-external-resource"  src="images/docs.kentico.com/download/attachments/57442434/delete_cross.png" alt="images/docs.kentico.com/download/attachments/57442434/delete_cross.png"   />
). Click <strong class=" ">Clear all rules</strong> (<img  class="confluence-embedded-image confluence-external-resource"  src="images/docs.kentico.com/download/attachments/57442434/clear.png" alt="images/docs.kentico.com/download/attachments/57442434/clear.png"   />
) to remove all added rules.</p>
</li><li class=" "><p   
>Click on underlined words in the rule text to configure various rule options:<br/></p>
<img  class="confluence-embedded-image confluence-content-image-border"  src="images/download/attachments/72975642/specifying_rule_parameters.png" alt="images/download/attachments/72975642/specifying_rule_parameters.png" width="500"  />
        <br/><span class="caption">Specifying the rule parameters</span>
    </li></ul><p   
>If you are a developer, conditions are <a   href="Macro_expressions.html">Kentico macros</a>, and you can edit them directly on the <strong class=" ">Code</strong> tab in the <strong class=" ">Edit macro condition</strong> dialog.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="2">
    <p   
>Duration</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Valid from</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Specifies the time and date from which the gift card can be redeemed. If you leave the value empty, the gift card is valid at any time before the <strong class=" ">Valid to</strong> date.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Valid to</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Specifies the time and date until which the gift card can be redeemed. If you leave the value empty, the gift card is valid permanently (starting from the <strong class=" ">Valid from</strong> date).</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="2">
    <p   
>Target customers</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Available for</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Determines which types of users are able to use the gift card:</p>
<ul class=" "><li class=" "><p   
><strong class=" ">All visitors</strong> &ndash; all customers can use the gift card.</p>
</li><li class=" "><p   
><strong class=" ">Registered users</strong> &ndash; only <a   href="Customers.html">registered customers</a> can use the gift card.</p>
</li><li class=" "><p   
><strong class=" ">Registered users in selected roles</strong> &ndash; only registered customers in selected <a   href="Role_management.html">roles</a> can use the gift card. To add roles:<br/></p>
<ol class=" "><li class=" "><p   
>Click<strong class=" "> Select </strong>to open the <strong class=" ">Select roles</strong> dialog.</p>
</li><li class=" "><p   
>Select the required roles.</p>
</li><li class=" "><p   
>Click <strong class=" ">Select</strong>.</p>
</li></ol></li></ul>    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>You can add registered customers to roles in the <strong class=" ">Customers</strong> application while editing customers on the <strong class=" ">Roles</strong> tab.</p>
        </div>
    </div>
            </td>
        </tr>
</tbody>        </table>
            </div>
</li><li class=" "><p   
>Click <strong class=" ">Save</strong>.</p>
</li><li class=" "><p   
>Create or generate coupon codes on the <strong class=" ">Coupons</strong> tab. For more information, see: <a   href="Working_with_coupon_codes.html">Working with coupon codes</a></p>
</li></ol><p   
>If enabled and valid, the gift card can be redeemed by customers during checkout or applied by store administrators when editing orders. You can now distribute the coupon codes among your customers via any available communication channels.</p>
<p   
>For gift cards, every coupon code represents a single voucher with a value equal to the gift card&#39;s <i class=" ">Amount</i>. When redeemed, the coupon code is either fully used up, or if the gift card value is greater than the order&#39;s price, the remainder is saved for the given coupon code. While the remaining value is greater than zero, the coupon code can be redeemed again in other orders (with a reduced value).</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Processing of multiple gift cards</strong></p>
<p   
>If a customer adds multiple gift card coupon codes to a single order, the system uses them up according to the order in which they were added. For example:</p>
<ul class=" "><li class=" "><p   
>Order final price: 35 USD</p>
</li><li class=" "><p   
>Gift card A amount: 15 USD</p>
</li><li class=" "><p   
>Gift card B amount: 40 USD</p>
</li></ul><p   
>If the customer adds the coupon code for Gift card A first and then B, the system fully uses up the first coupon code and then 20 USD from the second code.</p>
<p   
>If the customer adds the coupon code for Gift card B first and then A, the system uses up 35 USD from the first coupon code and leaves the second code unused.</p>
        </div>
    </div>
<p   
></p>
    <h3 id="src-72975642_Workingwithgiftcards-Configuringpagestoallowcustomerstoentercouponcodes" class="heading "><span>Configuring pages to allow customers to enter coupon codes</span></h3>
<p   
>To allow customers to enter coupon codes for discounts or gift cards on the pages of your on-line store:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Pages</strong> application.</p>
</li><li class=" "><p   
>Select the required page in the content tree.</p>
</li><li class=" "><p   
>Switch to the <strong class=" ">Edit -&gt; Design</strong> tab.</p>
</li><li class=" "><p   
>Add the <strong class=" ">Coupon codes</strong><a   href="Using_and_configuring_web_parts.html"> web part</a> to the appropriate web part zone.</p>
</li><li class=" "><p   
>Configure the web part properties.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>We strongly recommend leaving the web part&#39;s <strong class=" ">Show Apply button</strong> property enabled. This allows customers to instantly apply coupon codes while viewing the page.</p>
<p   
>If <i class=" ">Show Apply button</i> is disabled, the web part only applies the entered coupon code when moving to the next step in the <a   href="Checkout_process.html">checkout process</a>.</p>
        </div>
    </div>
</li><li class=" "><p   
>Click <strong class=" ">Save &amp; Close</strong>.</p>
</li></ol><p   
>The <i class=" ">Coupon codes</i> web part uses a <a   href="Writing_transformations.html">transformation</a> to display the coupon codes applied to the customer&#39;s shopping cart. The transformation allows you to format the coupon codes according to any requirements of your website&#39;s design.</p>
<p   
>When configuring the <i class=" ">Coupon codes</i> web part, assign the transformation into the <strong class=" ">Transformation name</strong> property. You can either <strong class=" ">Select</strong> an existing transformation or create a <strong class=" ">New</strong> one.</p>
<p   
>When writing the code of transformations for coupon code items:</p>
<ul class=" "><li class=" "><p   
>Use the <strong class=" ">Code</strong> field to access the coupon code text &ndash; <i class=" ">{% Code %}</i> in Text / XML transformations, <i class=" ">&lt;%# Eval&lt;string&gt;(&quot;Code&quot;) %&gt;</i> in ASCX transformations.</p>
</li><li class=" "><p   
>If you apply <a  class="external-link" href="https://devnet.kentico.com/download/hotfixes">hotfix 11.0.29</a> or newer, you can use the <strong class=" ">IsApplied</strong> field to evaluate whether the coupon code is valid for the current shopping cart &ndash; <i class=" ">{% IsApplied %}</i> in Text / XML transformations, <i class=" ">&lt;%# Eval&lt;bool&gt;(&quot;IsApplied&quot;) %&gt;</i> in ASCX transformations. This allows you to add formatting options for coupon codes that are no longer valid, for example after products are removed from the cart and the total price falls under the value required by the coupon code&#39;s discount.</p>
</li><li class=" "><p   
>Call the <strong class=" ">GetDiscountCouponCodeRemoveButton</strong> method to add elements that allow customers to remove applied coupon codes. The method generates an <i class=" ">&lt;input&gt;</i> element (of the <i class=" ">submit</i> type) that removes the specified coupon code from the shopping cart when clicked. The method has the following parameters:</p>
<ul class=" "><li class=" "><p   
><i class=" ">couponCode</i> (required) &ndash; the text of the removed coupon code.</p>
</li><li class=" "><p   
><i class=" ">cssClass</i> (optional) &ndash; the name of the CSS class assigned to the generated input element.</p>
</li><li class=" "><p   
><i class=" ">buttonText</i> (optional) &ndash; the text caption of the input element (assigned to the <i class=" ">value</i> attribute).</p>
</li></ul></li></ul>    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                    <div class="title">Example - Text / XML transformation</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Example - Text / XML transformation" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">&lt;div&gt;</code></div>
<div class="line"><code class="plain">  &lt;div </code><code class="keyword">class</code><code class="plain">=</code><code class="string">"label"</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">    &lt;span&gt;{% HTMLEncode(Code) %}&lt;/span&gt;</code></div>
<div class="line"><code class="plain">  &lt;/div&gt;</code></div>
<div class="line"><code class="plain">  &lt;div </code><code class="keyword">class</code><code class="plain">=</code><code class="string">"button"</code><code class="plain">&gt;</code></div>
<div class="line"><code class="plain">    {% GetDiscountCouponCodeRemoveButton(Code, </code><code class="string">"btn"</code><code class="plain">) %}</code></div>
<div class="line"><code class="plain">  &lt;/div&gt;</code></div>
<div class="line"><code class="plain">&lt;/div&gt;</code></div>
</div>
    </div>
<p   
><img  class="confluence-embedded-image confluence-content-image-border"  src="images/download/attachments/68881410/Applying_coupon_codes.png" alt="images/download/attachments/68881410/Applying_coupon_codes.png" width="500"  />
        <br/><span class="caption">Output of the Coupon codes web part with two coupon codes applied</span>
    </p>
<p   
>After adding the <i class=" ">Coupon codes</i> web part to your website&#39;s checkout pages, you can distribute coupon codes among your customers. Customers can then use these codes to receive discounts or redeem gift cards.</p>
<p   
></p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Note</strong>: Different coupon codes of a single gift card can be applied together to the same order (unlike other types of <a   href="Discounts.html">discounts</a> that use coupon codes). For example, if a customer knows 2 different coupon codes for a 10 USD gift card, they can redeem both codes for the same order to reduce the final price by 20 USD.</p>
        </div>
    </div>
    <h3 id="src-72975642_Workingwithgiftcards-Displayinggiftcardvaluestocustomers" class="heading "><span>Displaying gift card values to customers</span></h3>
<p   
>In <a   href="Configuring_invoices.html">invoices</a> and other <a   href="Configuring_e-commerce_email_notifications.html">e-commerce notification emails</a>, you can show the values of redeemed gift cards by including the <i class=" ">{%OtherPayments%}</i> or <i class=" ">{%OtherPaymentsSummary%}</i> macros in the corresponding templates.</p>
<p   
>To display information about redeemed gift cards on your store&#39;s <a   href="Checkout_process.html">checkout</a> pages:</p>
<ul class=" "><li class=" "><p   
>Use the <a   href="Configuring_the_Shopping_cart_totals_web_part.html">Shopping cart totals web part</a> with the <strong class=" ">Total to display</strong> property set to <i class=" ">Other payments total</i>.</p>
</li><li class=" "><p   
>If you wish to display detailed information including the names of gift cards, use the <strong class=" ">Static text</strong> web part with the <i class=" ">{%ECommerceContext.CurrentShoppingCart.OtherPaymentsSummary%}</i> macro. See: <a   href="Displaying_shopping_cart_details_on_pages.html">Displaying shopping cart details on pages</a></p>
</li></ul>    <h3 id="src-72975642_Workingwithgiftcards-Handlingpaymentsfullycoveredbygiftcards" class="heading "><span>Handling payments fully covered by gift cards</span></h3>
<p   
>If you distribute gift cards without setting an appropriate <i class=" ">Minimum order amount</i>, customers may create orders where the value of a redeemed gift card exceeds the total price. In these cases, the gift card fully covers the payment and the final price of the order is zero. Many <a   href="Configuring_payment_methods.html">payment methods</a> reject payments whose value is zero (for example <a   href="Configuring_PayPal.html">PayPal</a>), which may be confusing for customers.</p>
<p   
>For these situations, we recommend configuring your site to skip the payment page of your <a   href="Configuring_steps_of_the_checkout_process.html">checkout process</a> and directly display the &quot;Thank you&quot; or &quot;Order completed&quot; page:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Pages</strong> application.</p>
</li><li class=" "><p   
>Select the root page of your site&#39;s checkout process.</p>
</li><li class=" "><p   
>On the <strong class=" ">Design</strong> tab, configure the <strong class=" ">Page wizard manager</strong> web part.</p>
</li><li class=" "><p   
>Click <strong class=" ">Edit value</strong> (<img  class="confluence-embedded-image confluence-thumbnail"  src="images/download/thumbnails/68879208/edit_value.png" alt="images/download/thumbnails/68879208/edit_value.png"  height="13" />
) next to the <strong class=" ">Content filter -&gt; Final step URL</strong> property and enter the following macro expression:</p>
    <div  class="confbox programlisting" style="counter-reset: scroll-code-numbering 1">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">{% EcommerceContext.CurrentShoppingCart.GrandTotal &gt; </code><code class="value">0</code><code class="plain"> ? </code><code class="string">"~/Store/Payment-page"</code><code class="plain"> : </code><code class="string">"~/Store/Thank-you"</code><code class="plain"> %}</code></div>
</div>
    </div>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>The macro ensures that the <strong class=" ">Final step URL</strong> is <i class=" ">~/Store/Thank-you</i> if the shopping cart&#39;s grand total is zero, but <i class=" ">~/Store/Payment-page</i> in all other cases. You need to replace the page URLs with the appropriate values of your site&#39;s pages.</p>
        </div>
    </div>
</li><li class=" "><p   
>Click <strong class=" ">OK</strong> and then <strong class=" ">Save &amp; Close</strong>.</p>
</li></ol><p   
>For purchases where the final price is zero, the system now creates <a   href="Orders.html">orders</a> without displaying the payment page to customers.</p>
<p   
>Because such orders are not processed by a standard <a   href="Configuring_payment_methods.html">payment method</a>, your store&#39;s administrators may need to manually adjust the <a   href="Order_statuses.html">status</a> of the orders or mark them as paid in the <strong class=" ">Orders</strong> application. Administrators can identify orders paid using gift cards based on their total price, or by checking the details on the <strong class=" ">Items</strong> tab.</p>
    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Tip</strong>: You can also add the <i class=" ">{% EcommerceContext.CurrentShoppingCart.GrandTotal &gt; 0 %}</i> macro condition into the <strong class=" ">Visible</strong> property of other checkout web parts that you wish to hide in these cases (for example the <strong class=" ">Payment method selection</strong> web part).</p>
        </div>
    </div>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
