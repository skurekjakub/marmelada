<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Configuring Strands recommendations email widget - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico-11-Documentation-Home.htm" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68882869"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.htm">Kentico 11 Documentation</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="Integrating-3rd-party-systems.htm">Integrating 3rd party systems</a></li>
                                                                                     <li><a href="Strands-Recommender-integration.htm">Strands Recommender integration</a></li>
                                                            </ul>
</div>            <h1 id="src-68882869"> <span>Configuring Strands recommendations email widget</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<p   
>You can add personalized recommendations for products from the store into the <a   href="k11/Composing-marketing-emails.htm">marketing emails</a> by placing a<strong class=" "> </strong>Strands recommendation widget into the content of the emails. Strands services then monitor the activity of users on the site and prepare personalized recommendations for every user. Integration of Strands services into marketing emails in Kentico is provided by macro methods to access Strands API using widgets.</p>
<p   
>Before creating this widget, you need to make sure the following steps have been taken:</p>
<ul class=" "><li class=" "><p   
>Strands Recommender has been <a   href="k11/Integrating-the-Strands-Recommender-service-into-your-store.htm">integrated</a> into the system.</p>
<ul class=" "><li class=" "><p   
><strong class=" ">API ID</strong> and <strong class=" ">Validation token</strong> need to be filled in the <strong class=" ">Settings -&gt; Integration -&gt; Strands Recommender</strong>.</p>
</li></ul></li><li class=" "><p   
>An email template has been created on the <a  class="external-link" href="https://retail.strands.com/tpl/mail/">Strands website</a>.</p>
</li></ul>    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>The <strong class=" ">Strands recommendation</strong> widget is implemented on the <i class=" ">Dancing Goat</i> sample site. You can use this widget as a reference material.</p>
        </div>
    </div>
    <div  class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p   
><a   href="k11/Placing-Strands-recommendations-into-marketing-emails.htm">Placing Strands recommendations into marketing emails</a></p>
</li><li class=" "><p   
><a   href="k11/Strands-Recommender-integration.htm">Strands Recommender integration</a></p>
</li><li class=" "><p   
><a   href="k11/Preparing-email-widgets.htm">Preparing email widgets</a></p>
</li><li class=" "><p   
><a   href="k11/Marketing-automation.htm">Marketing automation</a></p>
</li></ul>        </div>
    </div>
<p   
></p>
    <div  class="confbox admonition admonition-info">
                    <p class="title">Kentico EMS required</p>
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>Features described on this page require the <strong class=" ">Kentico EMS</strong> license.</p>
        </div>
    </div>
<p   
></p>
<p   
>To create a new Strands recommendation widget:</p>
<ol class=" "><li class=" "><p   
>Open the<strong class=" "> Email marketing </strong>application and switch to the <strong class=" ">Email widgets</strong> tab.</p>
</li><li class=" "><p   
>Click <strong class=" ">New email widget</strong>.</p>
</li><li class=" "><p   
>Specify the display name.</p>
</li><li class=" "><p   
>(Optional) Set the email widget thumbnail (a custom image or a <a   href="k11/Working-with-font-icons.htm">font icon</a>).</p>
<ul class=" "><li class=" "><p   
>Thumbnails are used to represent individual email widgets when listed on an email&#39;s <strong class=" ">Email builder</strong> tab.</p>
</li></ul></li><li class=" "><p   
>Click <strong class=" ">Save</strong>.</p>
<ul class=" "><li class=" "><p   
>The system creates the email widget and opens its <strong class=" ">Widget editor</strong> tab.</p>
</li></ul></li><li class=" "><p   
>Obtain the HTML code for the widget from the <a  class="external-link" href="https://retail.strands.com/tpl/mail/">Strands website</a> and paste it into the widget editor text area.<br/></p>
<img  class="confluence-embedded-image"  src="images/download/attachments/68882869/Strands_obtain_html.png" alt="images/download/attachments/68882869/Strands_obtain_html.png"  height="80" />
    </li><li class=" "><p   
>Modify the code using dedicated <a   href="k11/#src-68882869_ConfiguringStrandsrecommendationsemailwidget-Macromethods">macro methods</a> listed below and click <strong class=" ">Save</strong> when finished.</p>
</li><li class=" "><p   
>(Optional) <a   href="k11/Preparing-email-widgets.htm#src-70453309_Preparingemailwidgets-Definingemailwidgetproperties">Define&nbsp;email widget properties</a> on the <strong class=" ">Properties</strong> tab for greater customization options.</p>
</li></ol>    <h3 id="src-68882869_ConfiguringStrandsrecommendationsemailwidget-Macromethods" class="heading "><span>Macro methods</span></h3>
<p   
>In the table below, you can find a list of macro methods, which are useful when working with Strands services. Use these macros to replace constant strings in the widget code obtained from the Strands website. For a list of additional macros check the <a   href="k11/Reference---Email-marketing-macro-expressions.htm">email marketing macro reference</a>.</p>
    <div  class="tablewrap">
        <table class="relative-table wrapped confluenceTable">
                    <colgroup>
                                    <col  width="23.0448%"/>
                                    <col  width="31.403%"/>
                                    <col  width="45.4925%"/>
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Macro</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Description</p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
    <p   
>Usage</p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>{% Recipient.StrandsUserID %}</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Resolves into the user ID used to identify individual users in the Strands services.</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Use this macro instead of a user name in the widget code.</p>
    <div  class="confbox admonition admonition-tip">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>You can use this macro directly in the <strong class=" ">user</strong> text box when obtaining code from Strands website to save yourself some work.</p>
        </div>
    </div>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>{% Settings.CMSStrandsAPIID %}</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Resolves into the Strands API ID used to connect Kentico to the Strands services.</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>(Optional) Use this macro to replace the API ID in the code of the widget. The ID typed into the code without the use of macros works as well.</p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>{% <i class=" ">PropertyName</i> %}</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>Resolves into the value of a given property.</p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
    <p   
>(Optional) Use the name of your <a   href="k11/Preparing-email-widgets.htm#src-70453309_Preparingemailwidgets-Definingemailwidgetproperties">properties</a> instead of <i class=" ">PropertyName</i>. This macro allows for more customization. It can be used to choose from different templates, as seen on the <i class=" ">Dancing Goat</i> sample site example.</p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    <h3 id="src-68882869_ConfiguringStrandsrecommendationsemailwidget-Assigningwidgettoemailtemplate" class="heading "><span>Assigning widget to email template</span></h3>
<p   
>After a new widget is cretated in the system, it is not automatically displayed in the <strong class=" ">Email builder</strong>. To display the widget, you need to <a   href="k11/Preparing-email-widgets.htm">assign it to an email template</a>.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
