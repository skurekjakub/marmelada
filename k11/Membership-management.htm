<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Membership management - Kentico 11 Documentation</title>

    
    <link rel="stylesheet" href="assets/css/expand-macro.css">

            <meta name="scroll-content-language-key" content="">
    
    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/translate.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>

    <script type="text/javascript" src="assets/js/iframeResizer.min.js"></script>

<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script> 
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="68879260">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">K11</span>
                    <img class="space-logo" src="global.logo" />
                </h1>
                <a href="Kentico-11-Documentation-Home.htm" class="ht-space-link">
                    <h2>Kentico 11 Documentation</h2>
                </a>
            </header>
                            <iframe id="ht-nav" src="toc.html?pageId=68880417"></iframe>
                <script>
                    $('iframe#ht-nav').iFrameResize(
                            { 'log': true, 'autoResize': true, 'heightCalculationMethod': 'lowestElement', 'checkOrigin': false });
                </script>
                    </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <li><a href="Kentico-11-Documentation-Home.htm">Kentico 11 Documentation</a></li>
                                                                                     <li><a href="Managing-users.htm">Managing users</a></li>
                                                            </ul>
</div>            <h1 id="src-68880417"> <span>Membership management</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">
<p   
>The <strong class=" ">Membership</strong> application allows you to define special types of user membership for the website (or globally for all sites in the system).</p>
<p   
>Within the security model of Kentico, membership objects perform a function similar to <a   href="k11/Role-management.htm">roles</a>. Users that belong to memberships are authorized to perform certain actions on the website, access secured content or similar. However, memberships do not directly allow individual permissions, but instead group together one or more existing roles. When a membership is assigned, it grants the given user the sum of all permissions defined for the contained roles.</p>
<p   
>Typically, a membership will be associated with a certain product, which can then be purchased by users through the website&#39;s e&#8209;commerce features. This will allow them to gain access to restricted sections of the website or other types of premium content for a specified amount of time. For additional information about how you can offer various types of website membership as products, see <a   href="k11/Managing-E-commerce-memberships.htm">Managing E-commerce memberships</a>.</p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Memberships versus roles</strong></p>
<p   
>Memberships are mainly intended to be used in combination with e&#8209;commerce for live site users and customers, or for other specific purposes where an additional security layer that groups together multiple roles is useful.</p>
<p   
>If you need to define authorization options for different types of users, such as content editors or administrators for specific applications, it is recommended to do so directly using standard roles.</p>
        </div>
    </div>
    <div  class="confbox panel">
            <div class="title panel-header">On this page</div>
            <div class="panel-content">
<p   
></p>
<ul class="toc-indentation "><li class=" "><p   
><a   href="k11/#src-68880417_Membershipmanagement-Managingmemberships">Managing memberships</a></p>
</li><li class=" "><p   
><a   href="k11/#src-68880417_Membershipmanagement-Settingmembershipsforusers">Setting memberships for users</a></p>
</li><li class=" "><p   
><a   href="k11/#src-68880417_Membershipmanagement-Membershipexpirationreminders">Membership expiration reminders</a></p>
</li></ul><p   
></p>
        </div>
    </div>
    <div  class="confbox panel">
            <div class="title panel-header">Related pages</div>
            <div class="panel-content">
<ul class=" "><li class=" "><p   
><a   href="k11/Role-management.htm">Role management</a></p>
</li><li class=" "><p   
><a   href="k11/Managing-E-commerce-memberships.htm">Managing E-commerce memberships</a></p>
</li></ul>        </div>
    </div>
    <h3 id="src-68880417_Membershipmanagement-Managingmemberships" class="heading "><span>Managing memberships</span></h3>
<p   
>You can manage memberships in the <strong class=" ">Membership</strong> application.</p>
<p   
><img  class="confluence-embedded-image confluence-content-image-border"  src="images/download/attachments/1835366/Membership_app.png" alt="images/download/attachments/1835366/Membership_app.png" width="377" height="234" />
    </p>
<p   
>Memberships can either be assigned to a specific site or defined as global objects that are available for all sites. You can select the site context using the <strong class=" ">Site</strong> drop&#8209;down list at the top of the page. Only the Global administrator can manage global objects.</p>
<p   
>You can specify the following properties when creating a new membership:</p>
<ul class=" "><li class=" "><p   
><strong class=" ">Membership name</strong> &ndash; sets a name for the membership which is displayed in the administration interface.</p>
</li><li class=" "><p   
><strong class=" ">Membership code name</strong> &ndash; sets a name that serves as an identifier for the membership.</p>
</li><li class=" "><p   
><strong class=" ">Membership description</strong> &ndash; can be used to enter an optional text description for the membership.</p>
</li></ul><p   
>There are four tabs available when editing a membership:</p>
    <h5 id="src-68880417_Membershipmanagement-General" class="heading "><span>General</span></h5>
<p   
>On this tab you can edit the same properties that were specified when the membership was created.</p>
    <h5 id="src-68880417_Membershipmanagement-Roles" class="heading "><span>Roles</span></h5>
<p   
>On this tab you can define which roles which the membership should contain. When the membership is assigned to a user, it will grant all permissions allowed by the specified roles until it expires.</p>
<p   
>To add roles, click the <strong class=" ">Add roles</strong> button and check the boxes next to the appropriate roles in the displayed selection dialog. Only roles that belong under the same site as the membership can be chosen (global memberships may only contain global roles).</p>
<p   
>If you need to add a role under multiple memberships, you can do this more quickly in the <strong class=" ">Roles</strong> application by editing the given role on its <strong class=" ">Memberships</strong> tab. There you may easily assign the role to any number of memberships using a single action.</p>
    <h5 id="src-68880417_Membershipmanagement-Users" class="heading "><span>Users</span></h5>
<p   
>On this tab you can view which users are assigned to the currently edited membership. For as long as their membership is valid, the listed users will be authorized to perform any actions allowed for the roles that the membership contains, as defined on the <strong class=" ">Roles</strong> tab.</p>
<p   
>Typically users will be added automatically when they purchase the membership as a product, so it is not necessary to manually assign them one by one. The purpose of this tab is to allow administrators to monitor the membership and override its settings if necessary.</p>
<p   
>If you wish to add users, click the <strong class=" ">Add users</strong> button and check the boxes next to the appropriate users in the displayed selection dialog. Only users who are assigned to the same site as the membership can be chosen (global memberships may be assigned to all users in the system).</p>
<p   
><img  class="confluence-embedded-image confluence-content-image-border"  src="images/download/attachments/1835366/Select_users.png" alt="images/download/attachments/1835366/Select_users.png" width="500"  />
    </p>
<p   
>Using the <strong class=" ">Valid to</strong> field you can specify the exact date and time when the membership should expire for the given users. If this field is left empty, the users will be assigned to the membership for an unlimited time period. If you set an expiration date for the membership, you can also select the <strong class=" ">Send notification</strong> check box to enable email reminders that will be sent to the selected users before their membership ends. For more about notification emails, see <a   href="k11/#src-68880417_Membershipmanagement-Membershipexpirationreminders">Membership expiration reminders</a> below.</p>
<p   
>Using the <strong class=" ">Change validity</strong> (<img  class="confluence-embedded-image"  src="images/download/attachments/41484305/calendar.png" alt="images/download/attachments/41484305/calendar.png"   />
) action you can prolong or shorten the time interval for which the user should be assigned to the membership. This way you can set an expiration date or reactivate expired memberships for users.</p>
    <h5 id="src-68880417_Membershipmanagement-Products" class="heading "><span>Products</span></h5>
<p   
>This tab displays a list of products with which the membership is associated, as well as additional details. When purchased, these products assign the membership to the customer along with the authorization options that it provides. Membership as a type of product is described in <a   href="k11/Managing-E-commerce-memberships.htm">Managing E-commerce memberships</a>.</p>
    <h3 id="src-68880417_Membershipmanagement-Settingmembershipsforusers" class="heading "><span>Setting memberships for users</span></h3>
<p   
>It is also possible to directly manage the memberships of individual users via the administration interface in the <strong class=" ">Users</strong> application.</p>
<p   
>When editing a user, switch to the <strong class=" ">Membership</strong> tab where you can add or remove memberships to/from the user. Note that global memberships can only be assigned by users with the Global administrator <a   href="k11/User-management.htm">privilege level</a>. Using this approach, you can set an expiration date for each of the memberships assigned to the user.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
><strong class=" ">Displaying memberships on the live site</strong></p>
<p   
>The My account web part from the <strong class=" ">Membership -&gt; Logon &amp; Registration</strong> category can be used to allow users to view a summary of their current memberships on the live site. If its <strong class=" ">Other tabs -&gt; Display my membership</strong> property is enabled, the web part will display a list of all memberships assigned to the current user and their expiration dates.</p>
<p   
>The web part may also be configured using its <strong class=" ">Memberships -&gt; Memberships page URL</strong> property to generate a link to a page where users can buy new memberships for the website or renew existing ones.</p>
        </div>
    </div>
    <h3 id="src-68880417_Membershipmanagement-Membershipexpirationreminders" class="heading "><span>Membership expiration reminders</span></h3>
<p   
>To help users keep track of their memberships and ensure that they know when it is necessary to renew a paid membership, the application includes an automatic notification feature.</p>
<p   
>There is a global <a   href="k11/Scheduling-tasks.htm">scheduled task</a> named <strong class=" ">Membership reminder</strong> that periodically checks memberships (once per day by default) and sends a notification e&#8209;mail to users whose membership will expire within the amount of days specified by the <strong class=" ">Settings -&gt; Security &amp; Membership -&gt; Send Membership reminder (days)</strong> field. You can configure this task and setting as needed.</p>
    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
<p   
>The <strong class=" ">Membership reminder</strong> scheduled task is a global scheduled task and works by default only for global memberships. If you use site memberships, you need to clone the scheduled task to the specific site.</p>
<p   
>To clone the scheduled task to a specific site:</p>
<ol class=" "><li class=" "><p   
>Open the <strong class=" ">Scheduled tasks</strong> application.</p>
</li><li class=" "><p   
>Next to the <strong class=" ">Membership reminder</strong> task, click <strong class=" ">Other actions</strong> (<img  class="confluence-embedded-image"  src="images/download/attachments/68879208/other_actions.png" alt="images/download/attachments/68879208/other_actions.png"   />
)<strong class=" "> -&gt;</strong> <strong class=" ">Clone</strong>.</p>
</li><li class=" "><p   
>In the dialog, click <strong class=" ">Show advanced settings</strong>.</p>
</li><li class=" "><p   
>In <strong class=" ">Clone to site</strong>, select the site.</p>
</li><li class=" "><p   
>(Optional) Set the other fields as desired.</p>
</li><li class=" "><p   
>Click <strong class=" ">Clone</strong>.</p>
</li></ol>        </div>
    </div>
<p   
>These reminders are only sent for memberships that were assigned with the <strong class=" ">Send notification</strong> flag enabled and for those that were purchased as a product with a limited duration. The content of the reminder e&#8209;mails is taken from the <strong class=" ">Membership - Expiration notification</strong> e&#8209;mail template, which can be edited via the<strong class=" "> E</strong><strong class=" ">&#8209;</strong><strong class=" ">mail templates</strong> application.</p>
<p   
><img  class="confluence-embedded-image confluence-content-image-border"  src="images/download/attachments/1835366/HTML_email_template.png" alt="images/download/attachments/1835366/HTML_email_template.png" width="500"  />
        <br/><span class="caption">Editing the expiration notification e-mail template</span>
    </p>
<p   
>When editing this e&#8209;mail template, you can use the <strong class=" ">{% MembershipsTable %}</strong> context macro to insert a list of all memberships that will soon expire for the given user. This list must be formatted via a <strong class=" ">Text/ XML</strong> type <a   href="k11/Writing-transformations.htm">transformation</a>, which you can specify through the <i class=" ">ApplyTransformation</i> method, for example:</p>
<p   
><i class=" ">{%MembershipsTable.ApplyTransformation(&quot;Ecommerce.Transformations.Order_MembershipsTable&quot;)%}</i></p>
<p   
>In addition to this special macro, you can also use all other standard <a   href="k11/Macro-expressions.htm">macro expressions</a> in the templates.</p>
        </div>

    </article>


               
            
    <footer id="ht-footer">
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer></div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

    <script src="assets/js/expand-macro.js"></script>
</body>
</html>
