function _typeof2(t){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof2(t)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(t);
/*!
   * Snackbar v0.1.14
   * http://polonel.com/Snackbar
   *
   * Copyright 2018 Chris Brame and other contributors
   * Released under the MIT license
   * https://github.com/polonel/Snackbar/blob/master/LICENSE
   */}!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],(function(){return t.Snackbar=e()})):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t.Snackbar=e():t.Snackbar=e()}(this,(function(){var t={current:null},e={text:"Default Text",textColor:"#FFFFFF",width:"auto",showAction:!0,actionText:"Dismiss",actionTextAria:"Dismiss, Description for Screen Readers",alertScreenReader:!1,actionTextColor:"#4CAF50",showSecondButton:!1,secondButtonText:"",secondButtonAria:"Description for Screen Readers",secondButtonTextColor:"#4CAF50",backgroundColor:"#323232",pos:"bottom-left",duration:5e3,customClass:"",onActionClick:function(t){t.style.opacity=0},onSecondButtonClick:function(t){},onClose:function(t){}};t.show=function(n){var r=o(!0,e,n);t.current&&(t.current.style.opacity=0,setTimeout(function(){var t=this.parentElement;t&&t.removeChild(this)}.bind(t.current),500)),t.snackbar=document.createElement("div"),t.snackbar.className="snackbar-container "+r.customClass,t.snackbar.style.width=r.width;var c=document.createElement("p");if(c.style.margin=0,c.style.padding=0,c.style.color=r.textColor,c.style.lineHeight="1em",c.innerHTML=r.text,t.snackbar.appendChild(c),t.snackbar.style.background=r.backgroundColor,r.showSecondButton){var a=document.createElement("button");a.className="action",a.innerHTML=r.secondButtonText,a.setAttribute("aria-label",r.secondButtonAria),a.style.color=r.secondButtonTextColor,a.addEventListener("click",(function(){r.onSecondButtonClick(t.snackbar)})),t.snackbar.appendChild(a)}if(r.showAction){var i=document.createElement("button");i.className="action",i.innerHTML=r.actionText,i.setAttribute("aria-label",r.actionTextAria),i.style.color=r.actionTextColor,i.addEventListener("click",(function(){r.onActionClick(t.snackbar)})),t.snackbar.appendChild(i)}r.duration&&setTimeout(function(){t.current===this&&(t.current.style.opacity=0,t.current.style.top="-100px",t.current.style.bottom="-100px")}.bind(t.snackbar),r.duration),r.alertScreenReader&&t.snackbar.setAttribute("role","alert"),t.snackbar.addEventListener("transitionend",function(e,o){"opacity"===e.propertyName&&"0"===this.style.opacity&&("function"==typeof r.onClose&&r.onClose(this),this.parentElement.removeChild(this),t.current===this&&(t.current=null))}.bind(t.snackbar)),t.current=t.snackbar,document.body.appendChild(t.snackbar),getComputedStyle(t.snackbar).bottom,getComputedStyle(t.snackbar).top,t.snackbar.style.opacity=1,t.snackbar.className="snackbar-container "+r.customClass+" snackbar-pos "+r.pos},t.close=function(){t.current&&(t.current.style.opacity=0)};var o=function t(){var e={},o=!1,n=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(o=arguments[0],n++);for(var c=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o&&"[object Object]"===Object.prototype.toString.call(n[r])?e[r]=t(!0,e[r],n[r]):e[r]=n[r])};n<r;n++)c(arguments[n]);return e};return t}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNuYWNrYmFyLmpzIl0sIm5hbWVzIjpbInQiLCJlIiwiZGVmaW5lIiwiYW1kIiwiU25hY2tiYXIiLCJtb2R1bGUiLCJfdHlwZW9mIiwiZXhwb3J0cyIsInRoaXMiLCJjdXJyZW50IiwidGV4dCIsInRleHRDb2xvciIsIndpZHRoIiwic2hvd0FjdGlvbiIsImFjdGlvblRleHQiLCJhY3Rpb25UZXh0QXJpYSIsImFsZXJ0U2NyZWVuUmVhZGVyIiwiYWN0aW9uVGV4dENvbG9yIiwic2hvd1NlY29uZEJ1dHRvbiIsInNlY29uZEJ1dHRvblRleHQiLCJzZWNvbmRCdXR0b25BcmlhIiwic2Vjb25kQnV0dG9uVGV4dENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicG9zIiwiZHVyYXRpb24iLCJjdXN0b21DbGFzcyIsIm9uQWN0aW9uQ2xpY2siLCJzdHlsZSIsIm9wYWNpdHkiLCJvblNlY29uZEJ1dHRvbkNsaWNrIiwiciIsIm4iLCJvIiwicGFyZW50RWxlbWVudCIsImRvY3VtZW50IiwicGFkZGluZyIsImNyZWF0ZUVsZW1lbnQiLCJzbmFja2JhciIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJwcm9wZXJ0eU5hbWUiLCJiaW5kIiwiYyIsImFyZ3VtZW50cyIsImNsb3NlIiwibWFyZ2luIiwiY29sb3IiLCJpbm5lckhUTUwiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImEiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJhZGRFdmVudExpc3RlbmVyIiwiaSIsInNldFRpbWVvdXQiLCJ0b3AiLCJib3R0b20iLCJvbkNsb3NlIiwiYm9keSIsImdldENvbXB1dGVkU3R5bGUiLCJsZW5ndGgiLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O09BU0EsU0FBVUEsRUFBTUMsR0FBZixhQUd5QixtQkFBWEMsUUFBeUJBLE9BQU9DLElBQXZDRCxPQUFPLElBQU0sV0FDTixPQUFJRixFQUFBSSxTQUFXSCxHQUNsQixJ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YmFyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBTbmFja2JhciB2MC4xLjE0XG4gKiBodHRwOi8vcG9sb25lbC5jb20vU25hY2tiYXJcbiAqXG4gKiBDb3B5cmlnaHQgMjAxOCBDaHJpcyBCcmFtZSBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wb2xvbmVsL1NuYWNrYmFyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAocm9vdC5TbmFja2JhciA9IGZhY3RvcnkoKSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByb290LlNuYWNrYmFyID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuU25hY2tiYXIgPSBmYWN0b3J5KCk7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIFNuYWNrYmFyID0ge307XG5cbiAgICBTbmFja2Jhci5jdXJyZW50ID0gbnVsbDtcbiAgICB2YXIgJGRlZmF1bHRzID0ge1xuICAgICAgICB0ZXh0OiAnRGVmYXVsdCBUZXh0JyxcbiAgICAgICAgdGV4dENvbG9yOiAnI0ZGRkZGRicsXG4gICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgIHNob3dBY3Rpb246IHRydWUsXG4gICAgICAgIGFjdGlvblRleHQ6ICdEaXNtaXNzJyxcbiAgICAgICAgYWN0aW9uVGV4dEFyaWE6ICdEaXNtaXNzLCBEZXNjcmlwdGlvbiBmb3IgU2NyZWVuIFJlYWRlcnMnLFxuICAgICAgICBhbGVydFNjcmVlblJlYWRlcjogZmFsc2UsXG4gICAgICAgIGFjdGlvblRleHRDb2xvcjogJyM0Q0FGNTAnLFxuICAgICAgICBzaG93U2Vjb25kQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgc2Vjb25kQnV0dG9uVGV4dDogJycsXG4gICAgICAgIHNlY29uZEJ1dHRvbkFyaWE6ICdEZXNjcmlwdGlvbiBmb3IgU2NyZWVuIFJlYWRlcnMnLFxuICAgICAgICBzZWNvbmRCdXR0b25UZXh0Q29sb3I6ICcjNENBRjUwJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzMyMzIzMicsXG4gICAgICAgIHBvczogJ2JvdHRvbS1sZWZ0JyxcbiAgICAgICAgZHVyYXRpb246IDUwMDAsXG4gICAgICAgIGN1c3RvbUNsYXNzOiAnJyxcbiAgICAgICAgb25BY3Rpb25DbGljazogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgb25TZWNvbmRCdXR0b25DbGljazogZnVuY3Rpb24oZWxlbWVudCkge30sXG4gICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uKGVsZW1lbnQpIHt9XG4gICAgfTtcblxuICAgIFNuYWNrYmFyLnNob3cgPSBmdW5jdGlvbigkb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IEV4dGVuZCh0cnVlLCAkZGVmYXVsdHMsICRvcHRpb25zKTtcblxuICAgICAgICBpZiAoU25hY2tiYXIuY3VycmVudCkge1xuICAgICAgICAgICAgU25hY2tiYXIuY3VycmVudC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkcGFyZW50ID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHBhcmVudClcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9zc2libGUgbnVsbCBpZiB0b28gbWFueS9mYXN0IFNuYWNrYmFyc1xuICAgICAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9LmJpbmQoU25hY2tiYXIuY3VycmVudCksXG4gICAgICAgICAgICAgICAgNTAwXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgU25hY2tiYXIuc25hY2tiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgU25hY2tiYXIuc25hY2tiYXIuY2xhc3NOYW1lID0gJ3NuYWNrYmFyLWNvbnRhaW5lciAnICsgb3B0aW9ucy5jdXN0b21DbGFzcztcbiAgICAgICAgU25hY2tiYXIuc25hY2tiYXIuc3R5bGUud2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgICB2YXIgJHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICRwLnN0eWxlLm1hcmdpbiA9IDA7XG4gICAgICAgICRwLnN0eWxlLnBhZGRpbmcgPSAwO1xuICAgICAgICAkcC5zdHlsZS5jb2xvciA9IG9wdGlvbnMudGV4dENvbG9yO1xuICAgICAgICAvLyBDVVNUT00gLSBkaXNhYmxlcyB0aGUgZGVmYXVsdCBmb250IG9wdGlvbnNcblx0XHQvKiRwLnN0eWxlLmZvbnRTaXplID0gJzE0cHgnO1xuICAgICAgICAkcC5zdHlsZS5mb250V2VpZ2h0ID0gMzAwOyovXG4gICAgICAgICRwLnN0eWxlLmxpbmVIZWlnaHQgPSAnMWVtJztcbiAgICAgICAgJHAuaW5uZXJIVE1MID0gb3B0aW9ucy50ZXh0O1xuICAgICAgICBTbmFja2Jhci5zbmFja2Jhci5hcHBlbmRDaGlsZCgkcCk7XG4gICAgICAgIFNuYWNrYmFyLnNuYWNrYmFyLnN0eWxlLmJhY2tncm91bmQgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvcjtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93U2Vjb25kQnV0dG9uKSB7XG4gICAgICAgICAgICB2YXIgc2Vjb25kQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBzZWNvbmRCdXR0b24uY2xhc3NOYW1lID0gJ2FjdGlvbic7XG4gICAgICAgICAgICBzZWNvbmRCdXR0b24uaW5uZXJIVE1MID0gb3B0aW9ucy5zZWNvbmRCdXR0b25UZXh0O1xuICAgICAgICAgICAgc2Vjb25kQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIG9wdGlvbnMuc2Vjb25kQnV0dG9uQXJpYSk7XG4gICAgICAgICAgICBzZWNvbmRCdXR0b24uc3R5bGUuY29sb3IgPSBvcHRpb25zLnNlY29uZEJ1dHRvblRleHRDb2xvcjtcbiAgICAgICAgICAgIHNlY29uZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMub25TZWNvbmRCdXR0b25DbGljayhTbmFja2Jhci5zbmFja2Jhcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFNuYWNrYmFyLnNuYWNrYmFyLmFwcGVuZENoaWxkKHNlY29uZEJ1dHRvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93QWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgYWN0aW9uQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBhY3Rpb25CdXR0b24uY2xhc3NOYW1lID0gJ2FjdGlvbic7XG4gICAgICAgICAgICBhY3Rpb25CdXR0b24uaW5uZXJIVE1MID0gb3B0aW9ucy5hY3Rpb25UZXh0O1xuICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIG9wdGlvbnMuYWN0aW9uVGV4dEFyaWEpO1xuICAgICAgICAgICAgYWN0aW9uQnV0dG9uLnN0eWxlLmNvbG9yID0gb3B0aW9ucy5hY3Rpb25UZXh0Q29sb3I7XG4gICAgICAgICAgICBhY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm9uQWN0aW9uQ2xpY2soU25hY2tiYXIuc25hY2tiYXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBTbmFja2Jhci5zbmFja2Jhci5hcHBlbmRDaGlsZChhY3Rpb25CdXR0b24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChTbmFja2Jhci5jdXJyZW50ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTbmFja2Jhci5jdXJyZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBuYXR1cmFsIHJlbW92ZSBldmVudCBvY2N1cnMgbGV0J3MgbW92ZSB0aGUgc25hY2tiYXIgdG8gaXRzIG9yaWdpbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIFNuYWNrYmFyLmN1cnJlbnQuc3R5bGUudG9wID0gJy0xMDBweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBTbmFja2Jhci5jdXJyZW50LnN0eWxlLmJvdHRvbSA9ICctMTAwcHgnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfS5iaW5kKFNuYWNrYmFyLnNuYWNrYmFyKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zLmR1cmF0aW9uXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYWxlcnRTY3JlZW5SZWFkZXIpIHtcbiAgICAgICAgICAgU25hY2tiYXIuc25hY2tiYXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2FsZXJ0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBTbmFja2Jhci5zbmFja2Jhci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgZnVuY3Rpb24oZXZlbnQsIGVsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucHJvcGVydHlOYW1lID09PSAnb3BhY2l0eScgJiYgdGhpcy5zdHlsZS5vcGFjaXR5ID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihvcHRpb25zLm9uQ2xvc2UpID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkNsb3NlKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFNuYWNrYmFyLmN1cnJlbnQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNuYWNrYmFyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfS5iaW5kKFNuYWNrYmFyLnNuYWNrYmFyKVxuICAgICAgICApO1xuXG4gICAgICAgIFNuYWNrYmFyLmN1cnJlbnQgPSBTbmFja2Jhci5zbmFja2JhcjtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKFNuYWNrYmFyLnNuYWNrYmFyKTtcbiAgICAgICAgdmFyICRib3R0b20gPSBnZXRDb21wdXRlZFN0eWxlKFNuYWNrYmFyLnNuYWNrYmFyKS5ib3R0b207XG4gICAgICAgIHZhciAkdG9wID0gZ2V0Q29tcHV0ZWRTdHlsZShTbmFja2Jhci5zbmFja2JhcikudG9wO1xuICAgICAgICBTbmFja2Jhci5zbmFja2Jhci5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgU25hY2tiYXIuc25hY2tiYXIuY2xhc3NOYW1lID1cbiAgICAgICAgICAgICdzbmFja2Jhci1jb250YWluZXIgJyArIG9wdGlvbnMuY3VzdG9tQ2xhc3MgKyAnIHNuYWNrYmFyLXBvcyAnICsgb3B0aW9ucy5wb3M7XG4gICAgfTtcblxuICAgIFNuYWNrYmFyLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChTbmFja2Jhci5jdXJyZW50KSB7XG4gICAgICAgICAgICBTbmFja2Jhci5jdXJyZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFB1cmUgSlMgRXh0ZW5kXG4gICAgLy8gaHR0cDovL2dvbWFrZXRoaW5ncy5jb20vdmFuaWxsYS1qYXZhc2NyaXB0LXZlcnNpb24tb2YtanF1ZXJ5LWV4dGVuZC9cbiAgICB2YXIgRXh0ZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBleHRlbmRlZCA9IHt9O1xuICAgICAgICB2YXIgZGVlcCA9IGZhbHNlO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzWzBdKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nKSB7XG4gICAgICAgICAgICBkZWVwID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1lcmdlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVlcCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqW3Byb3BdKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkW3Byb3BdID0gRXh0ZW5kKHRydWUsIGV4dGVuZGVkW3Byb3BdLCBvYmpbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRbcHJvcF0gPSBvYmpbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIG1lcmdlKG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXh0ZW5kZWQ7XG4gICAgfTtcblxuICAgIHJldHVybiBTbmFja2Jhcjtcbn0pO1xuIl19
