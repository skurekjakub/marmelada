var longToByteArray=function(e){for(var o=[0,0,0,0],t=0;t<o.length;t++){var n=255&e;o[t]=n,e=(e-n)/256}return o},pageIdToB64=function(e){return btoa(longToByteArray(e).map(String.fromCharCode).map((function(e){return e[0]})).join("")).replace(/=/g,"")},generateTinyId=function(e){for(var o=!0,t="",n=e.length-1;n>=0;n--){var i=e.charAt(n);"="!==i&&"\n"!=i&&(o&&"A"===i||(o=!1,t="/"===i?"-"+t:"+"===i?"_"+t:i+t))}if(t.length>0){var r=t.charAt(t.length-1);"-"!==r&&"_"!==r||(t+="/")}return t};CONFIG.CONFLUENCE_PAGE_TINYID=generateTinyId(pageIdToB64(CONFIG.CONFLUENCE_PAGE_ID));var displayPageUrlId=function(e){var o=CONFIG.CONFLUENCE_PAGE_TINYID;o?$.ajax({url:CONFIG.HELPSERVICE_URLID_ENDPOINT+o,success:function(e){var t=JSON.parse(e);t.hasOwnProperty("Identifier")?$("#pageUrlId").text(" Help Service ID: "+t.Identifier+" (TinyID: "+o+")"):$("#pageUrlId").text(" Help Service ID: "+t.Error)},timeout:800}):$("#pageUrlId").text("Error when generating the page tiny ID. See the console for details.")};Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"remove-initial-line-feed":!1,"tabs-to-spaces":4});var setExportPdf=function(){var e=$("body").attr("data-pagetitle");$("#export-pdf").attr("href","../pdf/".concat(CONFIG.CONFLUENCE_SPACE_KEY.toLowerCase(),"/").concat(e.toLowerCase().replace(/ /g,"-"),".pdf"))};$(document).ready(setExportPdf);var versionSwitcherData,openPageLink=function(e){CONFIG.CONFLUENCE_PAGE_TINYID?togglePageLinkPanel(CONFIG.BASE_URL+"/x/"+CONFIG.CONFLUENCE_PAGE_TINYID):togglePageLinkPanel(window.location.href)},togglePageLinkPanel=function(e){$("#page-link-textbox").attr("value",e),$("#page-link-panel").hasClass("show")?$("#page-link-panel").removeClass("show"):$("#page-link-panel").addClass("show")},copyPageLinkToClip=function(){void 0===navigator.clipboard?Snackbar.show({text:"An error occurred while copying the page link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"}):navigator.clipboard.writeText($("#page-link-textbox").attr("value")).then((function(){Snackbar.show({text:"Page link copied",pos:"top-right",showAction:!1,customClass:"box-general box-info",duration:"2500",backgroundColor:"#EEF3FC",textColor:"#151515"})})).catch((function(){Snackbar.show({text:"An error occurred while copying the page link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"})}))},closePageLink=function(){return $("#page-link-panel").removeClass("show")},getVersionTextFromVersionId=function(e){return DOCUMENTATION_VERSIONS.find((function(o){return o.versionId==e})).versionText},getVersionTextFromHelpServiceId=function(e){return DOCUMENTATION_VERSIONS.find((function(o){return o.helpServiceVersion==e})).versionText},loadVersionLinkData=function(e){$.ajax({dataType:"json",url:CONFIG.HELPSERVICE_LISTALTVERSIONLINKS_ENDPOINT+e,timeout:2e3,tryCount:0,retryLimit:3,success:function(e){versionSwitcherData=e},error:function(e,o,t){if("timeout"==o)return this.tryCount++,this.tryCount<=this.retryLimit?void $.ajax(this):void 0}})},versionLinkUpdateDone=!1,insertVersionLinks=function(e){void 0!==e?(versionLinkUpdateDone||(e.forEach((function(e){var o=$(".js-menuDdl-version a:contains("+getVersionTextFromHelpServiceId(e.VersionUrlId)+")");o&&(o.attr("href",e.Url),o.addClass(" populated"))})),$(".js-menuDdl-version a").toArray().forEach((function(e){e.classList.contains("populated")||(e.classList.add("empty"),"Xperience 13"===e.textContent?(e.setAttribute("href",CONFIG.XPERIENCE13_MISSING_PAGES_URL+"?ref="+$(location).attr("href").split("/").pop()),e.setAttribute("title","The current page is not available in the Xperience 13 documentation. \r\nYou will be redirected to a general guidance page.")):"Xperience by Kentico"===e.textContent?(e.setAttribute("href",CONFIG.XP_MISSING_PAGES_URL+"?ref="+$(location).attr("href").split("/").pop()),e.setAttribute("title","The current page is not available in the Xperience by Kentico documentation. \r\nYou will be redirected to a general guidance page.")):e.setAttribute("title","The current page is not available for this documentation version. \r\nYou will be redirected to the home page for this version."))})),versionLinkUpdateDone=!0),openCloseVersionDdl()):openCloseVersionDdl()},insertSearchVersionLinks=function(){versionLinkUpdateDone||($(".js-menuDdl-version a").each((function(){var e=this.href.split("/"),o=getDocVersion(e[e.length-1]),t="/"!==this.href.slice(-1)?"/":"";if(CONFIG.CONFLUENCE_DEVMODEL_VERSIONSWITCHER_WHITELIST.indexOf(o)>=0)this.href=this.href+t+"search"+window.location.search;else{for(var n=window.location.search.split("&"),i=n.length;i-- >0;)0==n[i].indexOf("l=")&&n.splice(i,1);this.href=this.href+t+"search"+n.join("&")}})),versionLinkUpdateDone=!0);openCloseVersionDdl()},openCloseDocTypeDdl=function(){$(".js-menuDdl-docType").toggleClass("show"),$(".js-menuDdlBtn-docType").toggleClass("opened")},openCloseVersionDdl=function(){$(".js-menuDdl-version").toggleClass("show"),$(".js-menuDdlBtn-version").toggleClass("opened")},getDocType=function(e){return/api/i.test(e)?"API Examples":/tutorial/i.test(e)?"Tutorial":"Documentation"},getDocVersion=function(e){switch(e){case"K12SP":case"API12SP":case"K12SPTutorial":return"12sp";case"XP":case"Tutorial":case"Api":return"xp";default:return e.replace(/[^0-9]/g,"")}},getVersionLinkTitle=function(e){return"12sp"===e?"Kentico 12 Service Pack":getVersionTextFromVersionId(e)},buildDocLink=function(e,o,t,n){var i,r="/";if(-1===CONFIG.OBSOLETE_SPACE_KEY_FORMAT_VERSIONS.indexOf(e)){var a="xp"===e?"":e;switch(o){case"Tutorial":i=a+"tutorial";break;case"API Examples":i=a+"api";break;default:i=e}i===CONFIG.DOC_ROOT_URL_SPACE_KEY&&(i="",r="")}else switch(o){case"Tutorial":i="k"+e+"tutorial";break;case"API Examples":i="api"+e;break;default:i="k"+e}var s=$('[name="ajs-base-url"]').attr("content"),c=t?o:getVersionTextFromVersionId(e);return'<li><a href="'+s+r+i+'"'+('class="'+(n?" current":"")+'"')+(' title="'+(t?o:getVersionLinkTitle(e))+'"')+">"+c+"</a></li>"},loadDocVersionHeaderList=function(e,o){var t=$('[name="confluence-user-logged-in"]').attr("content"),n=DOCUMENTATION_VERSIONS.filter((function(o){return("API Examples"!==e||"8"!==o.versionId&&"81"!==o.versionId&&"82"!==o.versionId)&&("true"===t||o.versionId!==CONFIG.DEV_DOCUMENTATION_VERSION_ID)&&"12"!==o.versionId})),i="";n.forEach((function(t){t.versionId==CONFIG.NEWEST_UNSUPPORTED_VERSION_ID&&(i+='<li class="js-unsupported-versions"><button class="header-ddl-button-nested js-unsupported-versions-button">All versions</button><ul class="menu-ddl-content nested-list docVersion js-unsupported-versions-list">'),i+=buildDocLink(t.versionId,e,!1,t.versionId==o)})),i+="</ul></li>",$(".js-menuDdlBtn-version").html(getVersionTextFromVersionId(o)),$(".js-menuDdl-version").html(i)};$(document).on("click",".js-unsupported-versions-button",(function(){$(".js-unsupported-versions-list").toggleClass("show"),$(".js-unsupported-versions-list").toggleClass("opened")}));var loadDocTypeHeaderList=function(e,o){var t=["Documentation","Tutorial","API Examples"];t=t.filter((function(o){return"8"!==e&&"81"!==e&&"82"!==e||"API Examples"!==o}));var n="";t.forEach((function(t){n+=buildDocLink(e,t,!0,t==o)})),$(".js-menuDdlBtn-docType").html(o),$(".js-menuDdl-docType").html(n)},loadHeaderLists=function(){var e=getDocVersion(CONFIG.CONFLUENCE_SPACE_KEY),o=getDocType(CONFIG.CONFLUENCE_SPACE_KEY);loadDocTypeHeaderList(e,o),loadDocVersionHeaderList(o,e)},closeHeaderDropDowns=function(e){var o=$(".js-menuDdlBtn-docType"),t=$(".js-menuDdlBtn-version"),n=$(".js-unsupported-versions-button"),i=$(".js-unsupported-versions-list"),r=$(".js-menuDdlBtn-devModel"),a=$(".js-menuDdl-devModel");n.is(e.target)||(o.is(e.target)||0!==o.has(e.target).length||($(".js-menuDdl-docType").removeClass("show"),o.removeClass("opened")),t.is(e.target)||0!==t.has(e.target).length||($(".js-menuDdl-version").removeClass("show"),t.removeClass("opened"),i.removeClass("opened"),i.removeClass("show")),r.is(e.target)||0!==a.has(e.target).length||(a.removeClass("show"),r.removeClass("opened")))};$(document).ready(loadHeaderLists),$(document).click(closeHeaderDropDowns);var isDevModelSwitcherSupported=function(){var e=CONFIG.CONFLUENCE_SPACE_KEY;return!e.toLowerCase().includes("api")&&CONFIG.CONFLUENCE_DEVMODEL_VERSIONSWITCHER_WHITELIST.indexOf(getDocVersion(e))>=0},getPageLabels=function(){var e=$('[name="confluence-page-labels"]').attr("content");return e=(e=e.slice(1,-1)).split(", ")},setDevModelWebStorage=function(){if(isDevModelSwitcherSupported()&&"undefined"!=typeof Storage){var e=getPageLabels();if(e.indexOf("mvc")>=0)return void(localStorage.kenticoDocumentationMode="mvc");if(e.indexOf("pe")>=0)return void(localStorage.kenticoDocumentationMode="pe");var o=window.location.search;if(o.indexOf("devModel=mvc")>=0)return void(localStorage.kenticoDocumentationMode="mvc");if(o.indexOf("devModel=pe")>=0)return void(localStorage.kenticoDocumentationMode="pe");localStorage.kenticoDocumentationMode&&null!==localStorage.getItem("kenticoDocumentationMode")||(localStorage.kenticoDocumentationMode="mvc")}},getCurrentDevModel=function(){var e=getPageLabels();if(e.indexOf("mvc")>=0)return"mvc";if(e.indexOf("pe")>=0)return"pe";var o=window.location.search;return o.indexOf("devModel=mvc")>=0?"all|mvc":o.indexOf("devModel=pe")>=0?"all|pe":"undefined"!=typeof Storage&&localStorage.kenticoDocumentationMode?"all|"+localStorage.kenticoDocumentationMode:"all|mvc"},translateToHelpServiceVersion=function(e){return DOCUMENTATION_VERSIONS.find((function(o){return o.versionId==e})).helpServiceVersion},switchDevModelStorage=function(e){"undefined"!=typeof Storage&&(localStorage.kenticoDocumentationMode=e)},openCloseDevModelDdl=function(){$(".js-menuDdl-devModel").toggleClass("show"),$(".js-menuDdlBtn-devModel").toggleClass("opened")},devModelMap={mvc:"MVC",pe:"Portal Engine"},initAltDevModelLink=function(){if(isDevModelSwitcherSupported()){var e=getCurrentDevModel(),o=!1;0===e.indexOf("all|")&&(o=!0,e=e.split("|")[1]);var t="mvc"==e?"pe":"mvc";$(".js-"+e+"-model-link").addClass("active");var n=$(".js-"+t+"-model-link");if(n){if($(".js-menuDdlBtn-devModel").html(devModelMap[e]),o)return n.on("click",(function(){switchDevModelStorage(t);var e=window.location.pathname.split("/");if("search"==e[e.length-1])kenticoThemeOpenSearchResultsPage();else{var o=window.location.href.replace(window.location.hash,"");o=(o=o.replace("#","")).split("?devModel")[0],window.location.href=o}})),void currentModelElement.on("click",(function(e){e.preventDefault(),openCloseDevModelDdl()}));var i=$("#dev-model-alt").attr("data-devmodel-alt");if(i){var r=getDocVersion(CONFIG.CONFLUENCE_SPACE_KEY),a=translateToHelpServiceVersion(r),s=CONFIG.HELPSERVICE_LINKMAPPER_ENDPOINT+a+"&link="+i;n.on("click",(function(){switchDevModelStorage(t),window.location.href=s}))}else{$(".js-menuDdlBtn-devModel").prop("disabled",!0).prop("title","");var c="mvc"==e?"MVC":"Portal Engine",l="mvc"==t?"MVC":"Portal Engine",d='<a id="alt-model-home-link" href="'+($("#ajs-context-path").attr("content")+"/"+CONFIG.CONFLUENCE_SPACE_KEY.toLowerCase()+"?devModel="+t)+'">'+l+" Home page</a>";$(".js-dev-model-unavailable-text").html("<p>This page is only available for the "+c+" development model.<br />You can switch to the "+d+".</p>")}}}};$(document).ready(setDevModelWebStorage),$(document).ready(initAltDevModelLink);var setDevFrameworkButtons=function(){$(".js-dev-model-switch-core").click((function(){coreFrameworkOnClick()})),$(".js-dev-model-switch-mvc").click((function(){mvcFrameworkOnClick()})),$(".js-dev-model-switch-indicator").click((function(e){"core"===localStorage.kenticoDocumentationFramework?mvcFrameworkOnClick():coreFrameworkOnClick()})),$(".js-dev-model-switch-mvc, .js-dev-model-switch-core ").on("keyup",(function(e){e.preventDefault(),e.stopPropagation(),32===e.keyCode&&("core"===localStorage.kenticoDocumentationFramework?mvcFrameworkOnClick():coreFrameworkOnClick())}))},setDevFrameworkCheckbox=function(){"mvc"===localStorage.kenticoDocumentationFramework?($(".js-dev-model-switch-mvc").attr("checked",!0),$(".js-dev-model-switch").addClass("is-dev-model-mvc").removeClass("is-dev-model-core")):"core"===localStorage.kenticoDocumentationFramework&&($(".js-dev-model-switch-core").attr("checked",!0),$(".js-dev-model-switch").addClass("is-dev-model-core").removeClass("is-dev-model-mvc"))},setCorrectFramework=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(localStorage.kenticoDocumentationFramework&&null!==localStorage.getItem("kenticoDocumentationFramework")||(localStorage.kenticoDocumentationFramework="mvc"),e){var o=new URLSearchParams(window.location.search).get("devmodel");"mvc"!==o&&"core"!==o||(localStorage.kenticoDocumentationFramework=o)}"mvc"===localStorage.kenticoDocumentationFramework&&($(".dev-model-core").css("display","none"),$(".dev-model-mvc").css("display","block")),"core"===localStorage.kenticoDocumentationFramework&&($(".dev-model-mvc").css("display","none"),$(".dev-model-core").css("display","block")),setDevFrameworkCheckbox()},setHoverTitles=function(){var e="Switch the displayed development model in the switcher under the page heading";$(".dev-model-core .codeContent").attr("title",e),$(".dev-model-mvc .codeContent").attr("title",e)},coreFrameworkOnClick=function(){localStorage.kenticoDocumentationFramework="core",setCorrectFramework()},mvcFrameworkOnClick=function(){localStorage.kenticoDocumentationFramework="mvc",setCorrectFramework()},showDevFrameworkSwitcher=function(){$(".js-dev-model-switch").removeClass("is-hidden")},setDevFrameworkSwitcher=function(){$(".dev-model-core").length+$(".dev-model-mvc").length>0&&(setCorrectFramework(!0),setDevFrameworkButtons(),setDevFrameworkCheckbox(),showDevFrameworkSwitcher(),setHoverTitles())};$(document).ready(setDevFrameworkSwitcher);var initSidebar=function e(){if(null!==$(".ht-nav-page-link").first())if($(".ht-nav-page-link.current").length){var o=$("div.ht-sidebar-content"),t=$("#ht-headerbar").outerHeight(!0),n=$(".ht-nav-page-link.current")[0].getBoundingClientRect().top;0===$("div.ht-sidebar-content")[0].scrollTop&&o.animate({scrollTop:Math.round(n-t-o.outerHeight()/2.5)},0),$("#ht-sidebar").addClass("animate")}else window.requestAnimationFrame(e)};window.requestAnimationFrame(initSidebar);var kenticoThemeOpenSearchResultsPage=function(){var e=$(".search-input").val();e=encodeURIComponent(e),e+="&max=10";var o=document.querySelector("#check-show-all-search-results"),t=!(o&&o.checked);window.SCROLL_WEBHELP&&window.SCROLL_WEBHELP.search&&(window.SCROLL_WEBHELP.search.navigateToSearchPage(e,t),$("#ht-search").find(".ht-search-dropdown").removeClass("open"),$(".ht-search-dropdown a.hover").removeClass("hover"),$(document).unbind("keydown"))},toggleSearchSuggestions=function(e){var o=$("input.search-input"),t=$(".ht-search-dropdown"),n=$("#searchButton"),i=$(".ht-search-dropdown a.hover");o.is(e.target)||0!==o.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length?$(".ht-search-dropdown li.search-key").length&&t.addClass("open"):(t.removeClass("open"),i.removeClass("hover"),!n.is(e.target)&&0===n.has(e.target).length&&window.innerWidth<=800&&window.innerWidth>499&&o.removeClass("show"))};$(document).click(toggleSearchSuggestions);var setContentTopPadding=function(){var e=$(".searchbox-area-behind").first();e.length&&$(".ht-content").first().css("padding-top",e.outerHeight(!0)+"px")};$(document).ready(setContentTopPadding),$(window).resize(setContentTopPadding);var setFooterWidth=function(){var e=document.documentElement.clientWidth,o=$("#ht-wrap-container").width(),t=$("#ht-wrap-container").offset().left,n=e-o-t;$("#ht-footer").css({right:-n,"padding-right":n,left:-t,"padding-left":t})};function onElementHeightChange(e,o){var t,n=e.clientHeight;!function i(){t=e.clientHeight,n!=t&&o(),n=t,e.onElementHeightChangeTimer&&clearTimeout(e.onElementHeightChangeTimer),e.onElementHeightChangeTimer=setTimeout(i,200)}()}$(document).ready(setFooterWidth),$(window).resize(setFooterWidth),onElementHeightChange(document.body,setFooterWidth),$("span.expand-control").click((function(){var e=$(this).parent().next(),o=$(this).find("span.expand-control-text");e.hasClass("collapse")?(e.removeClass("collapse"),o.text("Collapse source")):(e.addClass("collapse"),o.text("Expand source"))}));var getPageIdIfEditingAllowed=function(){var e=$("#sp-viewport-control-opener").length,o=$(".search-input").is(":focus");if(0!=e&&!o){var t=$("body").attr("pageid");return t||0}return 0};function openLink(e,o){o?window.open(e,"_blank").focus():window.open(e,"_self")}$("p").each((function(){""==$(this).text().trim()&&0==$(this).children().length&&$(this).hide()}));var showHideSearchTips=function(){$("#search-tips").hasClass("show")?hideFrontLayer():showFrontLayer()},showFrontLayer=function(){$("#search-tips").addClass("show"),document.getElementById("search-tips-mask").style.visibility="visible",document.getElementById("search-tips").style.visibility="visible"},hideFrontLayer=function(){document.getElementById("search-tips-mask").style.visibility="hidden",document.getElementById("search-tips").style.visibility="hidden",$("#search-tips").removeClass("show")},createCookie=function(e,o,t,n){var i;n="; domain="+n;if(t){var r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3),i="; expires="+r.toUTCString()}else i="";document.cookie=e+"="+o+i+"; path=/"+n},eraseCookie=function(e){createCookie(e,"",-1,"")},consentWithCookieUsage=function(){$("#cookie-banner").addClass("hidden"),createCookie("xperience.cookielevelselection",!0,365,".xperience.io")},hideCookieConsentBanner=function(){!document.cookie.replace(/(?:(?:^|.*;\s*)xperience.cookielevelselection\s*\=\s*([^;]*).*$)|^.*$/,"$1")&&navigator.cookieEnabled||$("#cookie-banner").addClass("hidden")},setCookieLevel=function(e){e="marketing"===(e=e)?4:"analytical"===e?3:"preference"===e?2:1,consentWithCookieUsage(),createCookie("xperience.cookieconsentlevel",e,365,".xperience.io"),1===e?(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.update",consent:{functionality_storage:"granted",personalization_storage:"denied",analytics_storage:"denied",ad_storage:"denied",security_storage:"denied"}})):3===e&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"consent.update",consent:{functionality_storage:"granted",personalization_storage:"granted",analytics_storage:"granted",ad_storage:"denied",security_storage:"denied"}}))};$(document).ready((function(){hideCookieConsentBanner()}));var copyHeadingLink=function(e){var o=$(e.target),t=window.location.origin+window.location.pathname+"#"+o.parent().attr("id");void 0===navigator.clipboard?Snackbar.show({text:"An error occurred while copying the heading link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"}):navigator.clipboard.writeText(t).then((function(){Snackbar.show({text:"Heading link copied",pos:"top-right",showAction:!1,customClass:"box-general box-info",duration:"2500",backgroundColor:"#EEF3FC",textColor:"#151515"}),o.addClass("copied")})).catch((function(){Snackbar.show({text:"An error occurred while copying the heading link to the clipboard",pos:"top-right",showAction:!1,customClass:"box-general box-warning",duration:"3500",backgroundColor:"#FFEBEB",textColor:"#151515"})}))},copyIconMouseOut=function(e){var o=$(e.target);o.hasClass("copied")&&o.removeClass("copied")};$("#main-content .sp-grid-60 h2, #main-content .sp-grid-100 h2, #main-content .sp-grid-60 h3, #main-content .sp-grid-100 h3").not("div.box-general h2, div.box-general h3, h2:has(a), h3:has(a)").append('<span title="Copy link to heading" class="heading-link-icon icon-chain" onclick="copyHeadingLink(event)" onmouseout="copyIconMouseOut(event)"></span>');
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZW1lLmN1c3RvbS5qcyJdLCJuYW1lcyI6WyJsb25nVG9CeXRlQXJyYXkiLCJsb25nIiwiYnl0ZUFycmF5IiwiaW5kZXgiLCJsZW5ndGgiLCJieXRlIiwicGFnZUlkVG9CNjQiLCJtYXAiLCJzIiwiam9pbiIsInBhZ2VJZCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhZGRpbmciLCJnZW5lcmF0ZVRpbnlJZCIsImJ0b2FkSWQiLCJ0aW55U3RyaW5nIiwiY2hhcmFjdGVyIiwiaSIsImNoYXJBdCIsIkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQiLCJkaXNwbGF5UGFnZVVybElkIiwiYWpheCIsImxhc3RDaGFyIiwiSlNPTiIsInJlc3BvbnNlIiwicGFyc2UiLCJoYXNPd25Qcm9wZXJ0eSIsIkNPTkZJRyIsIkNPTkZMVUVOQ0VfUEFHRV9JRCIsIlByaXNtIiwiTm9ybWFsaXplV2hpdGVzcGFjZSIsInRpbnlTdWZmaXgiLCIkIiwidXJsIiwiSEVMUFNFUlZJQ0VfVVJMSURfRU5EUE9JTlQiLCJzdWNjZXNzIiwicmVzdWx0IiwidGV4dCIsIklkZW50aWZpZXIiLCJFcnJvciIsInJlYWR5Iiwic2V0RXhwb3J0UGRmIiwicGx1Z2lucyIsInNldERlZmF1bHRzIiwidG9nZ2xlUGFnZUxpbmtQYW5lbCIsImFkZENsYXNzIiwiY29weVBhZ2VMaW5rVG9DbGlwIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwidW5kZWZpbmVkIiwiU25hY2tiYXIiLCJhdHRyIiwiY29uY2F0IiwiQ09ORkxVRU5DRV9TUEFDRV9LRVkiLCJ0b0xvd2VyQ2FzZSIsInBhZ2VUaXRsZSIsInJlcGxhY2UiLCJkb2N1bWVudCIsInNob3dBY3Rpb24iLCJ2ZXJzaW9uU3dpdGNoZXJEYXRhIiwib3BlblBhZ2VMaW5rIiwicGFnZUlEIiwid3JpdGVUZXh0IiwiQkFTRV9VUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJ0aW55VXJsIiwidGV4dENvbG9yIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInNob3ciLCJwb3MiLCJjdXN0b21DbGFzcyIsImR1cmF0aW9uIiwiYmFja2dyb3VuZENvbG9yIiwidGhlbiIsImNsb3NlUGFnZUxpbmsiLCJnZXRWZXJzaW9uVGV4dEZyb21WZXJzaW9uSWQiLCJkb2N1bWVudGF0aW9uVmVyc2lvbiIsImdldFZlcnNpb25UZXh0RnJvbUhlbHBTZXJ2aWNlSWQiLCJpdGVtIiwiaGVscFNlcnZpY2VWZXJzaW9uIiwiZmluZCIsInZlcnNpb25UZXh0IiwiSEVMUFNFUlZJQ0VfTElTVEFMVFZFUlNJT05MSU5LU19FTkRQT0lOVCIsInRpbWVvdXQiLCJ0cnlDb3VudCIsInJldHJ5TGltaXQiLCJ0aW55SUQiLCJkYXRhIiwiZXJyb3IiLCJ4aHIiLCJ0ZXh0U3RhdHVzIiwidGhpcyIsInZlcnNpb25MaW5rVXBkYXRlRG9uZSIsIm9wZW5DbG9zZVZlcnNpb25EZGwiLCJpbnNlcnRWZXJzaW9uTGlua3MiLCJ2ZXJzaW9uRGF0YSIsImxpbmtFbGVtIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YUl0ZW0iLCJWZXJzaW9uVXJsSWQiLCJVcmwiLCJlbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidG9BcnJheSIsImZvckVhY2giLCJ0ZXh0Q29udGVudCIsIlhQRVJJRU5DRTEzX01JU1NJTkdfUEFHRVNfVVJMIiwic3BsaXQiLCJwb3AiLCJpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MiLCJzZWFyY2hRdWVyeVN0cmluZ1BhcnRzIiwic2VhcmNoU2xhc2giLCJzcGFjZUtleSIsImdldERvY1ZlcnNpb24iLCJsaW5rRWxlbUhyZWZBcnJheSIsInNsaWNlIiwiQ09ORkxVRU5DRV9ERVZNT0RFTF9WRVJTSU9OU1dJVENIRVJfV0hJVEVMSVNUIiwiaW5kZXhPZiIsInNlYXJjaCIsInNwbGljZSIsImdldERvY1R5cGUiLCJhcGlFeGFtcGxlcyIsInR1dG9yaWFsIiwib3BlbkNsb3NlRG9jVHlwZURkbCIsInRvZ2dsZUNsYXNzIiwidGVzdCIsInZlcnNpb24iLCJidWlsZERvY0xpbmsiLCJzcGFjZUtleVNsYXNoIiwiZ2V0VmVyc2lvbkxpbmtUaXRsZSIsImRvY1R5cGUiLCJ1c2VEb2NUeXBlSW5MaW5rVGV4dCIsImlzQ3VycmVudCIsIk9CU09MRVRFX1NQQUNFX0tFWV9GT1JNQVRfVkVSU0lPTlMiLCJ2ZXJzaW9uUHJlZml4IiwiYmFzZVVybCIsImNsYXNzQXR0cmlidXRlIiwibG9hZERvY1ZlcnNpb25IZWFkZXJMaXN0IiwidXNlckxvZ2dlZEluIiwiYXZhaWxhYmxlRG9jVmVyc2lvbnMiLCJET0NfUk9PVF9VUkxfU1BBQ0VfS0VZIiwiY3VycmVudERvY1R5cGUiLCJ2ZXJzaW9uSWQiLCJkb2NWZXJzaW9uTGlua3MiLCJORVdFU1RfVU5TVVBQT1JURURfVkVSU0lPTl9JRCIsImxpbmtUZXh0IiwiY3VycmVudERvY1ZlcnNpb24iLCJhdmFpbGFibGVEb2NUeXBlcyIsImRvY1R5cGVMaW5rcyIsIkRPQ1VNRU5UQVRJT05fVkVSU0lPTlMiLCJmaWx0ZXIiLCJERVZfRE9DVU1FTlRBVElPTl9WRVJTSU9OX0lEIiwibG9hZEhlYWRlckxpc3RzIiwib2xkZXJWZXJzaW9uc0xpc3QiLCJvbGRlclZlcnNpb25zQnV0dG9uIiwiaHRtbCIsInRhcmdldCIsIm9uIiwiYnV0dG9uVmVyc2lvbiIsImRldk1vZGVsTGlzdCIsImRldk1vZGVsQnV0dG9uIiwiaXNEZXZNb2RlbFN3aXRjaGVyU3VwcG9ydGVkIiwiY3VycmVudFNwYWNlS2V5IiwiaW5jbHVkZXMiLCJsYWJlbHMiLCJsb2FkRG9jVHlwZUhlYWRlckxpc3QiLCJzZXREZXZNb2RlbFdlYlN0b3JhZ2UiLCJjbG9zZUhlYWRlckRyb3BEb3ducyIsImV2ZW50IiwibG9jYWxTdG9yYWdlIiwia2VudGljb0RvY3VtZW50YXRpb25Nb2RlIiwiY3VycmVudExhYmVscyIsImlzIiwiYnV0dG9uRG9jVHlwZSIsImhhcyIsImNsaWNrIiwiZ2V0UGFnZUxhYmVscyIsIlN0b3JhZ2UiLCJzd2l0Y2hEZXZNb2RlbFN0b3JhZ2UiLCJxdWVyeVN0cmluZ1BhcmFtcyIsImRldk1vZGVsTWFwIiwiaW5pdEFsdERldk1vZGVsTGluayIsImN1cnJlbnRNb2RlbCIsImdldEN1cnJlbnREZXZNb2RlbCIsImdldEl0ZW0iLCJjdXJyZW50bGFiZWxzIiwiYWxsRGV2TW9kZWxQYWdlIiwiYWx0RGV2TW9kZWwiLCJrZW50aWNvVGhlbWVPcGVuU2VhcmNoUmVzdWx0c1BhZ2UiLCJ0cmFuc2xhdGVUb0hlbHBTZXJ2aWNlVmVyc2lvbiIsImRldk1vZGVsUmVsb2FkVXJsIiwidGFyZ2V0TW9kZWwiLCJvcGVuQ2xvc2VEZXZNb2RlbERkbCIsImFsdFBhZ2VJZGVudGlmaWVyIiwibXZjIiwiYWx0RGV2TW9kZWxFbGVtZW50IiwiY3VycmVudE1vZGVsVGV4dCIsImFsdE1vZGVsSG9tZUxpbmsiLCJzZXREZXZGcmFtZXdvcmtCdXR0b25zIiwicHJldmVudERlZmF1bHQiLCJwYXRoTmFtZUFycmF5IiwicGF0aG5hbWUiLCJoYXNoIiwia2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsiLCJjdXJyZW50TW9kZWxFbGVtZW50IiwiZSIsInNldENvcnJlY3RGcmFtZXdvcmsiLCJjaGVja1VybFBhcmFtZXRlcnMiLCJkZXZNb2RlbFBhcmFtZXRlciIsImFsdFBhZ2VVcmwiLCJIRUxQU0VSVklDRV9MSU5LTUFQUEVSX0VORFBPSU5UIiwiY3NzIiwic2V0RGV2RnJhbWV3b3JrQ2hlY2tib3giLCJwcm9wIiwiYWx0TW9kZWxUZXh0IiwiY29yZUZyYW1ld29ya09uQ2xpY2siLCJzZXREZXZGcmFtZXdvcmtTd2l0Y2hlciIsIm12Y0ZyYW1ld29ya09uQ2xpY2siLCJzaG93RGV2RnJhbWV3b3JrU3dpdGNoZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJrZXlDb2RlIiwiZmlyc3QiLCJyb3VuZCIsImFyZ3VtZW50cyIsInNlYXJjaFF1ZXJ5IiwiVVJMU2VhcmNoUGFyYW1zIiwiZ2V0IiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2hvd0FsbFJlc3VsdHNDaGVja2JveEVsZW0iLCJxdWVyeVNlbGVjdG9yIiwidXNlRGV2TW9kZWxGaWx0ZXJpbmciLCJTQ1JPTExfV0VCSEVMUCIsIm5hdmlnYXRlVG9TZWFyY2hQYWdlIiwic2V0SG92ZXJUaXRsZXMiLCJzZWxlY3RlZFNlYXJjaExpbmtFbGVtZW50Iiwic2VhcmNoQnV0dG9uIiwic2VhcmNoRHJvcGRvd24iLCJzZWFyY2hJbnB1dCIsImluaXRTaWRlYmFyIiwic2V0Q29udGVudFRvcFBhZGRpbmciLCJzZWFyY2hib3hFbGVtZW50IiwiJHNjcm9sbGFibGVDb250ZW50IiwiaGVhZGVySGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJzY3JvbGxUb3AiLCJhbmltYXRlIiwiTWF0aCIsImN1cnJlbnRJdGVtVG9wIiwiZm9vdGVyV2lkdGgiLCJsZWZ0UG9zaXRpb24iLCJyaWdodFBhZGRpbmciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYWxsYmFjayIsImxhc3RIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ2YWwiLCJuZXdIZWlnaHQiLCJlbG0iLCJvbkVsZW1lbnRIZWlnaHRDaGFuZ2VUaW1lciIsIm9uRWxlbWVudEhlaWdodENoYW5nZSIsInNldEZvb3RlcldpZHRoIiwiY2hlY2tlZCIsImNvZGVDb250ZW50IiwicGFyZW50IiwibmV4dCIsInVuYmluZCIsInRvZ2dsZVNlYXJjaFN1Z2dlc3Rpb25zIiwic2VhcmNoYm94Rm9jdXNlZCIsImlubmVyV2lkdGgiLCJmb2N1cyIsInNob3dIaWRlU2VhcmNoVGlwcyIsImhpZGVGcm9udExheWVyIiwicmVzaXplIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2aWV3V2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsIndpZHRoIiwiY3JlYXRlQ29va2llIiwidmFsdWUiLCJkYXlzIiwiZG9tYWluIiwiZGF0ZSIsImdldFRpbWUiLCJleHBpcmVzIiwicnVuIiwiaGlkZUNvb2tpZUNvbnNlbnRCYW5uZXIiLCJjb29raWVWYWx1ZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJzZXRDb29raWVMZXZlbCIsIm5hbWUiLCJib2R5IiwibGV2ZWwiLCJleHBhbmRDb250cm9sVGV4dCIsImNvbnNlbnRXaXRoQ29va2llVXNhZ2UiLCJnZXRQYWdlSWRJZkVkaXRpbmdBbGxvd2VkIiwiZGF0YUxheWVyIiwicHVzaCIsIm9wZW5MaW5rIiwibmV3VGFiIiwiY29weUhlYWRpbmdMaW5rIiwib3BlbiIsImNsaWNrZWRJY29uIiwidHJpbSIsImNoaWxkcmVuIiwiaGlkZSIsInNob3dGcm9udExheWVyIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiY29weUhlYWRpbmdMaW5rSWNvbiIsInNldFRpbWUiLCJ0b1VUQ1N0cmluZyIsImNvb2tpZSIsImVyYXNlQ29va2llIiwiY29va2llRW5hYmxlZCIsImNvbnNlbnQiLCJmdW5jdGlvbmFsaXR5X3N0b3JhZ2UiLCJwZXJzb25hbGl6YXRpb25fc3RvcmFnZSIsImFuYWx5dGljc19zdG9yYWdlIiwiYWRfc3RvcmFnZSIsInNlY3VyaXR5X3N0b3JhZ2UiLCJhbmNob3JMaW5rIiwib3JpZ2luIiwiY2F0Y2giLCJjb3B5SWNvbk1vdXNlT3V0Iiwibm90IiwiYXBwZW5kIl0sIm1hcHBpbmdzIjoiQUFTQSxJQUFJQSxnQkFBa0IsU0FBeUJDLEdBRTNDLElBREEsSUFBSUMsRUFBYyxDQUFBLEVBQUcsRUFBRyxFQUFJLEdBQ2xCQyxFQUFXQSxFQUFBQSxFQUFRRCxFQUFVRSxPQUFRRCxJQUFXLENBQ3hELElBQUlFLEVBQWMsSUFBUEosRUFDWEMsRUFBWUMsR0FBY0UsRUFDMUJKLEdBQVFBLEVBQU9JLEdBQVEsR0FDekIsQ0FDQSxPQUFPSCxDQUNYLEVBS0lJLFlBQ0lOLFNBQ0tPLEdBRUcsT0FBT0MsS0FFVkMsZ0JBRUVDLEdBQ2RILElBQUFJLE9BQUFDLGNBTllMLEtBQUksU0FBVUMsR0FTM0IsT0FBQUEsRUFBQSxFQUNBLElBQ0FDLEtBQUEsS0FFUUksUUFBTyxLQUFPLEdBUHRCLEVBc0JRQyxlQUFhLFNBQVVDLEdBS3ZCLElBcEJKLElBZ0JRQyxHQUFV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LDRIQUlINFMsSUFBSSxnRUFBZ0VDLE9BUDdEIiwiZmlsZSI6InRoZW1lLmN1c3RvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PUVYUEVSSU1FTlRBTD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFBhZ2UgVGlueUlEIEdlbmVyYXRvciAtIHByb2dyYW1tYXRpY2FsbHkgZ2VuZXJhdGVzIHBhZ2UgaWRlbnRpZmllcnNcclxuLy8gQ3VycmVudGx5IG9ubHkgdXNlZCB3aGVuIHJldHJpZXZpbmcgcGFnZSBIZWxwU2VydmljZSBpZGVudGlmaWVycyB2aWEgJ0dldCBIZWxwU2VydmljZSBJRCdcclxuLy8gQWNjZXNzaWJsZSBmcm9tIENPTkZJRy5DT05GTFVFTkNFX1BBR0VfVElOWUlEXHJcbi8vIGh0dHBzOi8vY29uZmx1ZW5jZS5hdGxhc3NpYW4uY29tL2NvbmZrYi9ob3ctdG8tcHJvZ3JhbW1hdGljYWxseS1nZW5lcmF0ZS10aGUtdGlueS1saW5rLW9mLWEtY29uZmx1ZW5jZS1wYWdlLTk1NjcxMzQzMi5odG1sXHJcbi8vIFRoZSBsb25nIHRvIGJ5dGUgYXJyYXkgY29udmVyc2lvbiBpcyB0YWtlbiBmcm9tIHRoaXMgc291cmNlOlxyXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NDgyMzA5L2NvbnZlcnRpbmctamF2YXNjcmlwdC1pbnRlZ2VyLXRvLWJ5dGUtYXJyYXktYW5kLWJhY2tcclxuXHJcbi8vIENvbnZlcnRzIHRoZSBwYWdlIGlkIHRvIGEgYnl0ZSBhcnJheSBmb3IgZnVydGhlciBlbmNvZGluZ1xyXG52YXIgbG9uZ1RvQnl0ZUFycmF5ID0gZnVuY3Rpb24gbG9uZ1RvQnl0ZUFycmF5KGxvbmcpIHtcclxuICAgIHZhciBieXRlQXJyYXkgPSBbMCwgMCwgMCwgMF07XHJcbiAgICBmb3IgKCB2YXIgaW5kZXggPSAwOyBpbmRleCA8IGJ5dGVBcnJheS5sZW5ndGg7IGluZGV4ICsrICkge1xyXG4gICAgICB2YXIgYnl0ZSA9IGxvbmcgJiAweGZmO1xyXG4gICAgICBieXRlQXJyYXkgWyBpbmRleCBdID0gYnl0ZTtcclxuICAgICAgbG9uZyA9IChsb25nIC0gYnl0ZSkgLyAyNTYgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJ5dGVBcnJheTtcclxufTtcclxuXHJcblxyXG4vLyBFbmNvZGVzIHByb3ZpZGVkIHBhZ2UgaWQgaW4gQmFzZS02NFxyXG52YXIgcGFnZUlkVG9CNjQgPSBmdW5jdGlvbiBwYWdlSWRUb0I2NChwYWdlSWQpIHtcclxuICAgIHJldHVybiBidG9hKFxyXG4gICAgICAgIGxvbmdUb0J5dGVBcnJheShwYWdlSWQpXHJcbiAgICAgICAgICAgIC5tYXAoU3RyaW5nLmZyb21DaGFyQ29kZSlcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNbMF07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5qb2luKFwiXCIpXHJcbiAgICAgIClcclxuICAgICAgLnJlcGxhY2UoLz0vZyxcIlwiKTtcclxufTtcclxuXHJcblxyXG4vLyBHZW5lcmF0ZXMgYSBDb25mbHVlbmNlIHBhZ2UgaWRlbnRpZmllciBmcm9tIHRoZSBwcm92aWRlZCBCLTY0IGVuY29kZWQgcGFnZSBpZFxyXG4vLyBUYWtlbiBkaXJlY3RseSBmcm9tIENvbmZsdWVuY2UgU2VydmVyIDcuMiBzb3VyY2UgY29kZVxyXG4vLyBjb20uYXRsYXNzaWFuLmNvbmZsdWVuY2UucGFnZXMuVGlueUlkXHJcbnZhciBnZW5lcmF0ZVRpbnlJZCA9IGZ1bmN0aW9uIGdlbmVyYXRlVGlueUlkKGJ0b2FkSWQpIHtcclxuICAgIHZhciBwYWRkaW5nID0gdHJ1ZTtcclxuICAgIHZhciB0aW55U3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gYnRvYWRJZC5sZW5ndGggLSAxOyBpID49IDAgOyBpLS0pIHtcclxuXHJcbiAgICAgICAgdmFyIGNoYXJhY3RlciA9IGJ0b2FkSWQuY2hhckF0KGkpO1xyXG5cclxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSAnPScgfHwgY2hhcmFjdGVyID09ICdcXG4nKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgaWYgKHBhZGRpbmcgJiYgY2hhcmFjdGVyID09PSAnQScpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICBwYWRkaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgPT09ICcvJykge1xyXG4gICAgICAgICAgICB0aW55U3RyaW5nID0gJy0nICsgdGlueVN0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2hhcmFjdGVyID09PSAnKycpIHtcclxuICAgICAgICAgICAgdGlueVN0cmluZyA9ICdfJyArIHRpbnlTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aW55U3RyaW5nID0gY2hhcmFjdGVyICsgdGlueVN0cmluZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRpbnlTdHJpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBsYXN0Q2hhciA9IHRpbnlTdHJpbmcuY2hhckF0KHRpbnlTdHJpbmcubGVuZ3RoIC0gMSk7XHJcblxyXG4gICAgICAgIC8vIENPTkYtOTI5OSBzb21lIGVtYWlsIGNsaWVudHMgZG9uJ3QgbGlrZSBVUkxzIHRoYXQgZW5kIHdpdGggYSBwdW5jdGF0aW9uXHJcbiAgICAgICAgaWYgKGxhc3RDaGFyID09PSAnLScgfHwgbGFzdENoYXIgPT09ICdfJylcclxuICAgICAgICAgICAgdGlueVN0cmluZyArPSAnLyc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRpbnlTdHJpbmc7XHJcbn07XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1FTkQgRVhQRVJJTUVOVEFMPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cclxuLy8gRHluYW1pY2FsbHkgY29tcHV0ZWQgcHJvcGVydGllc1xyXG4vKiogVGhlIENvbmZsdWVuY2UgJ1RpbnlJZCcgb2YgdGhlIGN1cnJlbnQgcGFnZSAqL1xyXG5DT05GSUcuQ09ORkxVRU5DRV9QQUdFX1RJTllJRCA9IGdlbmVyYXRlVGlueUlkKHBhZ2VJZFRvQjY0KENPTkZJRy5DT05GTFVFTkNFX1BBR0VfSUQpKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IHBhZ2UgVXJsIElEIHJldHJpZXZlciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBkaXNwbGF5UGFnZVVybElkID0gZnVuY3Rpb24gZGlzcGxheVBhZ2VVcmxJZChwYWdlSWQpIHtcclxuICAgIC8vIFVzZSBjb21wdXRlZCBUaW55SURcclxuICAgIHZhciB0aW55U3VmZml4ID0gQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQ7XHJcbiAgICBpZiAodGlueVN1ZmZpeCkge1xyXG4gICAgICAgIC8vIHZhciBhcnJheSA9IHRpbnlTdWZmaXguc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogQ09ORklHLkhFTFBTRVJWSUNFX1VSTElEX0VORFBPSU5UICsgdGlueVN1ZmZpeCxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmhhc093blByb3BlcnR5KFwiSWRlbnRpZmllclwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjcGFnZVVybElkXCIpLnRleHQoXCIgSGVscCBTZXJ2aWNlIElEOiBcIiArIHJlc3BvbnNlLklkZW50aWZpZXIgKyBcIiAoVGlueUlEOiBcIiArIHRpbnlTdWZmaXggKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2VVcmxJZFwiKS50ZXh0KFwiIEhlbHAgU2VydmljZSBJRDogXCIgKyByZXNwb25zZS5FcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRpbWVvdXQ6IDgwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgJChcIiNwYWdlVXJsSWRcIikudGV4dChcIkVycm9yIHdoZW4gZ2VuZXJhdGluZyB0aGUgcGFnZSB0aW55IElELiBTZWUgdGhlIGNvbnNvbGUgZm9yIGRldGFpbHMuXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUFJJU00gV0hJVEVTUEFDRSBOT1JNQUxJWkFUSU9OIENPTkZJRyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblByaXNtLnBsdWdpbnMuTm9ybWFsaXplV2hpdGVzcGFjZS5zZXREZWZhdWx0cyh7XHJcbiAgICAncmVtb3ZlLXRyYWlsaW5nJzogdHJ1ZSxcclxuICAgICdyZW1vdmUtaW5kZW50JzogdHJ1ZSxcclxuICAgICdsZWZ0LXRyaW0nOiB0cnVlLFxyXG4gICAgJ3JpZ2h0LXRyaW0nOiB0cnVlLFxyXG4gICAgLy8gRG9lcyBub3QgcHJlc2VydmUgY29tbWVudCBoaWdobGlnaHQgb24gbmV4dCBsaW5lXHJcbiAgICAvLyAnYnJlYWstbGluZXMnOiA4MCxcclxuICAgICdyZW1vdmUtaW5pdGlhbC1saW5lLWZlZWQnOiBmYWxzZSxcclxuICAgICd0YWJzLXRvLXNwYWNlcyc6IDRcclxufSk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFBERiBFWFBPUlQgID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIHNldEV4cG9ydFBkZiA9IGZ1bmN0aW9uIGV4cG9ydFBkZigpIHtcclxuICAgIHZhciBwYWdlVGl0bGUgPSAkKCdib2R5JykuYXR0cignZGF0YS1wYWdldGl0bGUnKTtcclxuICAgICQoXCIjZXhwb3J0LXBkZlwiKS5hdHRyKCdocmVmJywgYC4uL3BkZi8ke0NPTkZJRy5DT05GTFVFTkNFX1NQQUNFX0tFWS50b0xvd2VyQ2FzZSgpfS8ke3BhZ2VUaXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZyxcIi1cIil9LnBkZmApO1xyXG59O1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoc2V0RXhwb3J0UGRmKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gUEFHRSBUSU5ZIExJTktTID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIEdldHMgdGhlIHBhZ2UgdGlueSBsaW5rIFVSTCB1c2luZyBSRVNUIGFuZCBzaG93cyB0aGUgcGFnZSBsaW5rIHBhbmVsXHJcbnZhciBvcGVuUGFnZUxpbmsgPSBmdW5jdGlvbiBvcGVuUGFnZUxpbmsocGFnZUlEKSB7XHJcbiAgICBpZiAoQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQpIHtcclxuICAgICAgICB0b2dnbGVQYWdlTGlua1BhbmVsKENPTkZJRy5CQVNFX1VSTCArICcveC8nICsgQ09ORklHLkNPTkZMVUVOQ0VfUEFHRV9USU5ZSUQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0b2dnbGVQYWdlTGlua1BhbmVsKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgIH1cclxufTtcclxuXHJcbnZhciB0b2dnbGVQYWdlTGlua1BhbmVsID0gZnVuY3Rpb24gdG9nZ2xlUGFnZUxpbmtQYW5lbCh0aW55VXJsKSB7XHJcbiAgICAkKFwiI3BhZ2UtbGluay10ZXh0Ym94XCIpLmF0dHIoXCJ2YWx1ZVwiLCB0aW55VXJsKTtcclxuICAgIGlmICgkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5oYXNDbGFzcyhcInNob3dcIikpIHtcclxuICAgICAgICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBBdHRlbXB0cyB0byBjb3B5IHRoZSBwYWdlIGxpbmsgdmFsdWUgdG8gdGhlIGNsaXBib2FyZFxyXG52YXIgY29weVBhZ2VMaW5rVG9DbGlwID0gZnVuY3Rpb24gY29weVBhZ2VMaW5rVG9DbGlwKCkge1xyXG5cdGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFNuYWNrYmFyLnNob3coe3RleHQ6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgcGFnZSBsaW5rIHRvIHRoZSBjbGlwYm9hcmRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LXdhcm5pbmcnLCBkdXJhdGlvbjogJzM1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZFQkVCJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoJChcIiNwYWdlLWxpbmstdGV4dGJveFwiKS5hdHRyKFwidmFsdWVcIikpXHJcblx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRTbmFja2Jhci5zaG93KHt0ZXh0OiBcIlBhZ2UgbGluayBjb3BpZWRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LWluZm8nLCBkdXJhdGlvbjogJzI1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRUVGM0ZDJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIFNuYWNrYmFyLnNob3coe3RleHQ6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgcGFnZSBsaW5rIHRvIHRoZSBjbGlwYm9hcmRcIiwgcG9zOiAndG9wLXJpZ2h0Jywgc2hvd0FjdGlvbjogZmFsc2UsIGN1c3RvbUNsYXNzOiAnYm94LWdlbmVyYWwgYm94LXdhcm5pbmcnLCBkdXJhdGlvbjogJzM1MDAnLCBiYWNrZ3JvdW5kQ29sb3I6ICcjRkZFQkVCJywgdGV4dENvbG9yOicjMTUxNTE1JyB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gQ2xvc2VzIHRoZSBwYWdlIGxpbmsgcGFuZWxcclxuY29uc3QgY2xvc2VQYWdlTGluayA9ICgpID0+ICAkKFwiI3BhZ2UtbGluay1wYW5lbFwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBIRUFERVIgU1BBQ0UgU1dJVENIRVIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gQ29udmVydHMgdGhlIHZlcnNpb24gbnVtYmVyIHRvIHRoZSBhcHByb3ByaWF0ZSB2ZXJzaW9uIHRleHRcclxuY29uc3QgZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkID0gKGRvY3VtZW50YXRpb25WZXJzaW9uKSA9PlxyXG4gICAgRE9DVU1FTlRBVElPTl9WRVJTSU9OUy5maW5kKChpdGVtKSA9PiBpdGVtLnZlcnNpb25JZCA9PSBkb2N1bWVudGF0aW9uVmVyc2lvbikudmVyc2lvblRleHQ7XHJcblxyXG5cclxuLy8gVHJhbnNsYXRlcyB0aGUgSUQgdXNlZCBieSB0aGUgZG9jdW1lbnRhdGlvbiBoZWxwIHNlcnZpY2UgdG8gS2VudGljbyB2ZXJzaW9uIHRleHRcclxuY29uc3QgZ2V0VmVyc2lvblRleHRGcm9tSGVscFNlcnZpY2VJZCA9IChoZWxwU2VydmljZVZlcnNpb24pID0+XHJcbiAgICBET0NVTUVOVEFUSU9OX1ZFUlNJT05TLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaGVscFNlcnZpY2VWZXJzaW9uID09IGhlbHBTZXJ2aWNlVmVyc2lvbikudmVyc2lvblRleHQ7XHJcblxyXG5cclxudmFyIHZlcnNpb25Td2l0Y2hlckRhdGE7XHJcbi8qKiBBdHRlbXB0cyB0byBsb2FkIHZlcnNpb24gbGluayBkYXRhIGZyb20gdGhlIGtlbnRpY28uY29tIGhlbHAgc2VydmljZVxyXG4gICAgVGhlIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCBvbiBkb2N1bWVudCBsb2FkIGluIGluY2x1ZGUtYm9keWVuZHNjcmlwdHMudm0gLVxyXG4gICAgd2hlcmUgd2UgY2FuIGNvbmRpdGlvbmFsbHkgaW5jbHVkZSBpdCBkdWUgdG8gc2Nyb2xsIHZpZXdwb3J0IGNvbnRleHR1YWwgdmFyaWFibGVzXHJcbiAgICBAcGFyYW0ge3N0cmluZ30gdGlueUlEIC0gdGhlIHNob3J0IGlkZW50aWZpZXIgb2YgdGhlIHRhcmdldCBDb25mbHVlbmNlIHBhZ2UgKi9cclxudmFyIGxvYWRWZXJzaW9uTGlua0RhdGEgPSBmdW5jdGlvbiBsb2FkVmVyc2lvbkxpbmtEYXRhKHRpbnlJRCkge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXHJcbiAgICAgICAgdXJsOiBDT05GSUcuSEVMUFNFUlZJQ0VfTElTVEFMVFZFUlNJT05MSU5LU19FTkRQT0lOVCArIHRpbnlJRCxcclxuICAgICAgICB0aW1lb3V0OiAyMDAwLFxyXG4gICAgICAgIHRyeUNvdW50IDogMCxcclxuICAgICAgICByZXRyeUxpbWl0IDogMyxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyBTYXZlIHRoZSB2ZXJzaW9uIHN3aXRjaGVyIGRhdGEgdG8gYSB2YXJpYWJsZS4gVXNlZCBpbiAnaW5zZXJ0VmVyc2lvbkxpbmtzKCknIGNhbGxlZCBmcm9tICdpbmNsdWRlLXNwYWNlLXN3aXRjaGVyLnZtJy5cclxuICAgICAgICAgICAgdmVyc2lvblN3aXRjaGVyRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBBZGRlZCByZXRyeSBsb2dpYyBpbiBjYXNlIHRoZSByZXRyaWV2YWwgZmFpbHMuIEluc3BpcmF0aW9uOlxyXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDI0NDY5L3doYXRzLXRoZS1iZXN0LXdheS10by1yZXRyeS1hbi1hamF4LXJlcXVlc3Qtb24tZmFpbHVyZS11c2luZy1qcXVlcnlcclxuICAgICAgICBlcnJvciA6IGZ1bmN0aW9uICh4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICkge1xyXG4gICAgICAgICAgICBpZiAodGV4dFN0YXR1cyA9PSBcInRpbWVvdXRcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cnlDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJ5Q291bnQgPD0gdGhpcy5yZXRyeUxpbWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90cnkgYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxudmFyIHZlcnNpb25MaW5rVXBkYXRlRG9uZSA9IGZhbHNlO1xyXG5cclxuLy8gUmVwbGFjZXMgdGhlIGRlZmF1bHQgc3BhY2Ugcm9vdCB2ZXJzaW9uIGxpbmtzIHdpdGggc3BlY2lmaWMgcGFnZSBsaW5rc1xyXG52YXIgaW5zZXJ0VmVyc2lvbkxpbmtzID0gZnVuY3Rpb24gaW5zZXJ0VmVyc2lvbkxpbmtzKHZlcnNpb25EYXRhKSB7XHJcbiAgICBpZiAodmVyc2lvbkRhdGEgPT09IHVuZGVmaW5lZClcclxuICAgIHtcclxuICAgICAgICBvcGVuQ2xvc2VWZXJzaW9uRGRsKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2ZXJzaW9uTGlua1VwZGF0ZURvbmUpXHJcbiAgICB7XHJcbiAgICAgICAgb3BlbkNsb3NlVmVyc2lvbkRkbCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2ZXJzaW9uRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhSXRlbSkge1xyXG4gICAgdmFyIGxpbmtFbGVtID0gJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYTpjb250YWlucyhcIiArIGdldFZlcnNpb25UZXh0RnJvbUhlbHBTZXJ2aWNlSWQoZGF0YUl0ZW0uVmVyc2lvblVybElkKSArIFwiKVwiKTtcclxuICAgICAgICBpZiAobGlua0VsZW0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsaW5rRWxlbS5hdHRyKFwiaHJlZlwiLCBkYXRhSXRlbS5VcmwpO1xyXG4gICAgICAgICAgICBsaW5rRWxlbS5hZGRDbGFzcyhcIiBwb3B1bGF0ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYVwiKS50b0FycmF5KCkuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCl7XHJcblx0XHRpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdWxhdGVkXCIpKVxyXG5cdFx0e1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJlbXB0eVwiKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSAxIC0gdGhlIFhwZXJpZW5jZSAxMyBkb2NzIGxpbmsgdG8gYSBzcGVjaWFsIHBhZ2UgaW5zdGVhZCBvZiB0aGUgSG9tZSByb290IGZvciBwYWdlcyB0aGF0IGRvIG5vdCBoYXZlIGEgZGlyZWN0IGVxdWl2YWxlbnRcclxuXHRcdFx0aWYgKGVsZW1lbnQudGV4dENvbnRlbnQgPT09IFwiWHBlcmllbmNlIDEzXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyIGNvbnRhaW5zIHRoZSBsYXN0IFVSTCBzZWdtZW50IChwYWdlIHRpdGxlKS4gUHJvY2Vzc2VkIGJ5IGphdmFzY3JpcHQgaW5jbHVkZWQgZGlyZWN0bHkgb24gdGhlIFwiTWlzc2luZyBkb2N1bWVudGF0aW9uIHBhZ2VzXCIgcGFnZS5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBDT05GSUcuWFBFUklFTkNFMTNfTUlTU0lOR19QQUdFU19VUkwgKyBcIj9yZWY9XCIgKyAkKGxvY2F0aW9uKS5hdHRyKFwiaHJlZlwiKS5zcGxpdCgnLycpLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgXCJUaGUgY3VycmVudCBwYWdlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIFhwZXJpZW5jZSAxMyBkb2N1bWVudGF0aW9uLiBcXHJcXG5Zb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvIGEgZ2VuZXJhbCBndWlkYW5jZSBwYWdlLlwiKTtcdFx0XHRcdFxyXG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgMiAtIHRoZSBYUCBkb2NzIGxpbmsgdG8gYSBzcGVjaWFsIHBhZ2UgaW5zdGVhZCBvZiB0aGUgSG9tZSByb290IGZvciBwYWdlcyB0aGF0IGRvIG5vdCBoYXZlIGEgZGlyZWN0IGVxdWl2YWxlbnRcclxuXHRcdFx0fSBlbHNlIGlmIChlbGVtZW50LnRleHRDb250ZW50ID09PSBcIlhwZXJpZW5jZSBieSBLZW50aWNvXCIpIHtcclxuXHRcdFx0XHQvLyBUaGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlciBjb250YWlucyB0aGUgbGFzdCBVUkwgc2VnbWVudCAocGFnZSB0aXRsZSkuIFByb2Nlc3NlZCBieSBqYXZhc2NyaXB0IGluY2x1ZGVkIGRpcmVjdGx5IG9uIHRoZSBcIk1pc3NpbmcgZG9jdW1lbnRhdGlvbiBwYWdlc1wiIHBhZ2UuXHJcblx0XHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIENPTkZJRy5YUF9NSVNTSU5HX1BBR0VTX1VSTCArIFwiP3JlZj1cIiArICQobG9jYXRpb24pLmF0dHIoXCJocmVmXCIpLnNwbGl0KCcvJykucG9wKCkpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLCBcIlRoZSBjdXJyZW50IHBhZ2UgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgWHBlcmllbmNlIGJ5IEtlbnRpY28gZG9jdW1lbnRhdGlvbi4gXFxyXFxuWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byBhIGdlbmVyYWwgZ3VpZGFuY2UgcGFnZS5cIik7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIFwiVGhlIGN1cnJlbnQgcGFnZSBpcyBub3QgYXZhaWxhYmxlIGZvciB0aGlzIGRvY3VtZW50YXRpb24gdmVyc2lvbi4gXFxyXFxuWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byB0aGUgaG9tZSBwYWdlIGZvciB0aGlzIHZlcnNpb24uXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2ZXJzaW9uTGlua1VwZGF0ZURvbmUgPSB0cnVlO1xyXG5cclxuICAgIG9wZW5DbG9zZVZlcnNpb25EZGwoKTtcclxufTtcclxuXHJcblxyXG5cclxuLy8gUmVwbGFjZXMgdGhlIGRlZmF1bHQgc3BhY2Ugcm9vdCB2ZXJzaW9uIGxpbmtzIHdpdGggc2VhcmNoIHBhZ2UgbGlua3MsIGluY2x1ZGluZyB0aGUgY3VycmVudCBwYXJhbWV0ZXJzXHJcbnZhciBpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MgPSBmdW5jdGlvbiBpbnNlcnRTZWFyY2hWZXJzaW9uTGlua3MoKSB7XHJcbiAgICBpZiAoIXZlcnNpb25MaW5rVXBkYXRlRG9uZSkge1xyXG4gICAgICAgIHZhciB2ZXJzaW9uTGlua0VsZW1zID0gJChcIi5qcy1tZW51RGRsLXZlcnNpb24gYVwiKTtcclxuICAgICAgICB2ZXJzaW9uTGlua0VsZW1zLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBDaGVja3Mgd2hldGhlciB0aGUgbGlua2VkIHZlcnNpb24gc3VwcG9ydHMgdGhlIGRldiBtb2RlbCBzd2l0Y2hlclxyXG4gICAgICAgICAgICAvLyBJZiBpdCBkb2VzIG5vdCwgcmVtb3ZlcyBsYWJlbCBmaWx0ZXJpbmcgb2Ygc2VhcmNoIHJlc3VsdHNcclxuICAgICAgICAgICAgdmFyIGxpbmtFbGVtSHJlZkFycmF5ID0gdGhpcy5ocmVmLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgdmFyIHNwYWNlS2V5ID0gZ2V0RG9jVmVyc2lvbihsaW5rRWxlbUhyZWZBcnJheVtsaW5rRWxlbUhyZWZBcnJheS5sZW5ndGggLSAxXSk7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGRzIGEgc2xhc2ggc2VwYXJhdG9yIGlmIHRoZSBsaW5rIGRvZXMgbm90IGFscmVhZHkgZW5kIGluIGEgc2xhc2hcclxuICAgICAgICAgICAgdmFyIHNlYXJjaFNsYXNoID0gKCh0aGlzLmhyZWYuc2xpY2UoLTEpICE9PSBcIi9cIikgPyBcIi9cIiA6IFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKENPTkZJRy5DT05GTFVFTkNFX0RFVk1PREVMX1ZFUlNJT05TV0lUQ0hFUl9XSElURUxJU1QuaW5kZXhPZihzcGFjZUtleSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gS2VlcHMgdGhlIGZ1bGwgcXVlcnkgc3RyaW5nIGlmIHRoZSBsaW5rZWQgdmVyc2lvbiBzdXBwb3J0cyB0aGUgZGV2IG1vZGVsIHN3aXRjaGVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhyZWYgPSB0aGlzLmhyZWYgKyBzZWFyY2hTbGFzaCArIFwic2VhcmNoXCIgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0cyB0aGUgcXVlcnkgc3RyaW5nIHBhcmFtZXRlcnMgdXNlZCBieSB0aGUgY3VycmVudCBzZWFyY2ggcmVzdWx0cyBwYWdlXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoUXVlcnlTdHJpbmdQYXJ0cyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoXCImXCIpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHNlYXJjaFF1ZXJ5U3RyaW5nUGFydHMubGVuZ3RoOyBpLS0gPiAwOykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZXMgdGhlIGxhYmVsIGZpbHRlcmluZyBwYXJhbWV0ZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUXVlcnlTdHJpbmdQYXJ0c1tpXS5pbmRleE9mKFwibD1cIikgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hRdWVyeVN0cmluZ1BhcnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5ocmVmID0gdGhpcy5ocmVmICsgc2VhcmNoU2xhc2ggKyBcInNlYXJjaFwiICsgc2VhcmNoUXVlcnlTdHJpbmdQYXJ0cy5qb2luKFwiJlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZlcnNpb25MaW5rVXBkYXRlRG9uZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbkNsb3NlVmVyc2lvbkRkbCgpO1xyXG59O1xyXG5cclxuXHJcbi8vIERpc3BsYXlzL2hpZGVzIHRoZSBkb2N1bWVudGF0aW9uIHR5cGUgc2VsZWN0b3IgZHJvcC1kb3duIGxpc3RcclxudmFyIG9wZW5DbG9zZURvY1R5cGVEZGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGwtZG9jVHlwZVwiKS50b2dnbGVDbGFzcyhcInNob3dcIik7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGxCdG4tZG9jVHlwZVwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxufTtcclxuXHJcbi8vIERpc3BsYXlzL2hpZGVzIHRoZSBkb2N1bWVudGF0aW9uIHZlcnNpb24gc2VsZWN0b3IgZHJvcC1kb3duIGxpc3RcclxudmFyIG9wZW5DbG9zZVZlcnNpb25EZGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGwtdmVyc2lvblwiKS50b2dnbGVDbGFzcyhcInNob3dcIik7XHJcbiAgICAkKFwiLmpzLW1lbnVEZGxCdG4tdmVyc2lvblwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxufTtcclxuXHJcblxyXG4vLyBSZXR1cm5zIHRoZSBkb2N1bWVudGF0aW9uIHR5cGUgZm9yIGEgc3BlY2lmaWVkIHNwYWNlIGtleVxyXG52YXIgZ2V0RG9jVHlwZSA9IGZ1bmN0aW9uIChzcGFjZUtleSkge1xyXG4gICAgdmFyIGFwaUV4YW1wbGVzID0gL2FwaS9pO1xyXG4gICAgdmFyIHR1dG9yaWFsID0gL3R1dG9yaWFsL2k7XHJcbiAgICBpZiAoYXBpRXhhbXBsZXMudGVzdChzcGFjZUtleSkpIHtcclxuICAgICAgICByZXR1cm4gXCJBUEkgRXhhbXBsZXNcIjtcclxuICAgIH1cclxuICAgIGlmICh0dXRvcmlhbC50ZXN0KHNwYWNlS2V5KSkge1xyXG4gICAgICAgIHJldHVybiBcIlR1dG9yaWFsXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJEb2N1bWVudGF0aW9uXCI7XHJcbn07XHJcblxyXG5cclxuLy8gUmV0dXJucyB0aGUgZG9jdW1lbnRhdGlvbiB2ZXJzaW9uIGZvciBhIHNwZWNpZmllZCBzcGFjZSBrZXlcclxudmFyIGdldERvY1ZlcnNpb24gPSBmdW5jdGlvbiAoc3BhY2VLZXkpIHtcclxuXHRzd2l0Y2ggKHNwYWNlS2V5KSB7XHJcblx0XHQvLyBFeGNlcHRpb25zIGZvciBzcGFjZXMgd2l0aG91dCBhIG51bWJlciBpbiB0aGUgc3BhY2Uga2V5IGFuZCBmb3IgXCIxMnNwXCJcclxuXHRcdGNhc2UgXCJLMTJTUFwiOlxyXG5cdFx0Y2FzZSBcIkFQSTEyU1BcIjpcclxuXHRcdGNhc2UgXCJLMTJTUFR1dG9yaWFsXCI6XHJcblx0XHRcdHJldHVybiBcIjEyc3BcIjtcclxuXHRcdGNhc2UgXCJYUFwiOlxyXG5cdFx0Y2FzZSBcIlR1dG9yaWFsXCI6XHJcblx0XHRjYXNlIFwiQXBpXCI6XHJcblx0XHRcdHJldHVybiBcInhwXCI7XHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHQvLyBSZXR1cm5zIHRoZSBudW1iZXIgZnJvbSB0aGUgc3BhY2Uga2V5IGZvciBcInN0YW5kYXJkXCIgY2FzZXNcclxuXHRcdFx0cmV0dXJuIHNwYWNlS2V5LnJlcGxhY2UoL1teMC05XS9nLCAnJyk7XHJcblx0fVx0XHJcbn07XHJcblxyXG5cclxuLy8gQ29udmVydHMgdGhlIHZlcnNpb24gbnVtYmVyIHRvIHRoZSBhcHByb3ByaWF0ZSB0b29sdGlwICh0aXRsZSkgZm9yIHRoZSB2ZXJzaW9uIGxpbmtcclxudmFyIGdldFZlcnNpb25MaW5rVGl0bGUgPSBmdW5jdGlvbiAodmVyc2lvbikge1xyXG4gICAgc3dpdGNoICh2ZXJzaW9uKSB7XHJcbiAgICAgICAgY2FzZSBcIjEyc3BcIjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiS2VudGljbyAxMiBTZXJ2aWNlIFBhY2tcIjtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gZ2V0VmVyc2lvblRleHRGcm9tVmVyc2lvbklkKHZlcnNpb24pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8vIEJ1aWxkcyBsaW5rcyB0byB0aGUgZG9jdW1lbnRhdGlvbiBzcGFjZSByb290IGZvciBhIHNwZWNpZmllZCBkb2N1bWVudGF0aW9uIHR5cGUgYW5kIHZlcnNpb25cclxudmFyIGJ1aWxkRG9jTGluayA9IGZ1bmN0aW9uIGJ1aWxkRG9jTGluayh2ZXJzaW9uLCBkb2NUeXBlLCB1c2VEb2NUeXBlSW5MaW5rVGV4dCwgaXNDdXJyZW50KSB7XHJcbiAgICB2YXIgc3BhY2VLZXk7XHJcbiAgICB2YXIgc3BhY2VLZXlTbGFzaCA9IFwiL1wiO1xyXG5cdFxyXG5cdC8vIFBhdHRlcm4gZm9yIFhwZXJpZW5jZSAxMyBvciBuZXdlciBkb2NzXHJcbiAgICBpZiAoQ09ORklHLk9CU09MRVRFX1NQQUNFX0tFWV9GT1JNQVRfVkVSU0lPTlMuaW5kZXhPZih2ZXJzaW9uKSA9PT0gLTEpIHtcclxuXHRcdC8vIFRoZSBYUCBkb2NzIGRvIG5vdCBoYXZlIGEgbnVtYmVyIHByZWZpeCBpbiB0aGVpciBzcGFjZSBrZXlzXHJcblx0XHR2YXIgdmVyc2lvblByZWZpeCA9ICh2ZXJzaW9uID09PSBcInhwXCIpID8gXCJcIiA6IHZlcnNpb247XHJcblx0XHRcclxuICAgICAgICBzd2l0Y2ggKGRvY1R5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcIlR1dG9yaWFsXCI6XHJcbiAgICAgICAgICAgICAgICBzcGFjZUtleSA9IHZlcnNpb25QcmVmaXggKyBcInR1dG9yaWFsXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFQSSBFeGFtcGxlc1wiOlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uUHJlZml4ICsgXCJhcGlcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgc3BhY2VLZXkgPSB2ZXJzaW9uO1xyXG4gICAgICAgIH1cdFx0XHJcblx0XHQvLyBSZW1vdmVzIHRoZSBzcGFjZSBrZXkgZnJvbSB0aGUgbGluayBmb3IgdGhlIHZlcnNpb24gKHVzZXMgdGhlIGJhc2UgVVJMIHdpdGhvdXQgYSBrZXkgaW4gdGhlIHBhdGgpXHJcblx0XHRpZiAoc3BhY2VLZXkgPT09IENPTkZJRy5ET0NfUk9PVF9VUkxfU1BBQ0VfS0VZKSB7XHJcblx0XHRcdHNwYWNlS2V5ID0gXCJcIjtcclxuXHRcdFx0c3BhY2VLZXlTbGFzaCA9IFwiXCI7XHJcblx0XHR9XHJcblx0Ly8gUGF0dGVybiBmb3Igb2xkZXIgc3BhY2VzIHdpdGggYSB2ZXJzaW9uIG51bWJlciBzdWZmaXggaW4gdGhlIHNwYWNlIGtleVx0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN3aXRjaCAoZG9jVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiVHV0b3JpYWxcIjpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJrXCIgKyB2ZXJzaW9uICsgXCJ0dXRvcmlhbFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJBUEkgRXhhbXBsZXNcIjpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJhcGlcIiArIHZlcnNpb247XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHNwYWNlS2V5ID0gXCJrXCIgKyB2ZXJzaW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHRcdFxyXG4gICAgdmFyIGJhc2VVcmwgPSAkKCdbbmFtZT1cImFqcy1iYXNlLXVybFwiXScpLmF0dHIoJ2NvbnRlbnQnKTtcclxuICAgIHZhciBsaW5rVGV4dCA9IHVzZURvY1R5cGVJbkxpbmtUZXh0ID8gZG9jVHlwZSA6IGdldFZlcnNpb25UZXh0RnJvbVZlcnNpb25JZCh2ZXJzaW9uKTtcclxuICAgIHZhciBsaW5rVGl0bGUgPSAnIHRpdGxlPVwiJyArICh1c2VEb2NUeXBlSW5MaW5rVGV4dCA/IGRvY1R5cGUgOiBnZXRWZXJzaW9uTGlua1RpdGxlKHZlcnNpb24pKSArICdcIic7XHJcblxyXG4gICAgdmFyIGNsYXNzQXR0cmlidXRlID0gJ2NsYXNzPVwiJyArIChpc0N1cnJlbnQgPyAnIGN1cnJlbnQnIDogJycpICsgJ1wiJztcclxuXHJcbiAgICByZXR1cm4gJzxsaT48YSBocmVmPVwiJyArIGJhc2VVcmwgKyBzcGFjZUtleVNsYXNoICsgc3BhY2VLZXkgKyAnXCInICsgY2xhc3NBdHRyaWJ1dGUgKyBsaW5rVGl0bGUgKyAnPicgKyBsaW5rVGV4dCArICc8L2E+PC9saT4nO1xyXG59O1xyXG5cclxuXHJcbnZhciBsb2FkRG9jVmVyc2lvbkhlYWRlckxpc3QgPSBmdW5jdGlvbiBsb2FkRG9jVmVyc2lvbkhlYWRlckxpc3QoY3VycmVudERvY1R5cGUsIGN1cnJlbnREb2NWZXJzaW9uKSB7XHJcbiAgICB2YXIgdXNlckxvZ2dlZEluID0gJCgnW25hbWU9XCJjb25mbHVlbmNlLXVzZXItbG9nZ2VkLWluXCJdJykuYXR0cignY29udGVudCcpO1xyXG5cclxuICAgIC8vIEZpbHRlcnMgb3V0IHVuYXZhaWxhYmxlIGFuZCB1bnB1Ymxpc2hlZCB2ZXJzaW9uc1xyXG4gICAgdmFyIGF2YWlsYWJsZURvY1ZlcnNpb25zID0gRE9DVU1FTlRBVElPTl9WRVJTSU9OUy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIEFQSSBleGFtcGxlcyBmb3IgOC4yIG9yIG9sZGVyXHJcbiAgICAgICAgcmV0dXJuICgoY3VycmVudERvY1R5cGUgIT09IFwiQVBJIEV4YW1wbGVzXCIpIHx8IChpdGVtLnZlcnNpb25JZCAhPT0gXCI4XCIgJiYgaXRlbS52ZXJzaW9uSWQgIT09IFwiODFcIiAmJiBpdGVtLnZlcnNpb25JZCAhPT0gXCI4MlwiKSkgJiZcclxuICAgICAgICAgICAgICAgIC8vIEhpZGVzIHRoZSBkZXZlbG9wbWVudCB2ZXJzaW9uIGZvciBwdWJsaWMgdXNlcnNcclxuICAgICAgICAgICAgICAgKCh1c2VyTG9nZ2VkSW4gPT09IFwidHJ1ZVwiKSB8fCAoaXRlbS52ZXJzaW9uSWQgIT09IENPTkZJRy5ERVZfRE9DVU1FTlRBVElPTl9WRVJTSU9OX0lEKSkgJiZcclxuICAgICAgICAgICAgICAgIC8vIEhpZGVzIHZlcnNpb24gMTIsIHdoaWNoIGlzIHJlZGlyZWN0ZWQgdG8gMTJTUFxyXG4gICAgICAgICAgICAgICAoaXRlbS52ZXJzaW9uSWQgIT09IFwiMTJcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgZG9jVmVyc2lvbkxpbmtzID0gXCJcIjtcclxuXHJcbiAgICBhdmFpbGFibGVEb2NWZXJzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgLy8gSGlkZXMgb2xkZXIgZG9jdW1lbnRhdGlvbiB2ZXJzaW9ucyBiZWhpbmQgdGhlICdBbGwgdmVyc2lvbnMnIGV4cGFuZGFibGVcclxuICAgICAgICBpZiAoaXRlbS52ZXJzaW9uSWQgPT0gQ09ORklHLk5FV0VTVF9VTlNVUFBPUlRFRF9WRVJTSU9OX0lEKSB7XHJcbiAgICAgICAgICAgIGRvY1ZlcnNpb25MaW5rcyArPSAnPGxpIGNsYXNzPVwianMtdW5zdXBwb3J0ZWQtdmVyc2lvbnNcIj4nICtcclxuICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwiaGVhZGVyLWRkbC1idXR0b24tbmVzdGVkIGpzLXVuc3VwcG9ydGVkLXZlcnNpb25zLWJ1dHRvblwiPicgK1xyXG4gICAgICAgICAgICAgICAgJ0FsbCB2ZXJzaW9ucycgK1xyXG4gICAgICAgICAgICAgICAgJzwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAgICAgJzx1bCBjbGFzcz1cIm1lbnUtZGRsLWNvbnRlbnQgbmVzdGVkLWxpc3QgZG9jVmVyc2lvbiBqcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1saXN0XCI+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvY1ZlcnNpb25MaW5rcyArPSBidWlsZERvY0xpbmsoaXRlbS52ZXJzaW9uSWQsIGN1cnJlbnREb2NUeXBlLCBmYWxzZSwgaXRlbS52ZXJzaW9uSWQgPT0gY3VycmVudERvY1ZlcnNpb24pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jVmVyc2lvbkxpbmtzICs9ICc8L3VsPjwvbGk+JztcclxuXHJcbiAgICAkKCcuanMtbWVudURkbEJ0bi12ZXJzaW9uJykuaHRtbChnZXRWZXJzaW9uVGV4dEZyb21WZXJzaW9uSWQoY3VycmVudERvY1ZlcnNpb24pKTtcclxuICAgICQoJy5qcy1tZW51RGRsLXZlcnNpb24nKS5odG1sKGRvY1ZlcnNpb25MaW5rcyk7XHJcbn07XHJcblxyXG5cclxuLy8gUmVnaXN0ZXJzIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIHVuc3VwcG9ydGVkIHZlcnNpb25zIGxpc3RcclxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgXCIuanMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtYnV0dG9uXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5qcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1saXN0JykudG9nZ2xlQ2xhc3MoJ3Nob3cnKTtcclxuICAgICQoJy5qcy11bnN1cHBvcnRlZC12ZXJzaW9ucy1saXN0JykudG9nZ2xlQ2xhc3MoJ29wZW5lZCcpO1xyXG59KTtcclxuXHJcblxyXG52YXIgbG9hZERvY1R5cGVIZWFkZXJMaXN0ID0gZnVuY3Rpb24gbG9hZERvY1R5cGVIZWFkZXJMaXN0KGN1cnJlbnREb2NWZXJzaW9uLCBjdXJyZW50RG9jVHlwZSkge1xyXG4gICAgdmFyIGF2YWlsYWJsZURvY1R5cGVzID0gW1wiRG9jdW1lbnRhdGlvblwiLCBcIlR1dG9yaWFsXCIsIFwiQVBJIEV4YW1wbGVzXCJdO1xyXG4gICAgLy8gRmlsdGVycyBvdXQgdGhlIEFQSSBFeGFtcGxlcyBkb2N1bWVudGF0aW9uIHR5cGUgaWYgdGhlIGN1cnJlbnQgdmVyc2lvbiBpcyA4LjIgb3Igb2xkZXJcclxuICAgIGF2YWlsYWJsZURvY1R5cGVzID0gYXZhaWxhYmxlRG9jVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIChjdXJyZW50RG9jVmVyc2lvbiAhPT0gXCI4XCIgJiYgY3VycmVudERvY1ZlcnNpb24gIT09IFwiODFcIiAmJiBjdXJyZW50RG9jVmVyc2lvbiAhPT0gXCI4MlwiKSB8fCAoaXRlbSAhPT0gXCJBUEkgRXhhbXBsZXNcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgZG9jVHlwZUxpbmtzID0gXCJcIjtcclxuICAgIGF2YWlsYWJsZURvY1R5cGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBkb2NUeXBlTGlua3MgKz0gYnVpbGREb2NMaW5rKGN1cnJlbnREb2NWZXJzaW9uLCBpdGVtLCB0cnVlLCBpdGVtID09IGN1cnJlbnREb2NUeXBlKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5qcy1tZW51RGRsQnRuLWRvY1R5cGUnKS5odG1sKGN1cnJlbnREb2NUeXBlKTtcclxuICAgICQoJy5qcy1tZW51RGRsLWRvY1R5cGUnKS5odG1sKGRvY1R5cGVMaW5rcyk7XHJcbn07XHJcblxyXG5cclxuLy8gQWRkcyB0aGUgb3B0aW9ucyB0byB0aGUgZG9jdW1lbnRhdGlvbiB0eXBlIGFuZCB2ZXJzaW9uIGRyb3AtZG93biBsaXN0c1xyXG52YXIgbG9hZEhlYWRlckxpc3RzID0gZnVuY3Rpb24gbG9hZEhlYWRlckxpc3RzKCkge1xyXG4gICAgdmFyIGN1cnJlbnREb2NWZXJzaW9uID0gZ2V0RG9jVmVyc2lvbihDT05GSUcuQ09ORkxVRU5DRV9TUEFDRV9LRVkpO1xyXG4gICAgdmFyIGN1cnJlbnREb2NUeXBlID0gZ2V0RG9jVHlwZShDT05GSUcuQ09ORkxVRU5DRV9TUEFDRV9LRVkpO1xyXG5cclxuICAgIGxvYWREb2NUeXBlSGVhZGVyTGlzdChjdXJyZW50RG9jVmVyc2lvbiwgY3VycmVudERvY1R5cGUpO1xyXG4gICAgbG9hZERvY1ZlcnNpb25IZWFkZXJMaXN0KGN1cnJlbnREb2NUeXBlLCBjdXJyZW50RG9jVmVyc2lvbik7XHJcbn07XHJcblxyXG5cclxuLy8gQ2xvc2VzIHRoZSBkb2N1bWVudGF0aW9uIHR5cGUgYW5kIHZlcnNpb24gZHJvcC1kb3duIGxpc3RzIGlmIHRoZSBjbGllbnQgY2xpY2tzIGVsc2V3aGVyZVxyXG52YXIgY2xvc2VIZWFkZXJEcm9wRG93bnMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHZhciBidXR0b25Eb2NUeXBlID0gJChcIi5qcy1tZW51RGRsQnRuLWRvY1R5cGVcIik7XHJcbiAgICB2YXIgYnV0dG9uVmVyc2lvbiA9ICQoXCIuanMtbWVudURkbEJ0bi12ZXJzaW9uXCIpO1xyXG4gICAgdmFyIG9sZGVyVmVyc2lvbnNCdXR0b24gPSAkKFwiLmpzLXVuc3VwcG9ydGVkLXZlcnNpb25zLWJ1dHRvblwiKTtcclxuICAgIHZhciBvbGRlclZlcnNpb25zTGlzdCA9ICQoXCIuanMtdW5zdXBwb3J0ZWQtdmVyc2lvbnMtbGlzdFwiKTtcclxuICAgIHZhciBkZXZNb2RlbEJ1dHRvbiA9ICQoXCIuanMtbWVudURkbEJ0bi1kZXZNb2RlbFwiKTtcclxuICAgIHZhciBkZXZNb2RlbExpc3QgPSAkKFwiLmpzLW1lbnVEZGwtZGV2TW9kZWxcIik7XHJcblxyXG4gICAgaWYgKG9sZGVyVmVyc2lvbnNCdXR0b24uaXMoZXZlbnQudGFyZ2V0KSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFidXR0b25Eb2NUeXBlLmlzKGV2ZW50LnRhcmdldCkgJiYgKGJ1dHRvbkRvY1R5cGUuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgICQoXCIuanMtbWVudURkbC1kb2NUeXBlXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICBidXR0b25Eb2NUeXBlLnJlbW92ZUNsYXNzKFwib3BlbmVkXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghYnV0dG9uVmVyc2lvbi5pcyhldmVudC50YXJnZXQpICYmIChidXR0b25WZXJzaW9uLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkpIHtcclxuICAgICAgICAkKFwiLmpzLW1lbnVEZGwtdmVyc2lvblwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgYnV0dG9uVmVyc2lvbi5yZW1vdmVDbGFzcyhcIm9wZW5lZFwiKTtcclxuICAgICAgICBvbGRlclZlcnNpb25zTGlzdC5yZW1vdmVDbGFzcyhcIm9wZW5lZFwiKTtcclxuICAgICAgICBvbGRlclZlcnNpb25zTGlzdC5yZW1vdmVDbGFzcyhcInNob3dcIik7ICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGlmICghZGV2TW9kZWxCdXR0b24uaXMoZXZlbnQudGFyZ2V0KSAmJiAoZGV2TW9kZWxMaXN0LmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkpIHtcclxuICAgICAgICBkZXZNb2RlbExpc3QucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgIGRldk1vZGVsQnV0dG9uLnJlbW92ZUNsYXNzKFwib3BlbmVkXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGxvYWRIZWFkZXJMaXN0cyk7XHJcbiQoZG9jdW1lbnQpLmNsaWNrKGNsb3NlSGVhZGVyRHJvcERvd25zKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gSEVBREVSIERldk1vZGVsIFN3aXRjaGVyID09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgaXNEZXZNb2RlbFN3aXRjaGVyU3VwcG9ydGVkID0gZnVuY3Rpb24gaXNEZXZNb2RlbFN3aXRjaGVyU3VwcG9ydGVkKCkge1xyXG4gICAgdmFyIGN1cnJlbnRTcGFjZUtleSA9IENPTkZJRy5DT05GTFVFTkNFX1NQQUNFX0tFWTtcclxuXHJcbiAgICAvLyBPbmx5IHN1cHBvcnRlZCBieSB3aGl0ZWxpc3RlZCBkb2N1bWVudGF0aW9uIHZlcnNpb25zIC0gQ09ORklHLkNPTkZMVUVOQ0VfREVWTU9ERUxfVkVSU0lPTlNXSVRDSEVSX1dISVRFTElTVFxyXG4gICAgaWYgKCFjdXJyZW50U3BhY2VLZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImFwaVwiKSAmJiBDT05GSUcuQ09ORkxVRU5DRV9ERVZNT0RFTF9WRVJTSU9OU1dJVENIRVJfV0hJVEVMSVNULmluZGV4T2YoZ2V0RG9jVmVyc2lvbihjdXJyZW50U3BhY2VLZXkpKSA+PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuXHJcbnZhciBnZXRQYWdlTGFiZWxzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGxhYmVscyA9ICQoJ1tuYW1lPVwiY29uZmx1ZW5jZS1wYWdlLWxhYmVsc1wiXScpLmF0dHIoJ2NvbnRlbnQnKTtcclxuICAgIGxhYmVscyA9IGxhYmVscy5zbGljZSgxLCAtMSk7XHJcbiAgICBsYWJlbHMgPSBsYWJlbHMuc3BsaXQoXCIsIFwiKTtcclxuXHJcbiAgICByZXR1cm4gbGFiZWxzO1xyXG59O1xyXG5cclxuXHJcbnZhciBzZXREZXZNb2RlbFdlYlN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoaXNEZXZNb2RlbFN3aXRjaGVyU3VwcG9ydGVkKCkgJiYgdHlwZW9mIChTdG9yYWdlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHZhciBjdXJyZW50TGFiZWxzID0gZ2V0UGFnZUxhYmVscygpO1xyXG5cclxuICAgICAgICAvLyBTZXRzIE1WQyBtb2RlIGZvciBwYWdlcyBjb250YWluaW5nIHRoZSAnbXZjJyBsYWJlbFxyXG4gICAgICAgIGlmIChjdXJyZW50TGFiZWxzLmluZGV4T2YoXCJtdmNcIikgPj0gMCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlID0gXCJtdmNcIjtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTZXRzIFBFIG1vZGUgZm9yIHBhZ2VzIGNvbnRhaW5pbmcgdGhlICdwZScgbGFiZWxcclxuICAgICAgICBpZiAoY3VycmVudExhYmVscy5pbmRleE9mKFwicGVcIikgPj0gMCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlID0gXCJwZVwiO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVja3MgZm9yIHRoZSAnZGV2TW9kZWwnIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIsIHdoaWNoIGNhbiBmb3JjZSB0aGUgZGV2IG1vZGVsIGZvciBoeWJyaWQgcGFnZXNcclxuICAgICAgICB2YXIgcXVlcnlTdHJpbmdQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgIGlmIChxdWVyeVN0cmluZ1BhcmFtcy5pbmRleE9mKFwiZGV2TW9kZWw9bXZjXCIpID49IDApIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSA9IFwibXZjXCI7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHF1ZXJ5U3RyaW5nUGFyYW1zLmluZGV4T2YoXCJkZXZNb2RlbD1wZVwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgPSBcInBlXCI7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERlZmF1bHRzIHRvIE1WQyBpZiBubyB3ZWIgc3RvcmFnZSB2YWx1ZSBpcyBzZXRcclxuICAgICAgICBpZiAoIWxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrZW50aWNvRG9jdW1lbnRhdGlvbk1vZGVcIikgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uTW9kZSA9IFwibXZjXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gRG9lcyBub3RoaW5nIGlmIHdlYiBzdG9yYWdlIGlzIGRpc2FibGVkLCBlbmRwb2ludHMgYXV0b21hdGljYWxseSBkZWZhdWx0IHRvIE1WQ1xyXG59O1xyXG5cclxuXHJcbnZhciBnZXRDdXJyZW50RGV2TW9kZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY3VycmVudGxhYmVscyA9IGdldFBhZ2VMYWJlbHMoKTtcclxuXHJcbiAgICBpZiAoY3VycmVudGxhYmVscy5pbmRleE9mKFwibXZjXCIpID49IDApIHtcclxuICAgICAgICByZXR1cm4gXCJtdmNcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudGxhYmVscy5pbmRleE9mKFwicGVcIikgPj0gMCkge1xyXG4gICAgICAgIHJldHVybiBcInBlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2tzIGZvciB0aGUgJ2Rldk1vZGVsJyBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyLCB3aGljaCBjYW4gZm9yY2UgdGhlIGRldiBtb2RlbCBmb3IgaHlicmlkIHBhZ2VzXHJcbiAgICB2YXIgcXVlcnlTdHJpbmdQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xyXG5cclxuICAgIGlmIChxdWVyeVN0cmluZ1BhcmFtcy5pbmRleE9mKFwiZGV2TW9kZWw9bXZjXCIpID49IDApIHtcclxuICAgICAgICByZXR1cm4gXCJhbGx8bXZjXCI7XHJcbiAgICB9XHJcbiAgICBpZiAocXVlcnlTdHJpbmdQYXJhbXMuaW5kZXhPZihcImRldk1vZGVsPXBlXCIpID49IDApIHtcclxuICAgICAgICByZXR1cm4gXCJhbGx8cGVcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVja3MgdGhlIHBlcnNpc3RpbmcgbG9jYWwgc3RvcmFnZSBmb3IgaHlicmlkIHBhZ2VzIChNVkMgKyBQRSlcclxuICAgIGlmICh0eXBlb2YgKFN0b3JhZ2UpICE9PSBcInVuZGVmaW5lZFwiICYmIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUpIHtcclxuICAgICAgICByZXR1cm4gXCJhbGx8XCIgKyBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25Nb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlZmF1bHRzIHRvIE1WQyBpZiBsb2NhbCBzdG9yYWdlIGlzIGVtcHR5IG9yIGRpc2FibGVkXHJcbiAgICByZXR1cm4gXCJhbGx8bXZjXCI7XHJcbn07XHJcblxyXG5cclxuLy8gVHJhbnNsYXRlcyB0aGUgdHJpbW1lZCBzcGFjZSBrZXkgdmVyc2lvbiB0byB0aGUgSUQgdXNlZCBieSB0aGUgZG9jdW1lbnRhdGlvbiBoZWxwIHNlcnZpY2VcclxudmFyIHRyYW5zbGF0ZVRvSGVscFNlcnZpY2VWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb24pIHtcclxuICAgIHJldHVybiBET0NVTUVOVEFUSU9OX1ZFUlNJT05TLmZpbmQoKGl0ZW0pID0+IGl0ZW0udmVyc2lvbklkID09IHZlcnNpb24pLmhlbHBTZXJ2aWNlVmVyc2lvbjtcclxufTtcclxuXHJcblxyXG4vLyBTd2l0Y2hlcyB0aGUgZGV2IG1vZGVsIGluIHRoZSB3ZWIgc3RvcmFnZVxyXG4vLyBEb2VzIE5PVCByZWRpcmVjdCAodGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYmVmb3JlIGEgcmVkaXJlY3QvcmVmcmVzaC9saW5rKVxyXG52YXIgc3dpdGNoRGV2TW9kZWxTdG9yYWdlID0gZnVuY3Rpb24gKHRhcmdldE1vZGVsKSB7XHJcbiAgICBpZiAodHlwZW9mIChTdG9yYWdlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbk1vZGUgPSB0YXJnZXRNb2RlbDtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIERpc3BsYXlzL2hpZGVzIHRoZSBkb2N1bWVudGF0aW9uIHR5cGUgc2VsZWN0b3IgZHJvcC1kb3duIGxpc3RcclxudmFyIG9wZW5DbG9zZURldk1vZGVsRGRsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5qcy1tZW51RGRsLWRldk1vZGVsXCIpLnRvZ2dsZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICQoXCIuanMtbWVudURkbEJ0bi1kZXZNb2RlbFwiKS50b2dnbGVDbGFzcyhcIm9wZW5lZFwiKTtcclxufTtcclxuXHJcbnZhciBkZXZNb2RlbE1hcCA9IHtcclxuICAgIG12YzogJ01WQycsXHJcbiAgICBwZTogJ1BvcnRhbCBFbmdpbmUnLFxyXG59O1xyXG5cclxuXHJcbnZhciBpbml0QWx0RGV2TW9kZWxMaW5rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gRW5kcyB0aGUgZnVuY3Rpb24gZm9yIENvbmZsdWVuY2Ugc3BhY2VzIHRoYXQgZG8gbm90IHN1cHBvcnQgdGhlIGRldiBtb2RlbCBzd2l0Y2hlclxyXG4gICAgaWYgKCFpc0Rldk1vZGVsU3dpdGNoZXJTdXBwb3J0ZWQoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgY3VycmVudE1vZGVsID0gZ2V0Q3VycmVudERldk1vZGVsKCk7XHJcblxyXG4gICAgLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIHBhZ2UgaXMgYXZhaWxhYmxlIGZvciBhbGwgZGV2IG1vZGVscyBhbmQgYWRqdXN0cyB0aGUgY3VycmVudE1vZGVsIHZhbHVlIGlmIHRoYXQgaXMgdGhlIGNhc2VcclxuICAgIHZhciBhbGxEZXZNb2RlbFBhZ2UgPSBmYWxzZTtcclxuICAgIGlmIChjdXJyZW50TW9kZWwuaW5kZXhPZihcImFsbHxcIikgPT09IDApIHtcclxuICAgICAgICBhbGxEZXZNb2RlbFBhZ2UgPSB0cnVlO1xyXG4gICAgICAgIGN1cnJlbnRNb2RlbCA9IGN1cnJlbnRNb2RlbC5zcGxpdChcInxcIilbMV07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFsdERldk1vZGVsID0gKGN1cnJlbnRNb2RlbCA9PSBcIm12Y1wiKSA/IFwicGVcIiA6IFwibXZjXCI7XHJcblxyXG4gICAgLy8gR2V0cyB0aGUgYWN0aXZlIGRldiBtb2RlbCBlbGVtZW50IGFuZCBhZGRzIHRoZSAnYWN0aXZlJyBDU1MgY2xhc3NcclxuICAgICQoXCIuanMtXCIgKyBjdXJyZW50TW9kZWwgKyBcIi1tb2RlbC1saW5rXCIpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuICAgIC8vIEdldHMgdGhlIG5vbi1hY3RpdmUgZGV2IG1vZGVsIGVsZW1lbnRcclxuICAgIHZhciBhbHREZXZNb2RlbEVsZW1lbnQgPSAkKFwiLmpzLVwiICsgYWx0RGV2TW9kZWwgKyBcIi1tb2RlbC1saW5rXCIpO1xyXG5cclxuICAgIC8vIEVuZHMgdGhlIGZ1bmN0aW9uIGlmIHRoZSBlbGVtZW50IGlzIG5vdCBwcmVzZW50IG9uIHRoZSBwYWdlIF5eXHJcbiAgICBpZiAoIWFsdERldk1vZGVsRWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkKCcuanMtbWVudURkbEJ0bi1kZXZNb2RlbCcpLmh0bWwoZGV2TW9kZWxNYXBbY3VycmVudE1vZGVsXSk7XHJcblxyXG4gICAgLy8gRm9yIFwiYWxsIGRldiBtb2RlbFwiIHBhZ2VzLCBhZGp1c3RzIHRoZSBhbHRlcm5hdGl2ZSBsaW5rIHRvIHJlZnJlc2ggdGhlIHNhbWUgcGFnZSBhbmQgc3dpdGNoZXMgdGhlIGRldiBtb2RlbFxyXG4gICAgaWYgKGFsbERldk1vZGVsUGFnZSkge1xyXG4gICAgICAgIGFsdERldk1vZGVsRWxlbWVudC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3dpdGNoRGV2TW9kZWxTdG9yYWdlKGFsdERldk1vZGVsKTtcclxuICAgICAgICAgICAgLy8gU3BlY2lhbCBwYWdlIHJlbG9hZCBpZiBzd2l0Y2hpbmcgb24gdGhlIHNlYXJjaCByZXN1bHRzIHBhZ2VcclxuICAgICAgICAgICAgdmFyIHBhdGhOYW1lQXJyYXkgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICBpZiAocGF0aE5hbWVBcnJheVtwYXRoTmFtZUFycmF5Lmxlbmd0aCAtIDFdID09IFwic2VhcmNoXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlb3BlbnMgdGhlIHNlYXJjaCByZXN1bHRzIHBhZ2Ugd2l0aCB0aGUgc3dpdGNoZWQgZGV2IG1vZGVsXHJcbiAgICAgICAgICAgICAgICBrZW50aWNvVGhlbWVPcGVuU2VhcmNoUmVzdWx0c1BhZ2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZXMgdGhlIGZyYWdtZW50IGZyb20gdGhlIHBhZ2UgVVJMIChpdCBjYW4gb3RoZXJ3aXNlIHByZXZlbnQgYSBmdWxsIHBhZ2UgcmVsb2FkIGlmIHByZXNlbnQpXHJcbiAgICAgICAgICAgICAgICB2YXIgZGV2TW9kZWxSZWxvYWRVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5oYXNoLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIGRldk1vZGVsUmVsb2FkVXJsID0gZGV2TW9kZWxSZWxvYWRVcmwucmVwbGFjZShcIiNcIiwgXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlcyB0aGUgP2Rldk1vZGVsIHF1ZXJ5IHN0cmluZyBwYXJhbWV0ZXIgd2hpY2ggd291bGQgaW50ZXJmZXJlIHdpdGggdGhlIHN3aXRjaCBvbiBhbGxfbW9kZWwgcGFnZXNcclxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFRoZSBjdXJyZW50IGJhc2ljIGltcGxlbWVudGF0aW9uIGFsc28gcmVtb3ZlcyBhbGwgcGFyYW1ldGVycyBhZnRlciAnZGV2TW9kZWwnXHJcbiAgICAgICAgICAgICAgICBkZXZNb2RlbFJlbG9hZFVybCA9IGRldk1vZGVsUmVsb2FkVXJsLnNwbGl0KFwiP2Rldk1vZGVsXCIpWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlbG9hZHMgdGhlIHBhZ2VcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGV2TW9kZWxSZWxvYWRVcmw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3VycmVudE1vZGVsRWxlbWVudC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBvcGVuQ2xvc2VEZXZNb2RlbERkbCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRm9yIHBhZ2VzIGF2YWlsYWJsZSBpbiBhIHNwZWNpZmljIGRldiBtb2RlbCwgYXR0ZW1wdHMgdG8gZ2V0IHRoZSBpZGVudGlmaWVyIG9mIHRoZSBhbHRlcm5hdGl2ZSBwYWdlXHJcbiAgICB2YXIgYWx0UGFnZUlkZW50aWZpZXIgPSAkKFwiI2Rldi1tb2RlbC1hbHRcIikuYXR0cihcImRhdGEtZGV2bW9kZWwtYWx0XCIpO1xyXG5cclxuICAgIC8vIEJyYW5jaGVzIGJlaGF2aW9yIGRlcGVuZGluZyBvbiB0aGUgZXhpc3RlbmNlIG9mIGEgcGFnZSBpbiB0aGUgYWx0ZXJuYXRpdmUgZGV2IG1vZGVsXHJcbiAgICBpZiAoYWx0UGFnZUlkZW50aWZpZXIpIHtcclxuICAgICAgICB2YXIgY3VycmVudERvY1ZlcnNpb24gPSBnZXREb2NWZXJzaW9uKENPTkZJRy5DT05GTFVFTkNFX1NQQUNFX0tFWSk7XHJcbiAgICAgICAgdmFyIGhlbHBTZXJ2aWNlVmVyc2lvbiA9IHRyYW5zbGF0ZVRvSGVscFNlcnZpY2VWZXJzaW9uKGN1cnJlbnREb2NWZXJzaW9uKTtcclxuXHJcbiAgICAgICAgdmFyIGFsdFBhZ2VVcmwgPSBDT05GSUcuSEVMUFNFUlZJQ0VfTElOS01BUFBFUl9FTkRQT0lOVCArIGhlbHBTZXJ2aWNlVmVyc2lvbiArIFwiJmxpbms9XCIgKyBhbHRQYWdlSWRlbnRpZmllcjtcclxuXHJcbiAgICAgICAgLy8gQWRkcyBcImxpbmtcIiBmdW5jdGlvbmFsaXR5IHdoZW4gdGhlIGFsdGVybmF0aXZlIGRldiBtb2RlbCBlbGVtZW50IGlzIGNsaWNrZWRcclxuICAgICAgICBhbHREZXZNb2RlbEVsZW1lbnQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFN3aXRjaGVzIHRoZSBkZXYgbW9kZWwgKGZvciBjYXNlcyB3aGVyZSB0aGUgYWx0ZXJuYXRpdmUgdGFyZ2V0IGlzIGFuIFwiYWxsIGRldiBtb2RlbFwiIHBhZ2UpXHJcbiAgICAgICAgICAgIHN3aXRjaERldk1vZGVsU3RvcmFnZShhbHREZXZNb2RlbCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYWx0UGFnZVVybDtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVmlzdWFsbHkgZGlzYWJsZXMgdGhlIGRldiBtb2RlbCBzd2l0Y2hlclxyXG4gICAgICAgICQoXCIuanMtbWVudURkbEJ0bi1kZXZNb2RlbFwiKS5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSkucHJvcChcInRpdGxlXCIsIFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBEaXNwbGF5cyBhIG1lc3NhZ2UgaW5mb3JtaW5nIHRoYXQgdGhlIHBhZ2UgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgb3RoZXIgZGV2IG1vZGVsXHJcbiAgICAgICAgdmFyIGN1cnJlbnRNb2RlbFRleHQgPSAoY3VycmVudE1vZGVsID09IFwibXZjXCIpID8gXCJNVkNcIiA6IFwiUG9ydGFsIEVuZ2luZVwiO1xyXG4gICAgICAgIHZhciBhbHRNb2RlbFRleHQgPSAoYWx0RGV2TW9kZWwgPT0gXCJtdmNcIikgPyBcIk1WQ1wiIDogXCJQb3J0YWwgRW5naW5lXCI7XHJcbiAgICAgICAgdmFyIGFsdE1vZGVsSG9tZVVybCA9ICQoJyNhanMtY29udGV4dC1wYXRoJykuYXR0cignY29udGVudCcpICsgXCIvXCIgKyBDT05GSUcuQ09ORkxVRU5DRV9TUEFDRV9LRVkudG9Mb3dlckNhc2UoKSArIFwiP2Rldk1vZGVsPVwiICsgYWx0RGV2TW9kZWw7XHJcbiAgICAgICAgdmFyIGFsdE1vZGVsSG9tZUxpbmsgPSAnPGEgaWQ9XCJhbHQtbW9kZWwtaG9tZS1saW5rXCIgaHJlZj1cIicgKyBhbHRNb2RlbEhvbWVVcmwgKyAnXCInICsgJz4nICsgYWx0TW9kZWxUZXh0ICsgJyBIb21lIHBhZ2U8L2E+JztcclxuICAgICAgICAkKFwiLmpzLWRldi1tb2RlbC11bmF2YWlsYWJsZS10ZXh0XCIpLmh0bWwoXCI8cD5UaGlzIHBhZ2UgaXMgb25seSBhdmFpbGFibGUgZm9yIHRoZSBcIiArIGN1cnJlbnRNb2RlbFRleHQgKyBcIiBkZXZlbG9wbWVudCBtb2RlbC48YnIgLz5Zb3UgY2FuIHN3aXRjaCB0byB0aGUgXCIgKyBhbHRNb2RlbEhvbWVMaW5rICsgXCIuPC9wPlwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShzZXREZXZNb2RlbFdlYlN0b3JhZ2UpO1xyXG4kKGRvY3VtZW50KS5yZWFkeShpbml0QWx0RGV2TW9kZWxMaW5rKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PSBYMTMgQ29yZS9NVkMgZGV2IGZyYW1ld29yayBzd2l0Y2hlciA9PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBzZXREZXZGcmFtZXdvcmtCdXR0b25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoLWNvcmVcIikuY2xpY2soZnVuY3Rpb24oKXsgY29yZUZyYW1ld29ya09uQ2xpY2soKTsgfSk7XHJcbiAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtbXZjXCIpLmNsaWNrKGZ1bmN0aW9uKCl7IG12Y0ZyYW1ld29ya09uQ2xpY2soKTsgfSk7XHJcbiAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2gtaW5kaWNhdG9yXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID09PSBcImNvcmVcIikge1xyXG4gICAgICAgICAgICBtdmNGcmFtZXdvcmtPbkNsaWNrKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb3JlRnJhbWV3b3JrT25DbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoLW12YywgLmpzLWRldi1tb2RlbC1zd2l0Y2gtY29yZSBcIikub24oJ2tleXVwJywgZnVuY3Rpb24oZSkgeyBcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgLy8gdXNlciBoYXMgcHJlc3NlZCBzcGFjZVxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDMyKXtcclxuICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9PT0gXCJjb3JlXCIpIHtcclxuICAgICAgICAgICAgICAgIG12Y0ZyYW1ld29ya09uQ2xpY2soKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29yZUZyYW1ld29ya09uQ2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG52YXIgc2V0RGV2RnJhbWV3b3JrQ2hlY2tib3ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID09PSBcIm12Y1wiKSB7XHJcbiAgICAgICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoLW12Y1wiKS5hdHRyKFwiY2hlY2tlZFwiLCB0cnVlKTtcclxuICAgICAgICAkKFwiLmpzLWRldi1tb2RlbC1zd2l0Y2hcIikuYWRkQ2xhc3MoXCJpcy1kZXYtbW9kZWwtbXZjXCIpLnJlbW92ZUNsYXNzKFwiaXMtZGV2LW1vZGVsLWNvcmVcIilcclxuICAgIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID09PSBcImNvcmVcIikge1xyXG4gICAgICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaC1jb3JlXCIpLmF0dHIoXCJjaGVja2VkXCIsIHRydWUpO1xyXG4gICAgICAgICQoXCIuanMtZGV2LW1vZGVsLXN3aXRjaFwiKS5hZGRDbGFzcyhcImlzLWRldi1tb2RlbC1jb3JlXCIpLnJlbW92ZUNsYXNzKFwiaXMtZGV2LW1vZGVsLW12Y1wiKVxyXG4gICAgfVxyXG59XHJcblxyXG52YXIgc2V0Q29ycmVjdEZyYW1ld29yayA9IGZ1bmN0aW9uIChjaGVja1VybFBhcmFtZXRlcnMgPSBmYWxzZSkge1xyXG4gICAgLy8gU2V0cyBNVkMgYXMgdGhlIGRlZmF1bHQgZnJhbWV3b3JrIGlmIGZyYW1ld29yayBpcyBub3Qgc2V0XHJcbiAgICBpZiAoIWxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrXCIpID09PSBudWxsKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID0gXCJtdmNcIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRm9yY2VzIGEgZnJhbWV3b3JrIGZyb20gdGhlIFVSTCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXHJcbiAgICBpZihjaGVja1VybFBhcmFtZXRlcnMpIHtcclxuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gICAgICAgIGxldCBkZXZNb2RlbFBhcmFtZXRlciA9IHVybFBhcmFtcy5nZXQoXCJkZXZtb2RlbFwiKTtcclxuICAgICAgICBpZihkZXZNb2RlbFBhcmFtZXRlciA9PT0gXCJtdmNcIiB8fCBkZXZNb2RlbFBhcmFtZXRlciA9PT0gXCJjb3JlXCIpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID0gZGV2TW9kZWxQYXJhbWV0ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTZXRzIHRoZSB2aXNpYmlsaXR5IG9mIGNvbmRpdGlvbmFsIGNvbnRlbnQgYmxvY2tzXHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmtlbnRpY29Eb2N1bWVudGF0aW9uRnJhbWV3b3JrID09PSBcIm12Y1wiKSB7XHJcbiAgICAgICAgJChcIi5kZXYtbW9kZWwtY29yZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAkKFwiLmRldi1tb2RlbC1tdmNcIikuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5rZW50aWNvRG9jdW1lbnRhdGlvbkZyYW1ld29yayA9PT0gXCJjb3JlXCIpIHtcclxuICAgICAgICAkKFwiLmRldi1tb2RlbC1tdmNcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgJChcIi5kZXYtbW9kZWwtY29yZVwiKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldERldkZyYW1ld29ya0NoZWNrYm94KCk7XHJcbn1cclxuXHJcbnZhciBzZXRIb3ZlclRpdGxlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCB0ZXh0PVwiU3dpdGNoIHRoZSBkaXNwbGF5ZWQgZGV2ZWxvcG1lbnQgbW9kZWwgaW4gdGhlIHN3aXRjaGVyIHVuZGVyIHRoZSBwYWdlIGhlYWRpbmdcIjtcclxuICAgICQoXCIuZGV2LW1vZGVsLWNvcmUgLmNvZGVDb250ZW50XCIpLmF0dHIoXCJ0aXRsZVwiLCB0ZXh0KTtcclxuICAgICQoXCIuZGV2LW1vZGVsLW12YyAuY29kZUNvbnRlbnRcIikuYXR0cihcInRpdGxlXCIsIHRleHQpO1xyXG59XHJcblxyXG52YXIgY29yZUZyYW1ld29ya09uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPSBcImNvcmVcIjtcclxuICAgIHNldENvcnJlY3RGcmFtZXdvcmsoKTtcclxufVxyXG5cclxudmFyIG12Y0ZyYW1ld29ya09uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uua2VudGljb0RvY3VtZW50YXRpb25GcmFtZXdvcmsgPSBcIm12Y1wiO1xyXG4gICAgc2V0Q29ycmVjdEZyYW1ld29yaygpO1xyXG59XHJcblxyXG52YXIgc2hvd0RldkZyYW1ld29ya1N3aXRjaGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5qcy1kZXYtbW9kZWwtc3dpdGNoXCIpLnJlbW92ZUNsYXNzKFwiaXMtaGlkZGVuXCIpO1xyXG59XHJcblxyXG52YXIgc2V0RGV2RnJhbWV3b3JrU3dpdGNoZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBDaGVja3MgdGhhdCBjb25kaXRpb25hbCBjb250ZW50IGlzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgcGFnZVxyXG4gICAgaWYoKCQoXCIuZGV2LW1vZGVsLWNvcmVcIikubGVuZ3RoICsgJChcIi5kZXYtbW9kZWwtbXZjXCIpLmxlbmd0aCkgPiAwKSB7XHJcbiAgICAgICAgc2V0Q29ycmVjdEZyYW1ld29yayh0cnVlKTtcclxuICAgICAgICBzZXREZXZGcmFtZXdvcmtCdXR0b25zKCk7XHJcbiAgICAgICAgc2V0RGV2RnJhbWV3b3JrQ2hlY2tib3goKTtcclxuICAgICAgICBzaG93RGV2RnJhbWV3b3JrU3dpdGNoZXIoKTtcclxuICAgICAgICBzZXRIb3ZlclRpdGxlcygpO1xyXG4gICAgfVxyXG59XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShzZXREZXZGcmFtZXdvcmtTd2l0Y2hlcik7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNDUk9MTElORyBBREpVU1RNRU5UUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgaW5pdFNpZGViYXIgPSBmdW5jdGlvbiBpbml0U2lkZWJhcigpIHtcclxuICAgIC8vIFNpZGViYXIgcGFnZSBsaW5rcyBhcmUgcmVuZGVyZWRcclxuICAgIGlmICgkKCcuaHQtbmF2LXBhZ2UtbGluaycpLmZpcnN0KCkgIT09IG51bGwpIHtcclxuICAgICAgICAvLyBDdXJyZW50IHBhZ2UgbGluayBleGlzdHNcclxuICAgICAgICAvLyBEb2VzIG5vdCBvY2N1ciBvbiBob21lcGFnZXNcclxuICAgICAgICBpZiAoJCgnLmh0LW5hdi1wYWdlLWxpbmsuY3VycmVudCcpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgJHNjcm9sbGFibGVDb250ZW50ID0gJChcImRpdi5odC1zaWRlYmFyLWNvbnRlbnRcIik7XHJcbiAgICAgICAgICAgIHZhciBoZWFkZXJIZWlnaHQgPSAkKCcjaHQtaGVhZGVyYmFyJykub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SXRlbVRvcCA9ICQoJy5odC1uYXYtcGFnZS1saW5rLmN1cnJlbnQnKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcblxyXG4gICAgICAgICAgICBpZiAoJCgnZGl2Lmh0LXNpZGViYXItY29udGVudCcpWzBdLnNjcm9sbFRvcCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgJHNjcm9sbGFibGVDb250ZW50LmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogTWF0aC5yb3VuZChjdXJyZW50SXRlbVRvcCAtIGhlYWRlckhlaWdodCAtICRzY3JvbGxhYmxlQ29udGVudC5vdXRlckhlaWdodCgpIC8gMi41KVxyXG4gICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9uY2Ugc2Nyb2xsZWQsIGFkZCBDU1MgYW5pbWF0aW9uIGNsYXNzXHJcbiAgICAgICAgICAgICQoJyNodC1zaWRlYmFyJykuYWRkQ2xhc3MoJ2FuaW1hdGUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGluaXRTaWRlYmFyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGluaXRTaWRlYmFyKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IENVU1RPTSBTRUFSQ0ggSU1QTEVNRU5UQVRJT04gPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gUHJlcGFyZXMgYSBzZWFyY2ggcmVxdWVzdCBhbmQgcmVkaXJlY3RzIHRvIHRoZSBmdWxsIHNlYXJjaCByZXN1bHRzIHBhZ2VcclxudmFyIGtlbnRpY29UaGVtZU9wZW5TZWFyY2hSZXN1bHRzUGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWFyY2hRdWVyeSA9ICQoJy5zZWFyY2gtaW5wdXQnKS52YWwoKTtcclxuXHJcbiAgICAvLyBFc2NhcGVzIGZvcmJpZGRlbiBjaGFyYWN0ZXJzXHJcbiAgICBzZWFyY2hRdWVyeSA9IGVuY29kZVVSSUNvbXBvbmVudChzZWFyY2hRdWVyeSk7XHJcblxyXG4gICAgLy8gU2V0cyB0aGUgbWF4IG51bWJlciBvZiBzZWFyY2ggcmVzdWx0cyBwZXIgcGFnZSB0byAxMFxyXG4gICAgc2VhcmNoUXVlcnkgPSBzZWFyY2hRdWVyeSArICcmbWF4PTEwJztcclxuXHJcbiAgICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgbGFiZWwgZmlsdGVyaW5nIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRldiBtb2RlbCBpcyBhbGxvd2VkXHJcbiAgICAvLyBUcnVlIGJ5IGRlZmF1bHQsIGZhbHNlIGlmIHRoZSAnU2hvdyByZXN1bHRzIGZvciBhbGwgZGV2IG1vZGVscycgY2hlY2tib3ggZXhpc3RzIChvbiB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZSkgYW5kIGlzIHNlbGVjdGVkXHJcbiAgICB2YXIgc2hvd0FsbFJlc3VsdHNDaGVja2JveEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NoZWNrLXNob3ctYWxsLXNlYXJjaC1yZXN1bHRzXCIpO1xyXG4gICAgdmFyIHVzZURldk1vZGVsRmlsdGVyaW5nID0gIShzaG93QWxsUmVzdWx0c0NoZWNrYm94RWxlbSAmJiBzaG93QWxsUmVzdWx0c0NoZWNrYm94RWxlbS5jaGVja2VkKTtcclxuXHJcbiAgICAvLyBDYWxscyB0aGUgVmlld1BvcnQgc2VhcmNoIHJlc3VsdHMgbmF2aWdhdGlvbiBmdW5jdGlvblxyXG4gICAgaWYgKHdpbmRvdy5TQ1JPTExfV0VCSEVMUCAmJiB3aW5kb3cuU0NST0xMX1dFQkhFTFAuc2VhcmNoKSB7XHJcbiAgICAgICAgd2luZG93LlNDUk9MTF9XRUJIRUxQLnNlYXJjaC5uYXZpZ2F0ZVRvU2VhcmNoUGFnZShzZWFyY2hRdWVyeSwgdXNlRGV2TW9kZWxGaWx0ZXJpbmcpO1xyXG5cclxuICAgICAgICAvLyBDbG9zZXMgdGhlIHNlYXJjaCBzdWdnZXN0aW9ucyBkcm9wLWRvd25cclxuICAgICAgICB2YXIgc2VhcmNoSW5wdXRFbGVtZW50aW5wdXQgPSAkKCcjaHQtc2VhcmNoJyk7XHJcbiAgICAgICAgc2VhcmNoSW5wdXRFbGVtZW50aW5wdXQuZmluZCgnLmh0LXNlYXJjaC1kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICAgLy8gUmVtb3ZlcyB0aGUgaG92ZXIgY2xhc3MgZnJvbSBpdGVtcyBzZWxlY3RlZCBpbiB0aGUgc2VhcmNoIGRyb3AtZG93blxyXG4gICAgICAgIHZhciBzZWxlY3RlZFNlYXJjaExpbmtFbGVtZW50ID0gJChcIi5odC1zZWFyY2gtZHJvcGRvd24gYS5ob3ZlclwiKTtcclxuICAgICAgICBzZWxlY3RlZFNlYXJjaExpbmtFbGVtZW50LnJlbW92ZUNsYXNzKFwiaG92ZXJcIik7XHJcbiAgICAgICAgJChkb2N1bWVudCkudW5iaW5kKCdrZXlkb3duJyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBTRUFSQ0ggQk9YIFNVR0dFU1RJT05TID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIFRvZ2dsZXMgdGhlIHNlYXJjaCBzdWdnZXN0aW9uIGRyb3AtZG93biBsaXN0IG9uIGNsaWNrXHJcbnZhciB0b2dnbGVTZWFyY2hTdWdnZXN0aW9ucyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIHNlYXJjaElucHV0ID0gJChcImlucHV0LnNlYXJjaC1pbnB1dFwiKTtcclxuICAgIHZhciBzZWFyY2hEcm9wZG93biA9ICQoXCIuaHQtc2VhcmNoLWRyb3Bkb3duXCIpO1xyXG4gICAgdmFyIHNlYXJjaEJ1dHRvbiA9ICQoXCIjc2VhcmNoQnV0dG9uXCIpO1xyXG4gICAgdmFyIHNlbGVjdGVkU2VhcmNoTGlua0VsZW1lbnQgPSAkKFwiLmh0LXNlYXJjaC1kcm9wZG93biBhLmhvdmVyXCIpO1xyXG5cclxuICAgIC8vIFJlbW92ZXMgdGhlIFwib3BlblwiIGNsYXNzIGlmIHRoZSB1c2VyIGNsaWNrZWQgb3V0c2lkZSB0aGUgc2VhcmNoIGRyb3AtZG93biBvciBmb3JtIGlucHV0XHJcbiAgICBpZiAoKCFzZWFyY2hJbnB1dC5pcyhldmVudC50YXJnZXQpICYmIHNlYXJjaElucHV0LmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkgJiZcclxuICAgICAgICAoIXNlYXJjaERyb3Bkb3duLmlzKGV2ZW50LnRhcmdldCkgJiYgc2VhcmNoRHJvcGRvd24uaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKVxyXG4gICAgKSB7XHJcbiAgICAgICAgc2VhcmNoRHJvcGRvd24ucmVtb3ZlQ2xhc3MoXCJvcGVuXCIpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmVzIHRoZSBob3ZlciBjbGFzcyBmcm9tIGl0ZW1zIHNlbGVjdGVkIGluIHRoZSBzZWFyY2ggZHJvcC1kb3duXHJcbiAgICAgICAgc2VsZWN0ZWRTZWFyY2hMaW5rRWxlbWVudC5yZW1vdmVDbGFzcyhcImhvdmVyXCIpO1xyXG5cclxuICAgICAgICAvLyBDb2xsYXBzZXMgdGhlIHNtYWxsIHNlYXJjaCBib3ggb24gc21hbGxlciBzY3JlZW5zXHJcbiAgICAgICAgaWYgKCghc2VhcmNoQnV0dG9uLmlzKGV2ZW50LnRhcmdldCkgJiYgc2VhcmNoQnV0dG9uLmhhcyhldmVudC50YXJnZXQpLmxlbmd0aCA9PT0gMCkgJiYgd2luZG93LmlubmVyV2lkdGggPD0gODAwICYmIHdpbmRvdy5pbm5lcldpZHRoID4gNDk5KSB7XHJcbiAgICAgICAgICAgIHNlYXJjaElucHV0LnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoJChcIi5odC1zZWFyY2gtZHJvcGRvd24gbGkuc2VhcmNoLWtleVwiKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgc2VhcmNoRHJvcGRvd24uYWRkQ2xhc3MoXCJvcGVuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbiQoZG9jdW1lbnQpLmNsaWNrKHRvZ2dsZVNlYXJjaFN1Z2dlc3Rpb25zKTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IEJJRyBTRUFSQ0ggQVJFQSAoSE9NRSArIFNFQVJDSCBQQUdFUykgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gSW5jcmVhc2VzIHRoZSB0b3AgcGFkZGluZyBvZiB0aGUgbWFpbiBwYWdlIGNvbnRlbnQgaWYgdGhlIGJpZyBzZWFyY2ggYXJlYSBpcyBwcmVzZW50XHJcbnZhciBzZXRDb250ZW50VG9wUGFkZGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWFyY2hib3hFbGVtZW50ID0gJChcIi5zZWFyY2hib3gtYXJlYS1iZWhpbmRcIikuZmlyc3QoKTtcclxuICAgIGlmIChzZWFyY2hib3hFbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICQoXCIuaHQtY29udGVudFwiKS5maXJzdCgpLmNzcyhcInBhZGRpbmctdG9wXCIsIHNlYXJjaGJveEVsZW1lbnQub3V0ZXJIZWlnaHQodHJ1ZSkgKyBcInB4XCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KHNldENvbnRlbnRUb3BQYWRkaW5nKTtcclxuJCh3aW5kb3cpLnJlc2l6ZShzZXRDb250ZW50VG9wUGFkZGluZyk7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBGT09URVIgPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gU2V0cyB0aGUgZm9vdGVyIHdpZHRoIGFuZCBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgbWFpbiBwYWdlIGNvbnRlbnQgc2VjdGlvblxyXG52YXIgc2V0Rm9vdGVyV2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIHZpZXdXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgIC8vIHZhciBmb290ZXJXaWR0aCA9ICQoXCIuaHQtY29udGVudFwiKS53aWR0aCgpO1xyXG4gICAgdmFyIGZvb3RlcldpZHRoID0gJChcIiNodC13cmFwLWNvbnRhaW5lclwiKS53aWR0aCgpO1xyXG4gICAgdmFyIGxlZnRQb3NpdGlvbiA9ICQoXCIjaHQtd3JhcC1jb250YWluZXJcIikub2Zmc2V0KCkubGVmdDtcclxuICAgIHZhciByaWdodFBhZGRpbmcgPSB2aWV3V2lkdGggLSBmb290ZXJXaWR0aCAtIGxlZnRQb3NpdGlvbjtcclxuXHJcbiAgICAkKFwiI2h0LWZvb3RlclwiKS5jc3Moe1xyXG4gICAgICAgIFwicmlnaHRcIjogLXJpZ2h0UGFkZGluZyxcclxuICAgICAgICBcInBhZGRpbmctcmlnaHRcIjogcmlnaHRQYWRkaW5nLFxyXG4gICAgICAgIFwibGVmdFwiOiAtbGVmdFBvc2l0aW9uLFxyXG4gICAgICAgIFwicGFkZGluZy1sZWZ0XCI6IGxlZnRQb3NpdGlvblxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShzZXRGb290ZXJXaWR0aCk7XHJcbiQod2luZG93KS5yZXNpemUoc2V0Rm9vdGVyV2lkdGgpO1xyXG5cclxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQ5MDExNTBcclxuLy8gLy8gQ2hlY2tzIGVsZW1lbnQgaGVpZ2h0IGNoYW5nZVxyXG5mdW5jdGlvbiBvbkVsZW1lbnRIZWlnaHRDaGFuZ2UoZWxtLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIGxhc3RIZWlnaHQgPSBlbG0uY2xpZW50SGVpZ2h0LCBuZXdIZWlnaHQ7XHJcbiAgICAoZnVuY3Rpb24gcnVuKCkge1xyXG4gICAgICAgIG5ld0hlaWdodCA9IGVsbS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgaWYgKGxhc3RIZWlnaHQgIT0gbmV3SGVpZ2h0KVxyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIGxhc3RIZWlnaHQgPSBuZXdIZWlnaHQ7XHJcblxyXG4gICAgICAgIGlmIChlbG0ub25FbGVtZW50SGVpZ2h0Q2hhbmdlVGltZXIpXHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChlbG0ub25FbGVtZW50SGVpZ2h0Q2hhbmdlVGltZXIpO1xyXG5cclxuICAgICAgICBlbG0ub25FbGVtZW50SGVpZ2h0Q2hhbmdlVGltZXIgPSBzZXRUaW1lb3V0KHJ1biwgMjAwKTtcclxuICAgIH0pKCk7XHJcbn1cclxuXHJcbm9uRWxlbWVudEhlaWdodENoYW5nZShkb2N1bWVudC5ib2R5LCBzZXRGb290ZXJXaWR0aCk7XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDT0RFIEJMT0NLUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRvZ2dsZXMgY29kZSBibG9jayBjb250ZW50XHJcbiQoXCJzcGFuLmV4cGFuZC1jb250cm9sXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb2RlQ29udGVudCA9ICQodGhpcykucGFyZW50KCkubmV4dCgpO1xyXG4gICAgdmFyIGV4cGFuZENvbnRyb2xUZXh0ID0gJCh0aGlzKS5maW5kKFwic3Bhbi5leHBhbmQtY29udHJvbC10ZXh0XCIpO1xyXG5cclxuICAgIGlmIChjb2RlQ29udGVudC5oYXNDbGFzcyhcImNvbGxhcHNlXCIpKSB7XHJcbiAgICAgICAgY29kZUNvbnRlbnQucmVtb3ZlQ2xhc3MoXCJjb2xsYXBzZVwiKTtcclxuICAgICAgICBleHBhbmRDb250cm9sVGV4dC50ZXh0KFwiQ29sbGFwc2Ugc291cmNlXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29kZUNvbnRlbnQuYWRkQ2xhc3MoXCJjb2xsYXBzZVwiKTtcclxuICAgICAgICBleHBhbmRDb250cm9sVGV4dC50ZXh0KFwiRXhwYW5kIHNvdXJjZVwiKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgdGhlIHVzZXIgaXMgc2lnbmVkLWluIGFuZCBpc24ndCB0eXBpbmcgaW4gdGhlIHNlYXJjaCBib3guXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBDb25mbHVlbmNlIElEIG9mIHRoZSBjdXJyZW50IHBhZ2Ugb3IgMFxyXG4gKi9cclxudmFyIGdldFBhZ2VJZElmRWRpdGluZ0FsbG93ZWQgPSBmdW5jdGlvbiBnZXRQYWdlSWRJZkVkaXRpbmdBbGxvd2VkKCkge1xyXG5cclxuICAgIHZhciBsZW5ndGggPSAkKFwiI3NwLXZpZXdwb3J0LWNvbnRyb2wtb3BlbmVyXCIpLmxlbmd0aDtcclxuICAgIHZhciBzZWFyY2hib3hGb2N1c2VkID0gJChcIi5zZWFyY2gtaW5wdXRcIikuaXMoXCI6Zm9jdXNcIik7XHJcblxyXG4gICAgaWYgKGxlbmd0aCAhPSAwICYmICFzZWFyY2hib3hGb2N1c2VkKVxyXG4gICAge1xyXG4gICAgICAgIHZhciBwYWdlSWQgPSAkKFwiYm9keVwiKS5hdHRyKFwicGFnZWlkXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFnZUlkID8gcGFnZUlkIDogMDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gMDtcclxufTtcclxuXHJcblxyXG4vKipcclxuICogIE9wZW5zIGEgbGluayBpbiB0aGUgc2FtZS9uZXcgdGFiIGJhc2VkIG9uIHRoZSBwYXJhbWV0ZXJzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgVVJMIHRvIG9wZW5cclxuICogQHBhcmFtIHtib29sZWFufSBuZXdUYWIgLSBTcGVjaWZpZXMgd2hldGhlciB0byBvcGVuIHRoZSBVUkwgaW4gYSBuZXcgdGFiXHJcbiAqL1xyXG4gZnVuY3Rpb24gb3BlbkxpbmsodXJsLCBuZXdUYWIpIHtcclxuICAgIGlmIChuZXdUYWIpIHtcclxuICAgICAgICB2YXIgd2luID0gd2luZG93Lm9wZW4odXJsLCBcIl9ibGFua1wiKTtcclxuICAgICAgICB3aW4uZm9jdXMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2luZG93Lm9wZW4odXJsLCBcIl9zZWxmXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PSBFTVBUWSA8cD4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gSGlkZXMgcGFyYWdyYXBocyBjb250YWluaW5nIG9ubHkgd2hpdGVzcGFjZVxyXG4kKCdwJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCh0aGlzKS50ZXh0KCkudHJpbSgpID09ICcnICYmICQodGhpcykuY2hpbGRyZW4oKS5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICQodGhpcykuaGlkZSgpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNIT1cgU0VBUkNIIFRJUFMgPT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgc2hvd0hpZGVTZWFyY2hUaXBzID0gZnVuY3Rpb24gc2hvd0hpZGVTZWFyY2hUaXBzKCkge1xyXG4gICAgaWYgKCQoXCIjc2VhcmNoLXRpcHNcIikuaGFzQ2xhc3MoXCJzaG93XCIpKSB7XHJcbiAgICAgICAgaGlkZUZyb250TGF5ZXIoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHNob3dGcm9udExheWVyKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxudmFyIHNob3dGcm9udExheWVyID0gZnVuY3Rpb24gc2hvd0Zyb250TGF5ZXIoKSB7XHJcbiAgICAkKFwiI3NlYXJjaC10aXBzXCIpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtdGlwcy1tYXNrJykuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtdGlwcycpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XHJcbn07XHJcblxyXG5cclxudmFyIGhpZGVGcm9udExheWVyID0gZnVuY3Rpb24gaGlkZUZyb250TGF5ZXIoKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLXRpcHMtbWFzaycpLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtdGlwcycpLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcclxuICAgICQoXCIjc2VhcmNoLXRpcHNcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG59O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBDb29raWUgQmFubmVyID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBjcmVhdGVDb29raWUgPSBmdW5jdGlvbiBjcmVhdGVDb29raWUobmFtZSwgdmFsdWUsIGRheXMsIGRvbWFpbikge1xyXG4gICAgdmFyIGRvbWFpbiA9IFwiOyBkb21haW49XCIgKyBkb21haW47XHJcbiAgICB2YXIgZXhwaXJlcztcclxuXHJcbiAgICBpZiAoZGF5cykge1xyXG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgICAgICBleHBpcmVzID0gXCI7IGV4cGlyZXM9XCIgKyBkYXRlLnRvVVRDU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGV4cGlyZXMgPSBcIlwiO1xyXG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPVwiICsgdmFsdWUgKyBleHBpcmVzICsgXCI7IHBhdGg9L1wiICsgZG9tYWluO1xyXG59O1xyXG5cclxuXHJcbnZhciBlcmFzZUNvb2tpZSA9IGZ1bmN0aW9uIGVyYXNlQ29va2llKG5hbWUpIHtcclxuICAgIGNyZWF0ZUNvb2tpZShuYW1lLCBcIlwiLCAtMSwgXCJcIik7XHJcbn07XHJcblxyXG5cclxuLy8gU2V0cyB0aGUgc2hhcmVkIGNvb2tpZSBhbmQgaGlkZXMgdGhlIGNvb2tpZSBiYW5uZXJcclxudmFyIGNvbnNlbnRXaXRoQ29va2llVXNhZ2UgPSBmdW5jdGlvbiBjb25zZW50V2l0aENvb2tpZVVzYWdlKCkge1xyXG4gICAgJChcIiNjb29raWUtYmFubmVyXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgLy8gVXNlIGRvbWFpbiBcIi54cGVyaWVuY2UuaW9cIiB0byBzaGFyZSB0aGUgY29va2llIHdpdGggeHBlcmllbmNlLmlvIGFuZCBhbGwgc3ViZG9tYWluc1xyXG4gICAgY3JlYXRlQ29va2llKFwieHBlcmllbmNlLmNvb2tpZWxldmVsc2VsZWN0aW9uXCIsIHRydWUsIDM2NSwgXCIueHBlcmllbmNlLmlvXCIpO1xyXG59O1xyXG5cclxuXHJcbnZhciBoaWRlQ29va2llQ29uc2VudEJhbm5lciA9IGZ1bmN0aW9uIGhpZGVDb29raWVDb25zZW50QmFubmVyKCkge1xyXG4gICAgdmFyIGNvb2tpZVZhbHVlID0gZG9jdW1lbnQuY29va2llLnJlcGxhY2UoLyg/Oig/Ol58Lio7XFxzKil4cGVyaWVuY2UuY29va2llbGV2ZWxzZWxlY3Rpb25cXHMqXFw9XFxzKihbXjtdKikuKiQpfF4uKiQvLCBcIiQxXCIpO1xyXG4gICAgaWYgKGNvb2tpZVZhbHVlIHx8ICFuYXZpZ2F0b3IuY29va2llRW5hYmxlZCkge1xyXG4gICAgICAgICQoXCIjY29va2llLWJhbm5lclwiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIFNldHMgdGhlIHBhc3NlZCBjb29raWUgbGV2ZWwgdG8gdGhlIHNoYXJlZCBjb29raWUgYW5kIHVwZGF0ZXMgdGhlIGNvbnNlbnQgdG8gR0EvR1RNIChjYWxsZWQgZnJvbSB0aGUgY29va2llIGJhbm5lciBhZnRlciBjbGlja2luZyBhIGJ1dHRvbilcclxudmFyIHNldENvb2tpZUxldmVsID0gZnVuY3Rpb24gc2V0Q29va2llTGV2ZWwobGV2ZWwpIHtcclxuICAgIHZhciBsZXZlbCA9IGxldmVsO1xyXG5cclxuICAgIGlmIChsZXZlbCA9PT0gXCJtYXJrZXRpbmdcIikgeyAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkXHJcbiAgICAgICAgbGV2ZWwgPSA0O1xyXG4gICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gXCJhbmFseXRpY2FsXCIpIHtcclxuICAgICAgICBsZXZlbCA9IDM7XHJcbiAgICB9IGVsc2UgaWYgKGxldmVsID09PSBcInByZWZlcmVuY2VcIikgeyAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkXHJcbiAgICAgICAgbGV2ZWwgPSAyO1xyXG4gICAgfSBlbHNlIHsgLy8gPT09IFwibmVjZXNzYXJ5XCJcclxuICAgICAgICBsZXZlbCA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc2VudFdpdGhDb29raWVVc2FnZSgpO1xyXG4gICAgLy8gVXNlIGRvbWFpbiBcIi54cGVyaWVuY2UuaW9cIiB0byBzaGFyZSB0aGUgY29va2llIHdpdGggeHBlcmllbmNlLmlvIGFuZCBhbGwgc3ViZG9tYWluc1xyXG4gICAgY3JlYXRlQ29va2llKFwieHBlcmllbmNlLmNvb2tpZWNvbnNlbnRsZXZlbFwiLCBsZXZlbCwgMzY1LCBcIi54cGVyaWVuY2UuaW9cIik7XHJcblxyXG4gICAgLy8gU2VuZCAnY29uc2VudC51cGRhdGUnXHJcbiAgICBpZiAobGV2ZWwgPT09IDEpIHtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgICAgICAnZXZlbnQnOiAnY29uc2VudC51cGRhdGUnLFxyXG4gICAgICAgICAgICAnY29uc2VudCc6IHtcclxuICAgICAgICAgICAgJ2Z1bmN0aW9uYWxpdHlfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ3BlcnNvbmFsaXphdGlvbl9zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdhbmFseXRpY3Nfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAnYWRfc3RvcmFnZSc6ICdkZW5pZWQnLFxyXG4gICAgICAgICAgICAnc2VjdXJpdHlfc3RvcmFnZSc6ICdkZW5pZWQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09IDMpIHtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyID0gd2luZG93LmRhdGFMYXllciB8fCBbXTtcclxuICAgICAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgICAgICAnZXZlbnQnOiAnY29uc2VudC51cGRhdGUnLFxyXG4gICAgICAgICAgICAnY29uc2VudCc6IHtcclxuICAgICAgICAgICAgJ2Z1bmN0aW9uYWxpdHlfc3RvcmFnZSc6ICdncmFudGVkJyxcclxuICAgICAgICAgICAgJ3BlcnNvbmFsaXphdGlvbl9zdG9yYWdlJzogJ2dyYW50ZWQnLFxyXG4gICAgICAgICAgICAnYW5hbHl0aWNzX3N0b3JhZ2UnOiAnZ3JhbnRlZCcsXHJcbiAgICAgICAgICAgICdhZF9zdG9yYWdlJzogJ2RlbmllZCcsXHJcbiAgICAgICAgICAgICdzZWN1cml0eV9zdG9yYWdlJzogJ2RlbmllZCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufTtcclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIGhpZGVDb29raWVDb25zZW50QmFubmVyKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gSGVhZGluZyBhbmNob3IgbGluayBjbGlwYm9hcmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIGNvcHlIZWFkaW5nTGluayA9IGZ1bmN0aW9uIGNvcHlIZWFkaW5nTGluayhlKSB7XHJcblx0dmFyIGNsaWNrZWRJY29uID0gJChlLnRhcmdldCk7XHJcblx0XHJcblx0Ly8gQnVpbGRzIHRoZSBoZWFkaW5nIGFuY2hvciBsaW5rXHJcblx0dmFyIGFuY2hvckxpbmsgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgJyMnICsgY2xpY2tlZEljb24ucGFyZW50KCkuYXR0cignaWQnKTtcclxuXHRcclxuXHRpZiAobmF2aWdhdG9yLmNsaXBib2FyZCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRTbmFja2Jhci5zaG93KHt0ZXh0OiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgaGVhZGluZyBsaW5rIHRvIHRoZSBjbGlwYm9hcmQnLCBwb3M6ICd0b3AtcmlnaHQnLCBzaG93QWN0aW9uOiBmYWxzZSwgY3VzdG9tQ2xhc3M6ICdib3gtZ2VuZXJhbCBib3gtd2FybmluZycsIGR1cmF0aW9uOiAnMzUwMCcsIGJhY2tncm91bmRDb2xvcjogJyNGRkVCRUInLCB0ZXh0Q29sb3I6JyMxNTE1MTUnIH0pO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChhbmNob3JMaW5rKVxyXG5cdFx0XHQudGhlbigoKSA9PiB7XHRcdFx0XHRcclxuXHRcdFx0XHRTbmFja2Jhci5zaG93KHt0ZXh0OiAnSGVhZGluZyBsaW5rIGNvcGllZCcsIHBvczogJ3RvcC1yaWdodCcsIHNob3dBY3Rpb246IGZhbHNlLCBjdXN0b21DbGFzczogJ2JveC1nZW5lcmFsIGJveC1pbmZvJywgZHVyYXRpb246ICcyNTAwJywgYmFja2dyb3VuZENvbG9yOiAnI0VFRjNGQycsIHRleHRDb2xvcjonIzE1MTUxNScgfSk7XHJcbiAgICAgICAgICAgICAgICBjbGlja2VkSWNvbi5hZGRDbGFzcygnY29waWVkJyk7XHJcbiAgICAgICAgICAgIH0pXHJcblx0XHRcdC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBTbmFja2Jhci5zaG93KHt0ZXh0OiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY29weWluZyB0aGUgaGVhZGluZyBsaW5rIHRvIHRoZSBjbGlwYm9hcmQnLCBwb3M6ICd0b3AtcmlnaHQnLCBzaG93QWN0aW9uOiBmYWxzZSwgY3VzdG9tQ2xhc3M6ICdib3gtZ2VuZXJhbCBib3gtd2FybmluZycsIGR1cmF0aW9uOiAnMzUwMCcsIGJhY2tncm91bmRDb2xvcjogJyNGRkVCRUInLCB0ZXh0Q29sb3I6JyMxNTE1MTUnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBSZXNldHMgdGhlIGNvcHkgaWNvbiBvbiBtb3VzZW91dFxyXG52YXIgY29weUljb25Nb3VzZU91dCA9IGZ1bmN0aW9uIGNvcHlJY29uTW91c2VPdXQoZSkge1xyXG5cdHZhciBjbGlja2VkSWNvbiA9ICQoZS50YXJnZXQpO1xyXG5cdGlmIChjbGlja2VkSWNvbi5oYXNDbGFzcygnY29waWVkJykpIHtcdFxyXG4gICAgICAgIGNsaWNrZWRJY29uLnJlbW92ZUNsYXNzKCdjb3BpZWQnKTtcclxuICAgIH1cclxufTtcclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHR2YXIgY29weUhlYWRpbmdMaW5rSWNvbiA9ICc8c3BhbiB0aXRsZT1cIkNvcHkgbGluayB0byBoZWFkaW5nXCIgY2xhc3M9XCJoZWFkaW5nLWxpbmstaWNvbiBpY29uLWNoYWluXCIgb25jbGljaz1cImNvcHlIZWFkaW5nTGluayhldmVudClcIiBvbm1vdXNlb3V0PVwiY29weUljb25Nb3VzZU91dChldmVudClcIj48L3NwYW4+JztcclxuXHRcclxuXHQvLyBTZWxlY3RvciBmb3IgaDIgYW5kIGgzIGhlYWRpbmdzIGluIHN0YW5kYXJkIENvbmZsdWVuY2UgY29udGVudCAobm8gc2VjdGlvbiwgZnVsbC13aWR0aCBzZWN0aW9uLCBhbmQgMi8zIHNlY3Rpb24gY29udGVudClcclxuXHR2YXIgaGVhZGluZ0VsZW1lbnRzID0gJyNtYWluLWNvbnRlbnQgLnNwLWdyaWQtNjAgaDIsICNtYWluLWNvbnRlbnQgLnNwLWdyaWQtMTAwIGgyLCAjbWFpbi1jb250ZW50IC5zcC1ncmlkLTYwIGgzLCAjbWFpbi1jb250ZW50IC5zcC1ncmlkLTEwMCBoMyc7XHJcblx0XHJcblx0Ly8gRmlsdGVycyBvdXQgaGVhZGluZ3MgaW4gYm94IG1hY3JvcyBhbmQgaGVhZGluZ3MgY29udGFpbmluZyBsaW5rc1xyXG5cdC8vIEFwcGVuZHMgdGhlIFwiQ29weSBoZWFkaW5nIGxpbmtcIiBpY29uIHRvIHRoZSBoZWFkaW5nIGNvbnRlbnRcclxuXHQkKGhlYWRpbmdFbGVtZW50cykubm90KCdkaXYuYm94LWdlbmVyYWwgaDIsIGRpdi5ib3gtZ2VuZXJhbCBoMywgaDI6aGFzKGEpLCBoMzpoYXMoYSknKS5hcHBlbmQoY29weUhlYWRpbmdMaW5rSWNvbik7XHJcbn0pKCk7ICJdfQ==
