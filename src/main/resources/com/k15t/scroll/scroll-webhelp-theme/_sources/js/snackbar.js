function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)
/*!
 * Snackbar v0.1.14
 * http://polonel.com/Snackbar
 *
 * Copyright 2018 Chris Brame and other contributors
 * Released under the MIT license
 * https://github.com/polonel/Snackbar/blob/master/LICENSE
 */}!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],(function(){return t.Snackbar=e()})):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t.Snackbar=e():t.Snackbar=e()}(this,(function(){var t={current:null},e={text:"Default Text",textColor:"#FFFFFF",width:"auto",showAction:!0,actionText:"Dismiss",actionTextAria:"Dismiss, Description for Screen Readers",alertScreenReader:!1,actionTextColor:"#4CAF50",showSecondButton:!1,secondButtonText:"",secondButtonAria:"Description for Screen Readers",secondButtonTextColor:"#4CAF50",backgroundColor:"#323232",pos:"bottom-left",duration:5e3,customClass:"",onActionClick:function(t){t.style.opacity=0},onSecondButtonClick:function(t){},onClose:function(t){}};t.show=function(o){var r=n(!0,e,o);t.current&&(t.current.style.opacity=0,setTimeout(function(){var t=this.parentElement;t&&t.removeChild(this)}.bind(t.current),500)),t.snackbar=document.createElement("div"),t.snackbar.className="snackbar-container "+r.customClass,t.snackbar.style.width=r.width;var c=document.createElement("p");if(c.style.margin=0,c.style.padding=0,c.style.color=r.textColor,c.style.lineHeight="1em",c.innerHTML=r.text,t.snackbar.appendChild(c),t.snackbar.style.background=r.backgroundColor,r.showSecondButton){var a=document.createElement("button");a.className="action",a.innerHTML=r.secondButtonText,a.setAttribute("aria-label",r.secondButtonAria),a.style.color=r.secondButtonTextColor,a.addEventListener("click",(function(){r.onSecondButtonClick(t.snackbar)})),t.snackbar.appendChild(a)}if(r.showAction){var i=document.createElement("button");i.className="action",i.innerHTML=r.actionText,i.setAttribute("aria-label",r.actionTextAria),i.style.color=r.actionTextColor,i.addEventListener("click",(function(){r.onActionClick(t.snackbar)})),t.snackbar.appendChild(i)}r.duration&&setTimeout(function(){t.current===this&&(t.current.style.opacity=0,t.current.style.top="-100px",t.current.style.bottom="-100px")}.bind(t.snackbar),r.duration),r.alertScreenReader&&t.snackbar.setAttribute("role","alert"),t.snackbar.addEventListener("transitionend",function(e,n){"opacity"===e.propertyName&&"0"===this.style.opacity&&("function"==typeof r.onClose&&r.onClose(this),this.parentElement.removeChild(this),t.current===this&&(t.current=null))}.bind(t.snackbar)),t.current=t.snackbar,document.body.appendChild(t.snackbar);getComputedStyle(t.snackbar).bottom,getComputedStyle(t.snackbar).top;t.snackbar.style.opacity=1,t.snackbar.className="snackbar-container "+r.customClass+" snackbar-pos "+r.pos},t.close=function(){t.current&&(t.current.style.opacity=0)};var n=function t(){var e={},n=!1,o=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],o++);for(var c=function(o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n&&"[object Object]"===Object.prototype.toString.call(o[r])?e[r]=t(!0,e[r],o[r]):e[r]=o[r])};o<r;o++){c(arguments[o])}return e};return t}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNuYWNrYmFyLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiU25hY2tiYXIiLCJtb2R1bGUiLCJfdHlwZW9mIiwiZXhwb3J0cyIsInRoaXMiLCIkZGVmYXVsdHMiLCJ0ZXh0IiwidGV4dENvbG9yIiwid2lkdGgiLCJzaG93QWN0aW9uIiwiYWN0aW9uVGV4dCIsImFjdGlvblRleHRBcmlhIiwiYWxlcnRTY3JlZW5SZWFkZXIiLCJhY3Rpb25UZXh0Q29sb3IiLCJzaG93U2Vjb25kQnV0dG9uIiwic2Vjb25kQnV0dG9uVGV4dCIsInNlY29uZEJ1dHRvbkFyaWEiLCJzZWNvbmRCdXR0b25UZXh0Q29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwb3MiLCJkdXJhdGlvbiIsImN1c3RvbUNsYXNzIiwib25BY3Rpb25DbGljayIsImVsZW1lbnQiLCJvcGFjaXR5Iiwib25TZWNvbmRCdXR0b25DbGljayIsIm9uQ2xvc2UiLCJvcHRpb25zIiwiRXh0ZW5kIiwiJG9wdGlvbnMiLCJjdXJyZW50Iiwic2V0VGltZW91dCIsIiRwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzbmFja2JhciIsImNsYXNzTmFtZSIsInN0eWxlIiwiY29sb3IiLCIkcCIsImxpbmVIZWlnaHQiLCJpbm5lckhUTUwiLCJwYWRkaW5nIiwiYXBwZW5kQ2hpbGQiLCJzZWNvbmRCdXR0b24iLCJzZXRBdHRyaWJ1dGUiLCJiYWNrZ3JvdW5kIiwiYWN0aW9uQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvcCIsImJvdHRvbSIsImJpbmQiLCIkYm90dG9tIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImNsb3NlIiwiZXZlbnQiLCJlbGFwc2VkIiwicHJvcGVydHlOYW1lIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwiYm9keSIsInByb3AiLCJleHRlbmRlZCIsImRlZXAiLCJs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QyxVQUFVQyxTQUFTQyxLQUFLUyxFQUFJUCxJQUMzQ0MsRUFBU0QsR0FBUXJDLEdBQU8sRUFBTXNDLEVBQVNELEdBQU9PLEVBQUlQLElBRWxEQyxFQUFTRCxHQUFRTyxFQUFJUCxHQUlyQyxFQUVPSyxFQUFJRixFQUFRRSxJQUFLLENBRXBCQyxFQURVRixVQUFVQyxHQUV4QixDQUVBLE9BQU9KLENBQ1gsRUFFQSxPQUFPbEUsQ0FDWCIsImZpbGUiOiJzbmFja2Jhci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogU25hY2tiYXIgdjAuMS4xNFxuICogaHR0cDovL3BvbG9uZWwuY29tL1NuYWNrYmFyXG4gKlxuICogQ29weXJpZ2h0IDIwMTggQ2hyaXMgQnJhbWUgYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcG9sb25lbC9TbmFja2Jhci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKi9cblxuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKHJvb3QuU25hY2tiYXIgPSBmYWN0b3J5KCkpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gcm9vdC5TbmFja2JhciA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LlNuYWNrYmFyID0gZmFjdG9yeSgpO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBTbmFja2JhciA9IHt9O1xuXG4gICAgU25hY2tiYXIuY3VycmVudCA9IG51bGw7XG4gICAgdmFyICRkZWZhdWx0cyA9IHtcbiAgICAgICAgdGV4dDogJ0RlZmF1bHQgVGV4dCcsXG4gICAgICAgIHRleHRDb2xvcjogJyNGRkZGRkYnLFxuICAgICAgICB3aWR0aDogJ2F1dG8nLFxuICAgICAgICBzaG93QWN0aW9uOiB0cnVlLFxuICAgICAgICBhY3Rpb25UZXh0OiAnRGlzbWlzcycsXG4gICAgICAgIGFjdGlvblRleHRBcmlhOiAnRGlzbWlzcywgRGVzY3JpcHRpb24gZm9yIFNjcmVlbiBSZWFkZXJzJyxcbiAgICAgICAgYWxlcnRTY3JlZW5SZWFkZXI6IGZhbHNlLFxuICAgICAgICBhY3Rpb25UZXh0Q29sb3I6ICcjNENBRjUwJyxcbiAgICAgICAgc2hvd1NlY29uZEJ1dHRvbjogZmFsc2UsXG4gICAgICAgIHNlY29uZEJ1dHRvblRleHQ6ICcnLFxuICAgICAgICBzZWNvbmRCdXR0b25BcmlhOiAnRGVzY3JpcHRpb24gZm9yIFNjcmVlbiBSZWFkZXJzJyxcbiAgICAgICAgc2Vjb25kQnV0dG9uVGV4dENvbG9yOiAnIzRDQUY1MCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzMjMyMzInLFxuICAgICAgICBwb3M6ICdib3R0b20tbGVmdCcsXG4gICAgICAgIGR1cmF0aW9uOiA1MDAwLFxuICAgICAgICBjdXN0b21DbGFzczogJycsXG4gICAgICAgIG9uQWN0aW9uQ2xpY2s6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIG9uU2Vjb25kQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uKGVsZW1lbnQpIHt9LFxuICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbihlbGVtZW50KSB7fVxuICAgIH07XG5cbiAgICBTbmFja2Jhci5zaG93ID0gZnVuY3Rpb24oJG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBFeHRlbmQodHJ1ZSwgJGRlZmF1bHRzLCAkb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKFNuYWNrYmFyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIFNuYWNrYmFyLmN1cnJlbnQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHBhcmVudCA9IHRoaXMucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRwYXJlbnQpXG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc3NpYmxlIG51bGwgaWYgdG9vIG1hbnkvZmFzdCBTbmFja2JhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKFNuYWNrYmFyLmN1cnJlbnQpLFxuICAgICAgICAgICAgICAgIDUwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFNuYWNrYmFyLnNuYWNrYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIFNuYWNrYmFyLnNuYWNrYmFyLmNsYXNzTmFtZSA9ICdzbmFja2Jhci1jb250YWluZXIgJyArIG9wdGlvbnMuY3VzdG9tQ2xhc3M7XG4gICAgICAgIFNuYWNrYmFyLnNuYWNrYmFyLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgdmFyICRwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgICAkcC5zdHlsZS5tYXJnaW4gPSAwO1xuICAgICAgICAkcC5zdHlsZS5wYWRkaW5nID0gMDtcbiAgICAgICAgJHAuc3R5bGUuY29sb3IgPSBvcHRpb25zLnRleHRDb2xvcjtcbiAgICAgICAgLy8gQ1VTVE9NIC0gZGlzYWJsZXMgdGhlIGRlZmF1bHQgZm9udCBvcHRpb25zXG5cdFx0LyokcC5zdHlsZS5mb250U2l6ZSA9ICcxNHB4JztcbiAgICAgICAgJHAuc3R5bGUuZm9udFdlaWdodCA9IDMwMDsqL1xuICAgICAgICAkcC5zdHlsZS5saW5lSGVpZ2h0ID0gJzFlbSc7XG4gICAgICAgICRwLmlubmVySFRNTCA9IG9wdGlvbnMudGV4dDtcbiAgICAgICAgU25hY2tiYXIuc25hY2tiYXIuYXBwZW5kQ2hpbGQoJHApO1xuICAgICAgICBTbmFja2Jhci5zbmFja2Jhci5zdHlsZS5iYWNrZ3JvdW5kID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1NlY29uZEJ1dHRvbikge1xuICAgICAgICAgICAgdmFyIHNlY29uZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgc2Vjb25kQnV0dG9uLmNsYXNzTmFtZSA9ICdhY3Rpb24nO1xuICAgICAgICAgICAgc2Vjb25kQnV0dG9uLmlubmVySFRNTCA9IG9wdGlvbnMuc2Vjb25kQnV0dG9uVGV4dDtcbiAgICAgICAgICAgIHNlY29uZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBvcHRpb25zLnNlY29uZEJ1dHRvbkFyaWEpO1xuICAgICAgICAgICAgc2Vjb25kQnV0dG9uLnN0eWxlLmNvbG9yID0gb3B0aW9ucy5zZWNvbmRCdXR0b25UZXh0Q29sb3I7XG4gICAgICAgICAgICBzZWNvbmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm9uU2Vjb25kQnV0dG9uQ2xpY2soU25hY2tiYXIuc25hY2tiYXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBTbmFja2Jhci5zbmFja2Jhci5hcHBlbmRDaGlsZChzZWNvbmRCdXR0b24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0FjdGlvbikge1xuICAgICAgICAgICAgdmFyIGFjdGlvbkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmNsYXNzTmFtZSA9ICdhY3Rpb24nO1xuICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmlubmVySFRNTCA9IG9wdGlvbnMuYWN0aW9uVGV4dDtcbiAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBvcHRpb25zLmFjdGlvblRleHRBcmlhKTtcbiAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5zdHlsZS5jb2xvciA9IG9wdGlvbnMuYWN0aW9uVGV4dENvbG9yO1xuICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5vbkFjdGlvbkNsaWNrKFNuYWNrYmFyLnNuYWNrYmFyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgU25hY2tiYXIuc25hY2tiYXIuYXBwZW5kQ2hpbGQoYWN0aW9uQnV0dG9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoU25hY2tiYXIuY3VycmVudCA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgU25hY2tiYXIuY3VycmVudC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gbmF0dXJhbCByZW1vdmUgZXZlbnQgb2NjdXJzIGxldCdzIG1vdmUgdGhlIHNuYWNrYmFyIHRvIGl0cyBvcmlnaW5zXG4gICAgICAgICAgICAgICAgICAgICAgICBTbmFja2Jhci5jdXJyZW50LnN0eWxlLnRvcCA9ICctMTAwcHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgU25hY2tiYXIuY3VycmVudC5zdHlsZS5ib3R0b20gPSAnLTEwMHB4JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZChTbmFja2Jhci5zbmFja2JhciksXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmFsZXJ0U2NyZWVuUmVhZGVyKSB7XG4gICAgICAgICAgIFNuYWNrYmFyLnNuYWNrYmFyLnNldEF0dHJpYnV0ZSgncm9sZScsICdhbGVydCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgU25hY2tiYXIuc25hY2tiYXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50LCBlbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnByb3BlcnR5TmFtZSA9PT0gJ29wYWNpdHknICYmIHRoaXMuc3R5bGUub3BhY2l0eSA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob3B0aW9ucy5vbkNsb3NlKSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25DbG9zZSh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChTbmFja2Jhci5jdXJyZW50ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTbmFja2Jhci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZChTbmFja2Jhci5zbmFja2JhcilcbiAgICAgICAgKTtcblxuICAgICAgICBTbmFja2Jhci5jdXJyZW50ID0gU25hY2tiYXIuc25hY2tiYXI7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChTbmFja2Jhci5zbmFja2Jhcik7XG4gICAgICAgIHZhciAkYm90dG9tID0gZ2V0Q29tcHV0ZWRTdHlsZShTbmFja2Jhci5zbmFja2JhcikuYm90dG9tO1xuICAgICAgICB2YXIgJHRvcCA9IGdldENvbXB1dGVkU3R5bGUoU25hY2tiYXIuc25hY2tiYXIpLnRvcDtcbiAgICAgICAgU25hY2tiYXIuc25hY2tiYXIuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIFNuYWNrYmFyLnNuYWNrYmFyLmNsYXNzTmFtZSA9XG4gICAgICAgICAgICAnc25hY2tiYXItY29udGFpbmVyICcgKyBvcHRpb25zLmN1c3RvbUNsYXNzICsgJyBzbmFja2Jhci1wb3MgJyArIG9wdGlvbnMucG9zO1xuICAgIH07XG5cbiAgICBTbmFja2Jhci5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoU25hY2tiYXIuY3VycmVudCkge1xuICAgICAgICAgICAgU25hY2tiYXIuY3VycmVudC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBQdXJlIEpTIEV4dGVuZFxuICAgIC8vIGh0dHA6Ly9nb21ha2V0aGluZ3MuY29tL3ZhbmlsbGEtamF2YXNjcmlwdC12ZXJzaW9uLW9mLWpxdWVyeS1leHRlbmQvXG4gICAgdmFyIEV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZXh0ZW5kZWQgPSB7fTtcbiAgICAgICAgdmFyIGRlZXAgPSBmYWxzZTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50c1swXSkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJykge1xuICAgICAgICAgICAgZGVlcCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtZXJnZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZXAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9ialtwcm9wXSkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmRlZFtwcm9wXSA9IEV4dGVuZCh0cnVlLCBleHRlbmRlZFtwcm9wXSwgb2JqW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZGVkW3Byb3BdID0gb2JqW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBtZXJnZShvYmopO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dGVuZGVkO1xuICAgIH07XG5cbiAgICByZXR1cm4gU25hY2tiYXI7XG59KTtcbiJdfQ==
